(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2da2748c"],{"0636":function(t,n,e){t.exports=e.p+"img/tog_15.1f7bb44b.svg"},"0768":function(t,n,e){t.exports=e.p+"img/tog_17.6d3efb0a.svg"},"07cb":function(t,n,e){t.exports=e.p+"img/tog_12.eb4b8e89.svg"},"0a8a":function(t,n,e){t.exports=e.p+"img/tog_41.e54c1e63.svg"},"0c74":function(t,n,e){t.exports=e.p+"img/tog_9.63ff7127.svg"},1048:function(t,n,e){},"11f9":function(t,n,e){t.exports=e.p+"img/finish.c82022e3.svg"},"138d":function(t,n,e){"use strict";e.d(n,"d",(function(){return c})),e.d(n,"c",(function(){return u})),e.d(n,"b",(function(){return l})),e.d(n,"a",(function(){return p}));var i=e("c7eb"),s=e("1da1"),o=(e("caad"),e("14d9"),e("e9c4"),e("b64b"),e("d3b7"),e("2532"),e("159b"),e("1450")),r=e("262e"),a="wiki_my_roles";function c(){return g.apply(this,arguments)}function g(){return g=Object(s["a"])(Object(i["a"])().mark((function t(){var n,e,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=function(){return e=Object(s["a"])(Object(i["a"])().mark((function t(){var n,e,s,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["a"])();case 2:return s=t.sent,r=(null===(n=s.data)||void 0===n||null===(e=n.data)||void 0===e?void 0:e.list)||[],sessionStorage.setItem(a,JSON.stringify(r||[])),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)}))),e.apply(this,arguments)},n=function(){return e.apply(this,arguments)},r=[],!sessionStorage.getItem(a)){t.next=7;break}r=JSON.parse(sessionStorage.getItem(a)),t.next=10;break;case 7:return t.next=9,n();case 9:r=t.sent;case 10:return t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}function u(t){return f.apply(this,arguments)}function f(){return f=Object(s["a"])(Object(i["a"])().mark((function t(n){var e,s,o,a,c,g,u,f;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["m"])(n);case 2:return g=t.sent,u=!(null===(e=g.data)||void 0===e||null===(s=e.data)||void 0===s||!s.jx3id),f=null===(o=(null===(a=g.data)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.achievements)||"")||void 0===o?void 0:o.split(","),t.abrupt("return",{isSync:u,list:f});case 6:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}var v="wiki_achievement_points";function l(t){return d.apply(this,arguments)}function d(){return d=Object(s["a"])(Object(i["a"])().mark((function t(n){var e,s,o,a,c,g,u,f;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["i"])({general:1,client:n||"std"});case 2:return c=t.sent,t.next=5,Object(r["b"])();case 5:return g=t.sent,u=(null===(e=c.data)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.menus)||[],f=(null===(o=g.data)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.points)||[],sessionStorage.setItem(v,JSON.stringify(f||[])),t.abrupt("return",{menuList:u,pointsList:f});case 10:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function p(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{allPoints:0,ownPoints:0},o=[];try{o=JSON.parse(sessionStorage.getItem(v))}catch(r){}return t.achievements.forEach((function(t){Array.isArray(t)?t.forEach((function(t){o[t]&&(s.allPoints+=o[t],e.push(t),n.includes(String(t))&&(s.ownPoints+=o[t],i.push(t)))})):o[t]&&(s.allPoints+=o[t],e.push(t),n.includes(String(t))&&(s.ownPoints+=o[t],i.push(t)))})),t.children&&t.children.forEach((function(t){p(t,n,e,i,s)})),{allAchievements:e,allPoints:s.allPoints,ownAchievements:i,ownPoints:s.ownPoints}}},"13d5":function(t,n,e){"use strict";var i=e("23e7"),s=e("d58f").left,o=e("a640"),r=e("1212"),a=e("9adc"),c=!a&&r>79&&r<83,g=c||!o("reduce");i({target:"Array",proto:!0,forced:g},{reduce:function(t){var n=arguments.length;return s(this,t,n,n>1?arguments[1]:void 0)}})},1450:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var i=e("41cb"),s=function(){return Object(i["f"])().get("api/team/my-game-roles?nopage&custom=0")}},"1aa3":function(t,n,e){t.exports=e.p+"img/tog_2.8ae213ab.svg"},"1b89":function(t,n,e){t.exports=e.p+"img/tog_17.5c8b5a5e.svg"},2372:function(t,n,e){t.exports=e.p+"img/tog_7.d065990e.svg"},2681:function(t,n,e){t.exports=e.p+"img/tog_6.fd7052b7.svg"},"27aa":function(t,n,e){t.exports=e.p+"img/tog_41.867bbf38.svg"},"2b7a":function(t,n,e){t.exports=e.p+"img/unfinished.e9a234a5.svg"},"2cfb":function(t,n,e){t.exports=e.p+"img/tog_13.741ac369.svg"},3822:function(t,n,e){t.exports=e.p+"img/tog_4.ae3c48b4.svg"},3835:function(t,n,e){"use strict";function i(t){if(Array.isArray(t))return t}e.d(n,"a",(function(){return a}));e("a4d3"),e("e01a"),e("d28b"),e("14d9"),e("d3b7"),e("3ca3"),e("ddb0");function s(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var i,s,o,r,a=[],c=!0,g=!1;try{if(o=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;c=!1}else for(;!(c=(i=o.call(e)).done)&&(a.push(i.value),a.length!==n);c=!0);}catch(t){g=!0,s=t}finally{try{if(!c&&null!=e["return"]&&(r=e["return"](),Object(r)!==r))return}finally{if(g)throw s}}return a}}var o=e("06c5");e("d9e2");function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,n){return i(t)||s(t,n)||Object(o["a"])(t,n)||r()}},"3a30":function(t,n,e){t.exports=e.p+"img/search_black.8d2ab45b.svg"},"3ba9":function(t,n,e){var i={"./Dark/comparison.svg":"c5bf","./Dark/count.svg":"ac83","./Dark/improvement.svg":"6886","./Dark/jia.svg":"7bad","./Dark/quan.svg":"d3fa","./Dark/right.svg":"fb970","./Dark/search.svg":"dfcb","./Dark/shaixuan.svg":"ea5b","./Dark/sum.svg":"7176","./Dark/tog_1.svg":"7a8e","./Dark/tog_10.svg":"852b","./Dark/tog_11.svg":"8029","./Dark/tog_12.svg":"984b","./Dark/tog_13.svg":"2cfb","./Dark/tog_15.svg":"9ca0","./Dark/tog_16.svg":"be26","./Dark/tog_17.svg":"0768","./Dark/tog_2.svg":"1aa3","./Dark/tog_3.svg":"bbdc","./Dark/tog_4.svg":"484b","./Dark/tog_40.svg":"fc87","./Dark/tog_41.svg":"27aa","./Dark/tog_5.svg":"d1be","./Dark/tog_6.svg":"2681","./Dark/tog_7.svg":"b4e8","./Dark/tog_8.svg":"d1e9","./Dark/tog_9.svg":"45e1","./Light/comparison.svg":"fb2b","./Light/count.svg":"8fe4","./Light/improvement.svg":"ac01","./Light/jia.svg":"e51b","./Light/quan.svg":"a8cd","./Light/right.svg":"5904","./Light/search.svg":"9bd5","./Light/shaixuan.svg":"a106","./Light/sum.svg":"f1ba","./Light/tog_1.svg":"680e","./Light/tog_10.svg":"88a5","./Light/tog_11.svg":"4828","./Light/tog_12.svg":"07cb","./Light/tog_13.svg":"f312","./Light/tog_15.svg":"0636","./Light/tog_16.svg":"d168","./Light/tog_17.svg":"1b89","./Light/tog_2.svg":"63ee","./Light/tog_3.svg":"8c41","./Light/tog_4.svg":"3822","./Light/tog_40.svg":"45f1","./Light/tog_41.svg":"0a8a","./Light/tog_5.svg":"a299","./Light/tog_6.svg":"9edd","./Light/tog_7.svg":"2372","./Light/tog_8.svg":"4ead","./Light/tog_9.svg":"0c74","./finish.svg":"11f9","./search_black.svg":"3a30","./unfinished.svg":"2b7a","./warning.svg":"5720"};function s(t){var n=o(t);return e(n)}function o(t){if(!e.o(i,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=o,t.exports=s,s.id="3ba9"},4238:function(t,n,e){"use strict";e.r(n);e("b0c0"),e("4c53");var i=function(){var t=this,n=t._self._c;return n("div",{staticClass:"mini-program-catalogue"},[n("div",{staticClass:"total-progress"},[n("div",{staticClass:"progress-info"},[n("div",{staticClass:"progress-left"},[n("img",{staticClass:"hb-icon",attrs:{src:t.getIconPath(t.info.sub),alt:"","svg-inline":""}}),n("div",{staticClass:"progress-info-item"},[n("div",{staticClass:"progress-name"},[t._v(t._s(t.info.name))]),n("div",{staticClass:"u-info"},[n("div",{staticClass:"u-num"},[n("img",{attrs:{width:"12",height:"12",src:e("4eaf")("./".concat(t.isDark?"Light":"Dark","/count.svg")),alt:"成就logo"}}),t._v(" "+t._s(t.finishedCategoryCount||0)+"/"+t._s(t.categoryCount||0)+" ")]),n("div",{staticClass:"u-num"},[n("img",{attrs:{width:"12",height:"12",src:e("e00d")("./".concat(t.isDark?"Light":"Dark","/sum.svg")),alt:"资历logo"}}),t._v(" "+t._s(t.ownPointsCount||0)+"/"+t._s(t.allPointsCount||0)+" ")])])])]),n("div",{staticClass:"progress-right"},[n("div",{staticClass:"progress-percentage"},[t._v(t._s(t.totalProgress)),n("span",[t._v("%")])]),n("div",{staticClass:"progress-value"},[t._v(" "+t._s(t.ownPointsCountW)),n("span",[t._v(t._s(t.ownPointsCountOther))])])])]),n("div",{staticClass:"progress-bar"},[n("div",{staticClass:"progress-fill",style:{width:t.totalProgress+"%"}})])]),n("div",{staticClass:"progress-overview"},[n("div",{staticClass:"category-progress"},t._l(t.list,(function(i,s){var o,r;return n("div",{key:s,staticClass:"progress-card",on:{click:function(n){return t.handleClick(i)}}},[n("div",{staticClass:"u-top-detailed"},[n("div",{staticClass:"u-name"},[t._v(t._s(i.name))]),n("div",{staticClass:"u-info"},[n("div",{staticClass:"u-num"},[t._v(" "+t._s((null===i||void 0===i||null===(o=i.ownAchievements)||void 0===o?void 0:o.length)||0)+"/"+t._s((null===(r=i.allAchievements)||void 0===r?void 0:r.length)||0)+" "),n("img",{attrs:{width:"14",height:"14",src:e("4eaf")("./".concat(t.isDark?"Dark":"Light","/count.svg")),alt:"成就logo"}})]),n("div",{staticClass:"u-num"},[t._v(" "+t._s(i.ownPoints)+"/"+t._s(i.allPoints)+" "),n("img",{attrs:{width:"14",height:"14",src:e("e00d")("./".concat(t.isDark?"Dark":"Light","/sum.svg")),alt:"资历logo"}})])])]),n("div",{staticClass:"progress-bar-small"},[n("div",{staticClass:"progress-fill",style:{width:t.getCurrentProgress(i.ownPoints,i.allPoints)+"%"}})])])})),0)])])},s=[],o=e("c7eb"),r=e("1da1"),a=(e("99af"),e("d81d"),e("13d5"),e("fb6a"),e("b680"),e("b64b"),e("d3b7"),e("25f0"),e("159b"),e("138d")),c=e("85e4"),g=(e("01ea"),e("7720")),u={name:"CatalogueMiniProgram",components:{},data:function(){return{finishedAchievements:[],pointsData:{},list:[],allPointsCount:0,ownPointsCount:0,categoryCount:0,finishedCategoryCount:0,ownPointsCountW:null,ownPointsCountOther:0,info:{}}},computed:{isDark:function(){var t=window.matchMedia("(prefers-color-scheme: dark)");return t.matches},totalProgress:function(){return this.ownPointsCount||this.allPointsCount?(this.ownPointsCount/this.allPointsCount*100).toFixed(2):0}},created:function(){this.getListInit()},methods:{showSchoolIcon:c["s"],getListInit:function(){var t=this;return Object(r["a"])(Object(o["a"])().mark((function n(){var e,i,s,r,c;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e=t.$route.query.menuId,n.next=3,Object(a["b"])(t.$store.state.client);case 3:return i=n.sent,s=i.menuList||[],t.pointsData=i.pointsList||[],Object.keys(s).forEach((function(n){var i=s[n];i.sub==e&&(t.info=i,document.title=i.name)})),r=t.$route.query.jx3id,n.next=10,Object(a["c"])(r);case 10:c=n.sent,t.finishedAchievements=c.list||[],t.getRenderList();case 13:case"end":return n.stop()}}),n)})))()},handleClick:function(t){Object(g["b"])(this.$router.resolve({name:"list",query:{menuId:t.sub,detail:t.detail,jx3id:this.$route.query.jx3id}}).href)},getIconPath:function(t){return t?e("3ba9")("./".concat(this.isDark?"Light":"Dark","/tog_").concat(t,".svg")):""},getRenderList:function(){var t=this.info.children||[],n=this.finishedAchievements||[],e=t.map((function(t){var e=Object(a["a"])(t,n);return{sub:t.sub,detail:t.detail,name:t.name,allAchievements:e.allAchievements,ownAchievements:e.ownAchievements,children:t.children,allPoints:e.allPoints,ownPoints:e.ownPoints}}));this.list=e,this.calculateStatistics(e),this.formatPointsDisplay()},calculateStatistics:function(t){var n=t.reduce((function(t,n){var e,i;return t.allPointsCount+=n.allPoints||0,t.ownPointsCount+=n.ownPoints||0,t.categoryCount+=(null===(e=n.allAchievements)||void 0===e?void 0:e.length)||0,t.finishedCategoryCount+=(null===(i=n.ownAchievements)||void 0===i?void 0:i.length)||0,t}),{allPointsCount:0,ownPointsCount:0,categoryCount:0,finishedCategoryCount:0});this.allPointsCount=n.allPointsCount,this.ownPointsCount=n.ownPointsCount,this.categoryCount=n.categoryCount,this.finishedCategoryCount=n.finishedCategoryCount},formatPointsDisplay:function(){var t=this.ownPointsCount.toString();t.length>4?(this.ownPointsCountW=t.slice(0,-4),this.ownPointsCountOther=t.slice(-4)):(this.ownPointsCountW="",this.ownPointsCountOther=t)},getCurrentProgress:function(t,n){return t||n?(t/n*100).toFixed(2):0}}},f=u,v=(e("7bd9"),e("2877")),l=Object(v["a"])(f,i,s,!1,null,null,null);n["default"]=l.exports},"45e1":function(t,n,e){t.exports=e.p+"img/tog_9.b91da4f4.svg"},"45f1":function(t,n,e){t.exports=e.p+"img/tog_40.8f4e8cc1.svg"},4828:function(t,n,e){t.exports=e.p+"img/tog_11.57cbcc0f.svg"},"484b":function(t,n,e){t.exports=e.p+"img/tog_4.cc4bee1c.svg"},"4ead":function(t,n,e){t.exports=e.p+"img/tog_8.bc15415d.svg"},"4eaf":function(t,n,e){var i={"./Dark/count.svg":"ac83","./Light/count.svg":"8fe4"};function s(t){var n=o(t);return e(n)}function o(t){if(!e.o(i,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=o,t.exports=s,s.id="4eaf"},5720:function(t,n,e){t.exports=e.p+"img/warning.c59d3be8.svg"},5904:function(t,n,e){t.exports=e.p+"img/right.258873ca.svg"},"63ee":function(t,n,e){t.exports=e.p+"img/tog_2.6d3d6ed7.svg"},"680e":function(t,n,e){t.exports=e.p+"img/tog_1.93447118.svg"},6886:function(t,n,e){t.exports=e.p+"img/improvement.c17a031c.svg"},7176:function(t,n,e){t.exports=e.p+"img/sum.2d38a1fd.svg"},"7a8e":function(t,n,e){t.exports=e.p+"img/tog_1.ee8ab329.svg"},"7bad":function(t,n,e){t.exports=e.p+"img/jia.a4ed607e.svg"},"7bd9":function(t,n,e){"use strict";e("1048")},8029:function(t,n,e){t.exports=e.p+"img/tog_11.fe0a7d76.svg"},"852b":function(t,n,e){t.exports=e.p+"img/tog_10.2f0ed734.svg"},"88a5":function(t,n,e){t.exports=e.p+"img/tog_10.4bea69ad.svg"},"8c41":function(t,n,e){t.exports=e.p+"img/tog_3.e4ec62c3.svg"},"8fe4":function(t,n,e){t.exports=e.p+"img/count.6033f8f4.svg"},"984b":function(t,n,e){t.exports=e.p+"img/tog_12.f3a07dcf.svg"},"9bd5":function(t,n,e){t.exports=e.p+"img/search.781ce470.svg"},"9ca0":function(t,n,e){t.exports=e.p+"img/tog_15.2b6a6cf7.svg"},"9edd":function(t,n,e){t.exports=e.p+"img/tog_6.19bcab65.svg"},a299:function(t,n,e){t.exports=e.p+"img/tog_5.b1775791.svg"},a8cd:function(t,n,e){t.exports=e.p+"img/quan.b9b6f7b4.svg"},ac01:function(t,n,e){t.exports=e.p+"img/improvement.5709fa8f.svg"},ac83:function(t,n,e){t.exports=e.p+"img/count.e9081d68.svg"},b4e8:function(t,n,e){t.exports=e.p+"img/tog_7.0dea2d20.svg"},bbdc:function(t,n,e){t.exports=e.p+"img/tog_3.a580ed01.svg"},be26:function(t,n,e){t.exports=e.p+"img/tog_16.ffa7d0d0.svg"},c5bf:function(t,n,e){t.exports=e.p+"img/comparison.dfcc1cad.svg"},d168:function(t,n,e){t.exports=e.p+"img/tog_16.7901e7f6.svg"},d1be:function(t,n,e){t.exports=e.p+"img/tog_5.40c9a70c.svg"},d1e9:function(t,n,e){t.exports=e.p+"img/tog_8.df78604c.svg"},d3fa:function(t,n,e){t.exports=e.p+"img/quan.f7959a84.svg"},d58f:function(t,n,e){"use strict";var i=e("59ed"),s=e("7b0b"),o=e("44ad"),r=e("07fa"),a=TypeError,c="Reduce of empty array with no initial value",g=function(t){return function(n,e,g,u){var f=s(n),v=o(f),l=r(f);if(i(e),0===l&&g<2)throw new a(c);var d=t?l-1:0,p=t?-1:1;if(g<2)while(1){if(d in v){u=v[d],d+=p;break}if(d+=p,t?d<0:l<=d)throw new a(c)}for(;t?d>=0:l>d;d+=p)d in v&&(u=e(u,v[d],d,f));return u}};t.exports={left:g(!1),right:g(!0)}},dfcb:function(t,n,e){t.exports=e.p+"img/search.4918b175.svg"},e00d:function(t,n,e){var i={"./Dark/sum.svg":"7176","./Light/sum.svg":"f1ba"};function s(t){var n=o(t);return e(n)}function o(t){if(!e.o(i,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=o,t.exports=s,s.id="e00d"},e51b:function(t,n,e){t.exports=e.p+"img/jia.748a1596.svg"},f1ba:function(t,n,e){t.exports=e.p+"img/sum.a2f21be4.svg"},f312:function(t,n,e){t.exports=e.p+"img/tog_13.5711bcbb.svg"},fb2b:function(t,n,e){t.exports=e.p+"img/comparison.389bdb0c.svg"},fb970:function(t,n,e){t.exports=e.p+"img/right.b843a32f.svg"},fc87:function(t,n,e){t.exports=e.p+"img/tog_40.ef7c5acf.svg"}}]);