(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5431fc9b"],{"07ac":function(t,e,n){"use strict";var s=n("23e7"),a=n("6f53").values;s({target:"Object",stat:!0},{values:function(t){return a(t)}})},"38cf":function(t,e,n){"use strict";var s=n("23e7"),a=n("1148");s({target:"String",proto:!0},{repeat:a})},"3d2f":function(t,e,n){"use strict";n("38cf");e["a"]=function(t){return"⭐️".repeat(t||1)}},"498a":function(t,e,n){"use strict";var s=n("23e7"),a=n("58a8").trim,i=n("c8d2");s({target:"String",proto:!0,forced:i("trim")},{trim:function(){return a(this)}})},5325:function(t,e,n){"use strict";n("a2f9")},"5b81":function(t,e,n){"use strict";var s=n("23e7"),a=n("c65b"),i=n("e330"),r=n("1d80"),c=n("1626"),o=n("861d"),l=n("44e7"),u=n("577e"),d=n("dc4a"),f=n("90d8"),p=n("0cb2"),m=n("b622"),v=n("c430"),h=m("replace"),b=TypeError,_=i("".indexOf),k=i("".replace),g=i("".slice),C=Math.max;s({target:"String",proto:!0},{replaceAll:function(t,e){var n,s,i,m,w,y,j,q,O,P,x=r(this),W=0,S="";if(o(t)){if(n=l(t),n&&(s=u(r(f(t))),!~_(s,"g")))throw new b("`.replaceAll` does not allow non-global regexes");if(i=d(t,h),i)return a(i,t,x,e);if(v&&n)return k(u(x),t,e)}m=u(x),w=u(t),y=c(e),y||(e=u(e)),j=w.length,q=C(1,j),O=_(m,w);while(-1!==O)P=y?u(e(w,O,m)):p(w,m,O,[],void 0,e),S+=g(m,W,O)+P,W=O+j,O=O+q>m.length?-1:_(m,w,O+q);return W<m.length&&(S+=g(m,W)),S}})},"6f53":function(t,e,n){"use strict";var s=n("83ab"),a=n("d039"),i=n("e330"),r=n("e163"),c=n("df75"),o=n("fc6a"),l=n("d1e7").f,u=i(l),d=i([].push),f=s&&a((function(){var t=Object.create(null);return t[2]=2,!u(t,2)})),p=function(t){return function(e){var n,a=o(e),i=c(a),l=f&&null===r(a),p=i.length,m=0,v=[];while(p>m)n=i[m++],s&&!(l?n in a:u(a,n))||d(v,t?[n,a[n]]:a[n]);return v}};t.exports={entries:p(!0),values:p(!1)}},"90cb":function(t,e,n){"use strict";n("eb62")},9622:function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"g",(function(){return r})),n.d(e,"d",(function(){return c})),n.d(e,"h",(function(){return o})),n.d(e,"f",(function(){return l})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return f})),n.d(e,"i",(function(){return p}));n("99af");var s=n("41cb"),a=Object(s["d"])();function i(t){return a.get("/quest/",{params:t})}function r(t,e){return a.post("/quests",e,{params:t})}function c(t){return a.get("/quests/newest",{params:t})}function o(t){return t=Object.assign(t,{type:"quest"}),Object(s["a"])().get("/api/cms/wiki/post/waiting",{params:t})}function l(){return a.get("/quest/maps")}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wiki_quest_ac";return Object(s["a"])().get("/api/cms/breadcrumb/".concat(t)).then((function(t){return t.data.data.html||""}))}function d(t,e){return Object(s["a"])().post("/api/cms/wiki/user-quest/".concat(t,"/").concat(e))}function f(t,e){return Object(s["a"])().delete("/api/cms/wiki/user-quest/".concat(t,"/").concat(e))}function p(t){return Object(s["a"])().get("/api/cms/wiki/user-quest/".concat(t))}},a2f9:function(t,e,n){},ac29:function(t,e,n){"use strict";n("b0c0");var s=function(){var t=this,e=t._self._c;return e("router-link",{staticClass:"u-item u-item-new",attrs:{to:{name:"view",params:t.getViewParams()}}},["quest"!==t.type?e("div",{staticClass:"u-icon"},[e("img",{attrs:{src:t.iconUrl(t.item.IconID)}})]):t._e(),e("div",{staticClass:"m-carousel-content"},[e("div",{staticClass:"u-title"},[e("i",{staticClass:"el-icon-medal"}),e("span",{domProps:{textContent:t._s("".concat("quest"===t.type?t.item.name:t.item.Name))}})]),e("div",{staticClass:"u-desc"},[e("i",{staticClass:"el-icon-mic"}),e("span",{domProps:{innerHTML:t._s("".concat("quest"===t.type?t.item.target:t.parseDesc(t.item.Desc)))}})])])])},a=[],i=(n("ac1f"),n("5319"),n("5b81"),n("85e4")),r={name:"WikiItem",props:{item:{type:Object,required:!0},type:{type:String,default:"achievement"}},computed:{client:function(){return this.$store.state.client}},methods:{iconUrl:function(t){return Object(i["l"])(t,this.client)},getViewParams:function(){var t={source_id:this.item.ID};return"item"===this.type&&(t={item_id:this.item.id}),"quest"===this.type&&(t={quest_id:this.item.id}),t},parseDesc:function(t){return t?t.replaceAll('<Text>text="',"").replace(/\".*?<\/text>/g,"").replaceAll("\\\\\\n",""):"-"}}},c=r,o=(n("90cb"),n("2877")),l=Object(o["a"])(c,s,a,!1,null,null,null);e["a"]=l.exports},c8d2:function(t,e,n){"use strict";var s=n("5e77").PROPER,a=n("d039"),i=n("5899"),r="​᠎";t.exports=function(t){return a((function(){return!!i[t]()||r[t]()!==r||s&&i[t].name!==t}))}},cbfa:function(t,e,n){"use strict";n("b0c0"),n("b680");var s=function(){var t=this,e=t._self._c;return e("router-link",{attrs:{to:{name:"waiting"}}},[e("i",{staticClass:"el-icon-edit-outline"}),e("span",[t._v("待攻略"+t._s(t.name))]),t.showCounter?e("span",{staticClass:"u-waiting",style:t.waitingColorStyle()},[t._v("（"+t._s(t.solveRate.toFixed(2))+"%）")]):t._e()])},a=[],i=n("500d"),r=(n("9622"),{name:"WikiCounter",props:{type:{type:String,default:"achievement"},showCounter:{type:Boolean,default:!0}},data:function(){return{solveRate:0}},computed:{name:function(){var t="成就";return"item"===this.type&&(t="物品"),"quest"===this.type&&(t="任务"),t}},methods:{waitingColorStyle:function(){return this.solveRate>95?"color: #8dfa58":this.solveRate>60?"color: #e2d849":"color: #ff3838"}},mounted:function(){var t=this;i["a"].counter({type:this.type}).then((function(e){var n,s=null!==(n=e.data.data)&&void 0!==n?n:{},a=s.wiki_count,i=s.source_count;t.solveRate=a/i*100}))}}),c=r,o=n("2877"),l=Object(o["a"])(c,s,a,!1,null,null,null);e["a"]=l.exports},cf45:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));n("99af"),n("fb6a"),n("ac1f"),n("5319"),n("498a");var s=n("85e4"),a=function(t){return t=t?t.trim().replace(/<[^>]*>/g,""):"",t.length>100?t.slice(0,100)+"...":t};function i(t,e,n,a){return Object(s["i"])("https://cdn.jx3box.com/design/avatar/mini/".concat(t,"-").concat(e,".png"),n,a)}},eb62:function(t,e,n){},f982:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-home-view"},[e("WikiPanel",{staticClass:"u-qlinks-box",attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-location-information"}),e("span",[t._v("便捷入口")])]),e("template",{slot:"body"},[e("ul",{staticClass:"u-qlinks"},[e("li",{staticClass:"u-qlink"},[e("a",{staticStyle:{"background-color":"#fe7979"},attrs:{target:"_blank",href:"/tool/9126/"}},[e("i",{staticClass:"el-icon-trophy"}),e("span",[t._v("游戏内看百科")])])]),e("li",{staticClass:"u-qlink"},[e("Counter")],1),e("li",{staticClass:"u-qlink"},[e("a",{staticStyle:{"background-color":"#f7b044"},attrs:{target:"_blank",href:"/achievement/overview"}},[e("i",{staticClass:"el-icon-notebook-1"}),e("span",[t._v("资历宝典")])])]),e("li",{staticClass:"u-qlink"},[e("a",{staticStyle:{"background-color":"#f7b044"},attrs:{target:"_blank",href:t.hiddenAchievementsPostLink}},[e("i",{staticClass:"el-icon-medal"}),e("span",[t._v("隐藏成就")])])]),e("li",{staticClass:"u-qlink"},[e("a",{attrs:{target:"_blank",href:"/adventure"}},[e("i",{staticClass:"el-icon-ice-drink"}),e("span",[t._v("奇遇大全")])])]),e("li",{staticClass:"u-qlink"},[e("a",{attrs:{target:"_blank",href:"/pet"}},[e("i",{staticClass:"el-icon-grape"}),e("span",[t._v("宠物大全")])])]),e("li",{staticClass:"u-qlink"},[e("a",{attrs:{target:"_blank",href:"/horse"}},[e("i",{staticClass:"el-icon-watermelon"}),e("span",[t._v("坐骑大全")])])]),e("li",{staticClass:"u-qlink"},[e("a",{attrs:{target:"_blank",href:"/furniture"}},[e("i",{staticClass:"el-icon-cherry"}),e("span",[t._v("家具大全")])])])])])],2),e("WikiPanel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-notebook-1"}),e("span",[t._v("热门成就")])]),e("template",{slot:"body"},[e("div",{staticClass:"m-achievement-slider"},[e("el-carousel",{attrs:{height:"66px",direction:"vertical","indicator-position":"none"}},t._l(t.hot_achievements,(function(n,s){return e("el-carousel-item",{key:s,staticClass:"m-carousel m-hot"},[e("el-row",{attrs:{gutter:20}},[t._l(n,(function(n,s){return[n?e("el-col",{key:s,attrs:{md:8}},[e("WikiItem",{class:"u-item-".concat(s),attrs:{item:n}})],1):t._e()]}))],2)],1)})),1)],1)])],2),e("WikiPanel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-notebook-2"}),e("span",[t._v("最新成就")])]),e("template",{slot:"head-actions"},[e("router-link",{staticClass:"other",attrs:{to:{name:"newest"}}},[t._v("查看更多 »")])],1),e("template",{slot:"body"},[e("el-carousel",{attrs:{height:"66px",direction:"vertical",interval:3500,"indicator-position":"none"}},t._l(t.newest_achievements,(function(n,s){return e("el-carousel-item",{key:s,staticClass:"m-carousel"},[e("el-row",{attrs:{gutter:20}},t._l(n,(function(t,n){return e("el-col",{key:n,attrs:{md:8}},[e("WikiItem",{class:"u-item-".concat(n),attrs:{item:t}})],1)})),1)],1)})),1)],1)],2),e("PostList")],1)},a=[],i=(n("a15b"),n("14d9"),n("fb6a"),n("b0c0"),n("e9f5"),n("7d54"),n("d3b7"),n("07ac"),n("2ca0"),n("159b"),n("65c2")),r=n("9616"),c=n("500d"),o=n("85e4"),l=n("d2a1"),u=n("ac29"),d=n("cbfa"),f=function(){var t=this,e=t._self._c;return e("WikiPanel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-collection"}),e("span",[t._v("最近攻略")])]),e("template",{slot:"body"},[e("el-row",{staticClass:"m-posts"},t._l(t.newestPosts,(function(t,n){return e("PostItem",{key:n,attrs:{post:t}})})),1)],1)],2)},p=[],m=function(){var t=this,e=t._self._c;return e("el-col",{staticClass:"m-post"},[e("div",{staticClass:"m-head"},[e("div",{staticClass:"m-achievement"},[e("div",{staticClass:"u-achievement"},[e("img",{staticClass:"u-icon",attrs:{src:t.icon_url(t.post.source_icon_id)},on:{"~error":function(e){e.target.src=t.icon_url("")}}}),e("router-link",{staticClass:"u-name",attrs:{to:{name:"view",params:{source_id:t.post.source_id}},target:"_blank"}},[t._v(t._s(t.post.title))])],1),e("div",{staticClass:"u-level",domProps:{textContent:t._s("综合难度："+t.star(t.post.level))}}),t.post.remark?e("div",{staticClass:"u-remark",domProps:{textContent:t._s("📑 "+t.post.remark)}}):t._e()]),e("div",{staticClass:"m-user"},[e("div",{staticClass:"u-author"},[e("img",{staticClass:"u-icon",attrs:{src:t.showAvatar(t.post.user),alt:t.post.user_nickname}}),e("a",{staticClass:"u-name",attrs:{href:t.post.user_id?t.author_url(t.post.user_id):null,target:"_blank"},domProps:{textContent:t._s(t.post.user_nickname)}})]),e("div",{staticClass:"u-updated",domProps:{textContent:t._s(t.ts2str(t.post.updated))}})])]),e("div",{staticClass:"m-body"},[e("div",{staticClass:"u-excerpt",attrs:{to:{name:"view",params:{source_id:t.post.source_id}}},domProps:{innerHTML:t._s(t.ellipsis(t.post.content))}})])])},v=[],h=n("3d2f"),b=n("cf45"),_={name:"WikiPostItem",props:{post:{type:Object,required:!0}},methods:{icon_url:function(t){return Object(o["l"])(t,this.client)},star:h["a"],ellipsis:b["a"],ts2str:o["s"],author_url:o["a"],showAvatar:function(t){var e=(null===t||void 0===t?void 0:t.user_avatar)||"";return Object(o["q"])(e)}}},k=_,g=n("2877"),C=Object(g["a"])(k,m,v,!1,null,null,null),w=C.exports,y={name:"WikiPostList",props:{type:{type:String,default:"achievement"}},data:function(){return{newestPosts:[]}},components:{WikiPanel:l["a"],PostItem:w},mounted:function(){var t=this;c["a"].latest({type:this.type}).then((function(e){var n,s;t.newestPosts=null!==(n=null===(s=e.data.data)||void 0===s?void 0:s.list)&&void 0!==n?n:[]}))}},j=y,q=Object(g["a"])(j,f,p,!1,null,"7879eabc",null),O=q.exports,P={name:"Home",components:{WikiPanel:l["a"],PostList:O,WikiItem:u["a"],Counter:d["a"]},data:function(){return{views:{},hot_achievements:null,newest_achievements:null,feedback:i["feedback"]}},computed:{isStd:function(){return"std"==this.$store.state.client},client:function(){return this.$store.state.client},hiddenAchievementsPostLink:function(){var t="std"==this.client?8104:43543;return Object(o["f"])("bbs",t)}},methods:{icon_url:function(t){return Object(o["l"])(t,this.client)},chuck:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=[],s=0;s<t.length;s+=e)n.push(t.slice(s,s+e));return n},showAvatar:function(t){var e=(null===t||void 0===t?void 0:t.user_avatar)||"";return Object(o["q"])(e)}},created:function(){var t=this,e="origin"==this.client?"origin_cj":"cj";Object(r["b"])(e,"views",12).then((function(e){e=e.data;var n=[];e.forEach((function(e){if(e.name.startsWith("cj")){var s=e.name.split("-").pop();n.push(s),t.views[s]=e.value}})),c["a"].achievements({ids:n.join(","),limit:n.length}).then((function(e){e=e.data,t.hot_achievements=t.chuck(Object.values(e.data.achievements))}))})),c["a"].achievements({per:12}).then((function(e){e=e.data,t.newest_achievements=t.chuck(Object.values(e.data.achievements))}),(function(){t.newest_achievements=[]}))}},x=P,W=(n("5325"),Object(g["a"])(x,s,a,!1,null,null,null));e["default"]=W.exports}}]);
//# sourceMappingURL=chunk-5431fc9b.92f7c15e.js.map