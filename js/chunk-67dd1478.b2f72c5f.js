(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67dd1478"],{"13af":function(t,e,i){},1441:function(t,e,i){"use strict";i("d2ca")},"1c47":function(t,e,i){"use strict";var n=function(){var t=this,e=t._self._c;return t.hasContent?e("div",{staticClass:"m-achievement-single",class:{fold:t.fold,hidden:t.isHidden}},[t.initFold&&t.isLogin&&t.isVirtual?e("el-checkbox",{staticClass:"u-achievement-checkbox",model:{value:t.achievement.checked,callback:function(e){t.$set(t.achievement,"checked",e)},expression:"achievement.checked"}}):t._e(),e("div",{staticClass:"u-header"},[e("a",{staticClass:"u-title",attrs:{target:t.targetable},domProps:{textContent:t._s(t.achievement.Name)},on:{click:function(e){return t.url_filter(t.achievement.ID)}}}),e("div",{staticClass:"u-other"},[e("span",{staticClass:"u-attr",domProps:{textContent:t._s(t.achievement.post?"修订时间："+t.ts2str(t.achievement.post.updated):"")}}),e("span",{staticClass:"u-attr",domProps:{textContent:t._s(t.achievement.post?"综合难度："+t.star(t.achievement.post.level):"")}}),t.isVirtual?[e("el-button",{staticClass:"u-attr u-fav u-complete-status",attrs:{type:t.completedVirtual?"info":"warning",plain:"",size:"mini",icon:t.completedVirtual?"el-icon-check":"el-icon-close"}},[t._v(t._s(t.completedVirtual?"已完成":"未完成"))]),t.completedVirtual?e("el-button",{staticClass:"u-attr u-fav",attrs:{type:"info",size:"mini",icon:"el-icon-close"},on:{click:function(e){return e.stopPropagation(),t.cancelVirtual.apply(null,arguments)}}},[t._v(" 取消完成 ")]):e("el-button",{staticClass:"u-attr u-fav",attrs:{plain:"",size:"mini",icon:"el-icon-check"},on:{click:function(e){return e.stopPropagation(),t.finishVirtual.apply(null,arguments)}}},[t._v(" 设为完成 ")])]:e("el-button",{staticClass:"u-attr u-fav u-complete-status",attrs:{type:t.completed?"info":"warning",plain:"",size:"mini",icon:t.completed?"el-icon-check":"el-icon-close"}},[t._v(t._s(t.completed?"已完成":"未完成"))]),t.showFavorite?e("Fav",{staticClass:"u-attr u-fav",attrs:{"post-type":"achievement","post-title":t.favTitle,"post-id":t.achievement.ID}}):t._e()],2)]),e("div",{staticClass:"u-body"},[e("div",{staticClass:"u-left",on:{click:function(e){return t.url_filter(t.achievement.ID)}}},[e("div",{staticClass:"u-attr u-icon"},[e("img",{attrs:{src:t.icon_url(t.achievement.IconID)},on:{"~error":function(e){return function(){e.target.src=t.icon_url()}.apply(null,arguments)}}})]),e("div",{staticClass:"u-attr u-desc",domProps:{innerHTML:t._s(t.achievement.Desc)}})]),e("div",{staticClass:"u-right"},[e("item-simple",{staticClass:"u-attr u-item-simple",attrs:{item:t.achievement.Item,"only-icon":"true","icon-size":"36px"}}),e("div",{staticClass:"u-attr u-point",domProps:{textContent:t._s(t.achievement.Point?t.achievement.Point:0)}})],1)]),e("div",{staticClass:"u-footer"},[t.achievement.Prefix||t.achievement.Postfix?e("div",{staticClass:"u-ch"},[t.achievement.PrefixName?e("div",{domProps:{textContent:t._s("称号前缀："+t.achievement.PrefixName)}}):t._e(),t.achievement.PostfixName?e("div",{domProps:{textContent:t._s("称号后缀："+t.achievement.PostfixName)}}):t._e()]):t._e(),t.achievement.SubAchievementList?e("el-row",{staticClass:"u-subs",attrs:{gutter:30}},t._l(t.achievement.SubAchievementList,(function(i,n){return e("el-col",{key:n,staticClass:"u-sub",attrs:{xs:12,sm:8,md:8}},[e("router-link",{attrs:{to:1==i.Visible?{name:"view",params:{source_id:i.ID}}:{},target:"_blank"}},[e("img",{staticClass:"u-icon",attrs:{src:t.icon_url(i.IconID)}}),e("span",{domProps:{textContent:t._s(i.Name)}})])],1)})),1):t._e(),t.achievement.SeriesAchievementList?e("div",{staticClass:"u-seriess"},t._l(t.achievement.SeriesAchievementList,(function(i,n){return e("div",{key:n,staticClass:"u-series",class:i.ID==t.achievement.ID?"active":""},[e("router-link",{attrs:{to:{name:"view",params:{source_id:i.ID}}}},[e("img",{staticClass:"u-icon",attrs:{src:t.icon_url(i.IconID)}}),e("div",{staticClass:"detail"},[e("h4",{domProps:{textContent:t._s(i.Name)}}),e("p",{domProps:{innerHTML:t._s(t.description_filter(i.ShortDesc))}})])])],1)})),0):t._e()],1),t.empty?t._e():e("div",{staticClass:"u-expand",class:{disable:t.empty},on:{click:function(e){t.fold=!t.fold}}},[e("hr"),e("i",{staticClass:"u-icon el-icon-caret-top"}),e("i",{staticClass:"u-icon el-icon-caret-bottom"})])],1):t._e()},s=[],a=(i("c740"),i("caad"),i("14d9"),i("a434"),i("b0c0"),i("b64b"),i("ac1f"),i("2532"),i("5319"),i("498a"),i("85e4")),c=(i("d5a4"),i("7a5f")),o=i("3d2f"),r=i("262e"),l=i("c9d2"),u={name:"AchievementSingle",props:["achievement","initFold","target","jump","showFavorite"],data:function(){return{fold:!0}},computed:{empty:function(){return!(this.achievement.Prefix||this.achievement.Postfix||this.achievement.SubAchievementList||this.achievement.SeriesAchievementList)},targetable:function(){return this.target||"undefined"!==typeof this.target?this.target:""},client:function(){return this.$store.state.client},hasContent:function(){return this.achievement&&Object.keys(this.achievement).length},currentRole:function(){return this.$store.state.role},completeAchievements:function(){return this.$store.state.achievements},completed:function(){return this.completeAchievements.includes(this.achievement.ID+"")},isLogin:function(){return l["a"].isLogin()},favTitle:function(){var t;return null===(t=this.achievement)||void 0===t?void 0:t.Name},isVirtual:function(){var t;return!(null!==(t=this.currentRole)&&void 0!==t&&t.jx3id)},onlyUncompleted:function(){return this.$store.state.onlyUncompleted},isHidden:function(){var t=this.isVirtual?this.completedVirtual:this.completed;return this.onlyUncompleted&&t},achievementsVirtual:function(){return this.$store.state.achievementsVirtual},completedVirtual:function(){return this.achievementsVirtual.includes(this.achievement.ID+"")}},watch:{initFold:{immediate:!0,handler:function(t){this.fold=t}}},methods:{ts2str:a["ts2str"],star:o["a"],icon_url:function(t){return Object(a["iconLink"])(t,this.client)},url_filter:function(t){!0!==this.jump&&"undefined"!==typeof this.jump||(this.$store.state.scroll_tops[this.$route.name]=document.documentElement.scrollTop,this.$router.push({name:"view",params:{source_id:t}}))},description_filter:function(t){var e=/text="(.*?)(\\\\\\n)?"/.exec(t);return e&&e.length>1&&(t=e[1].trim()),t&&(t=t.replace(/\\n/g,"<br>")),t},finishVirtual:function(){var t=this;if(this.isLogin||l["a"].toLogin(),this.currentRole&&!this.currentRole.jx3id){var e=this.achievement.ID+"",i={achievements:e};Object(r["p"])(i).then((function(i){t.$notify({title:"操作成功",message:"已将该成就标记为已完成",type:"success"});var n=t.achievementsVirtual;n.includes(e)||n.push(e),t.$store.commit("SET_STATE",{key:"achievementsVirtual",value:n})}))}else this.$alert("请先在侧边栏选择虚拟角色","警告",{confirmButtonText:"确定"})},cancelVirtual:function(){var t=this;if(this.isLogin||l["a"].toLogin(),this.currentRole&&!this.currentRole.jx3id){var e=this.achievement.ID+"",i={achievements:e};Object(r["a"])(i).then((function(i){t.$notify({title:"操作成功",message:"已将该成就标记为未完成",type:"success"});var n=t.achievementsVirtual,s=n.findIndex((function(t){return t===e}));s>-1&&n.splice(s,1),t.$store.commit("SET_STATE",{key:"achievementsVirtual",value:n})}))}else this.$alert("请先在侧边栏选择虚拟角色","警告",{confirmButtonText:"确定"})}},components:{"item-simple":c["a"]}},m=u,d=(i("5897"),i("2877")),h=Object(d["a"])(m,n,s,!1,null,null,null);e["a"]=h.exports},"38cf":function(t,e,i){"use strict";var n=i("23e7"),s=i("1148");n({target:"String",proto:!0},{repeat:s})},"3d2f":function(t,e,i){"use strict";i("38cf");e["a"]=function(t){return"⭐️".repeat(t||1)}},5897:function(t,e,i){"use strict";i("13af")},7479:function(t,e,i){},"7a5f":function(t,e,i){"use strict";var n=function(){var t=this,e=t._self._c;return t.item?e("el-popover",{attrs:{placement:"right-end","popper-class":"m-simple-item-popup",width:"auto","visible-arrow":!1,trigger:"hover",transition:"none","close-delay":0},on:{show:function(e){t.item_id=t.item.id}},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[e("div",{staticClass:"m-simple-item",class:{onlyIcon:t.onlyIcon,withName:t.withName},attrs:{slot:"reference"},on:{mousedown:function(e){t.visible=!1}},slot:"reference"},[e("div",{staticClass:"m-icon"},[e("div",{staticClass:"u-border",style:{backgroundImage:t.item_border(t.item),opacity:5==t.item.Quality?.9:1}}),e("div",{staticClass:"u-border-quest",style:{backgroundImage:t.item_border_quest(t.item)}}),e("img",{staticClass:"u-icon",style:{width:t.iconSize,height:t.iconSize},attrs:{src:t.icon_url(t.item.IconID),alt:"IconID:".concat(t.item.IconID)}})]),e("span",{staticClass:"u-name",style:{color:t.item_color(t.item.Quality)},domProps:{textContent:t._s(t.item.Name)}}),e("span",{staticClass:"u-uiid fr",domProps:{textContent:t._s("ID: ".concat(t.item.id))}})]),e("jx3-item",{attrs:{item_id:t.item_id,"jx3-client-type":t.jx3ClientType}})],1):t._e()},s=[],a=i("c7fa");const{__imgPath:c,__iconPath:o}=i("dbaa");var r=t=>isNaN(parseInt(t))?c+"image/common/nullicon.png":`${o}icon/${t}.png`,l=i("1d18");const{__imgPath:u}=i("dbaa");var m=t=>{switch(t.Quality){case 3:return`url(${u}image/item/blue.png)`;case 4:return`url(${u}image/item/purple.png)`;case 5:return`url(${u}image/item/orange.gif)`;default:return""}};const{__imgPath:d}=i("dbaa");var h=t=>t.IsQuest>0?`url(${d}image/item/renwu.png)`:"",v={name:"ItemSimple",props:["item","onlyIcon","iconSize","withName","jx3ClientType"],data:function(){return{visible:!1,item_id:null}},methods:{icon_url:r,item_color:l["a"],item_border:m,item_border_quest:h},components:{"jx3-item":a["a"]}},f=v,p=(i("1441"),i("fe5d"),i("2877")),_=Object(p["a"])(f,n,s,!1,null,null,null);e["a"]=_.exports},b85c:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));i("a4d3"),i("e01a"),i("d28b"),i("d9e2"),i("d3b7"),i("3ca3"),i("ddb0");var n=i("06c5");function s(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=Object(n["a"])(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var s=0,a=function(){};return{s:a,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,r=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){r=!0,c=t},f:function(){try{o||null==i["return"]||i["return"]()}finally{if(r)throw c}}}}},c740:function(t,e,i){"use strict";var n=i("23e7"),s=i("b727").findIndex,a=i("44d2"),c="findIndex",o=!0;c in[]&&Array(1)[c]((function(){o=!1})),n({target:"Array",proto:!0,forced:o},{findIndex:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),a(c)},d2ca:function(t,e,i){},fe5d:function(t,e,i){"use strict";i("7479")}}]);
//# sourceMappingURL=chunk-67dd1478.b2f72c5f.js.map