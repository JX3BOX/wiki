{"version":3,"sources":["webpack:///./src/components/quest/mobile/quest-chain.vue?69e9","webpack:///./src/components/common/item-icon.vue?be8a","webpack:///./src/utils/quest.js","webpack:///./src/views/quest/mobile/detail.vue","webpack:///./src/components/quest/mobile/fold-card.vue","webpack:///src/components/quest/mobile/fold-card.vue","webpack:///./src/components/quest/mobile/fold-card.vue?c2cb","webpack:///./src/components/quest/mobile/fold-card.vue?bb88","webpack:///./src/components/quest/mobile/quest-chain.vue","webpack:///src/components/quest/mobile/quest-chain.vue","webpack:///./src/components/quest/mobile/quest-chain.vue?b170","webpack:///./src/components/quest/mobile/quest-chain.vue?fa49","webpack:///src/views/quest/mobile/detail.vue","webpack:///./src/views/quest/mobile/detail.vue?ec17","webpack:///./src/views/quest/mobile/detail.vue?50c9","webpack:///./node_modules/core-js/modules/es.string.replace-all.js","webpack:///./src/components/quest/mobile/fold-card.vue?f471","webpack:///./src/components/cj/mobile/comment-list.vue?a0ee","webpack:///./src/service/quest.js","webpack:///./src/views/quest/mobile/detail.vue?d121","webpack:///./src/components/common/item-icon.vue","webpack:///src/components/common/item-icon.vue","webpack:///./src/components/common/item-icon.vue?3283","webpack:///./src/components/common/item-icon.vue?e44d","webpack:///./src/service/item.js","webpack:///./src/components/common/item-icon.vue?bd88","webpack:///./src/components/cj/mobile/comment-list.vue","webpack:///src/components/cj/mobile/comment-list.vue","webpack:///./src/components/cj/mobile/comment-list.vue?1cb3","webpack:///./src/components/cj/mobile/comment-list.vue?46bc","webpack:///./node_modules/core-js/modules/es.string.fixed.js","webpack:///./src/assets/img/quest/target-15.png"],"names":["buildPoints","quest","_quest$questValues","_quest$needItems","_quest$killNpcs","result","pushPoint","map","point","push","start","guides","length","_step","point_info","Types","ObjectName","name","ObjectID","id","ObjectType","type","_iterator","_createForOfIteratorHelper","s","n","done","guide","value","coordinates","_step2","_iterator2","coordinate","_objectSpread","Coordinates","err","e","f","end","_step3","_iterator3","_step4","_iterator4","questValues","index","_questValue$guides","questValue","_step5","_iterator5","concat","parseInt","_step6","_iterator6","needItems","_needItem$guides","needItem","_step7","_iterator7","_step8","_iterator8","killNpcs","_killNpc$guides","killNpc","_step9","_iterator9","_step0","_iterator0","schoolIcon","school","filenameMap","万灵山庄","北天药宗","凌雪阁","衍天宗","__imgPath","questDescFormat","desc","ignoreColor","arguments","undefined","_getPlayerName","getPlayerName","playerName","playerBody","replace","match","exec","font","questFont","style","color","questTargetDescFormat","target","localStorage","getItem","render","_vm$source","_vm$source$killNpcs","_vm$source2","_vm$source3","_vm$source3$needItems","_vm$source4","_vm$source5","_vm$source5$start","_vm$source6","_vm$source6$start","_vm$source7","_vm$source7$start","_vm$source8","_vm$source8$start","_vm$source9","_vm$source9$start","_vm$source0","_vm$source0$start","_vm$source1","_vm$source1$start","_vm$source10","_vm$source10$start","_vm$source11","_vm$source11$start","_vm$source12","_vm$source12$start","_vm$source13","_vm$source13$start","_vm$source14","_vm$source14$start","_vm$source15","_vm$source15$start","_vm$source16","_vm$source16$start","_vm$source17","_vm$source17$desc","_vm$source17$desc$Acc","_vm$source17$desc$Acc2","_vm$source18","_vm$source18$desc","_vm$source18$desc$Fin","_vm$source18$desc$Fin2","_vm$source19","_vm$source19$desc","_vm$source20","_vm$source20$desc","_vm$wiki_post","_vm$wiki_post$post","_vm$source21","_vm$source22","_vm","this","_c","_self","staticClass","attrs","sourceName","domProps","_s","targetDesc","source","_l","i","key","_v","share","require","_e","amount","str","mapName","class","complete","isCompleted","on","toggleConfirmShow","questDesc","AcceptRpgID","dialogues","dialog","FinishRpgID","DunningDialogue","FinishedDialogue","post_id","authors","item","user_id","showAvatar","user_avatar","updated_at","clearContent","wiki_post","post","content","chain","isFromTarget","ref","staticStyle","showHome","showIcon","showMore","drawerOptions","onSearch","scopedSlots","_u","fn","_vm$$refs$suspendComm","_vm$$refs$suspendComm2","userSelectShow","$refs","suspendCommon","clickDrawer","text","isCollect","fixIsActive","proxy","currentRole","$event","setRole","conformShow","toggleCompleted","staticRenderFns","isFold","componentStyle","_t","title","fixed","showFold","toggleFold","props","String","default","Boolean","maxHeight","Number","data","contentHeight","observer","computed","methods","mounted","_this","targetEl","contentContainer","ResizeObserver","entries","entry","contentRect","height","observe","beforeDestroy","disconnect","component","showCurrent","display_data","current","logic","quests","b","all","one","params","quest_id","showBranch","branch","Object","_current","_current$","_current$$id","startsWith","filter","visible","hasOwnProperty","_current2","apply","_toConsumableArray","components","FoldCard","ItemIcon","SuspendCommon","UserSelectDrawer","ConfirmOkDrawer","MiniprogramCommentList","QuestChain","Article","loading","confirmLoading","mapState","onlyNotCompleted","state","completedQuests","client","includes","_this$source","_this$source$desc","Objective","replaceAll","_this$source2","_this$source2$desc","Description","$route","_this$wiki_post","_this$wiki_post$post","author_id","_this$wiki_post$post2","user_name","_this$wiki_post2","_this$wiki_post2$post","user_nickname","_this$wiki_post3","_this$wiki_post3$post","_this$wiki_post4","_this$wiki_post4$post","ts2str","updated","_this$wiki_post5","_this$wiki_post5$user","_this$wiki_post5$user2","users","user","avatar","display_name","nickname","_this$source3","_this$source3$desc","_this$source4","QuestName","hideType","direction","drawerTitle","author","subscribeType","postType","document","url","window","location","href","laterOn","content_meta_id","isInMiniprogramWebview","wx","miniProgram","navigateTo","$message","message","_this$currentRole","role_id","ID","cancelUserQuest","completeUserQuest","then","$store","commit","finally","val","src","loadInitData","_this2","_asyncToGenerator","_regenerator","m","_callee","w","_context","a","getQuest","res","wiki","mix","compatible","isEmpty","is_empty","User","isLogin","postHistory","source_type","source_id","link","triggerStat","postStat","watch","deep","handler","_this3","listUserQuest","_res$data","setItem","jx3id","immediate","$","call","uncurryThis","requireObjectCoercible","isCallable","isObject","isRegExp","toString","getMethod","getRegExpFlags","getSubstitution","wellKnownSymbol","IS_PURE","REPLACE","$TypeError","TypeError","indexOf","stringSlice","slice","max","Math","proto","searchValue","replaceValue","IS_REG_EXP","flags","replacer","string","searchString","functionalReplace","searchLength","advanceBy","position","replacement","O","endOfLastMatch","$node","get","getQuests","body","getNewestQuests","getWaiting","assign","$cms","getQuestMaps","getBreadcrumb","html","delete","click_trigger","dishoverable","show","slot","size","getLink","backgroundImage","item_border","opacity","Quality","item_border_quest","icon_url","IconID","has_title","Name","item_id","real_id","maybeBook","cache_key","display_amount","Item","get_data","get_item","keys","sessionStorage","JSON","stringify","catch","_e$data","code","Genre","IsQuest","iconLink","_cache","parse","console","log","mute","getMyFav","$next","delMyFav","getMenus","get_items_count","get_item_enums","show_item_prices","get_item_prices","get_items_by_node","_params$client","_params$per","ids","Array","join","per","getItemsByName","get_newest_items","_params$client2","get_items","get_items_search","get_menu_items","get_waiting","getManufactureDetail","getItemDetail","comments","_item$children","toDetail","dayjs","commentDate","format","children","reply","parent","noMoreData","reply_form","getInfo","page","pageSize","total","isWujie","_this$$route$name","_onScroll","handleScroll","bind","addEventListener","removeEventListener","scrollTop","pageYOffset","documentElement","windowHeight","innerHeight","docHeight","scrollHeight","loadMore","get_comments","append","outputs","_loop","c","parent_id","sourceId","wikiComment","list","create_comment","form","handleCurrentChange","star_comment","comment","is_star","star","top_comment","is_top","_this4","top","createHTML","forcedStringHTMLMethod","forced","module","exports"],"mappings":"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","file":"js/chunk-087ff596.11a94c2a.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./quest-chain.vue?vue&type=style&index=0&id=4f090607&prod&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./item-icon.vue?vue&type=style&index=1&id=f55cfca6&prod&lang=less&scoped=true\"","import { __imgPath } from \"@/utils/config\";\nimport questFont from \"@/assets/data/quest-font.json\";\n\nexport const buildPoints = (quest) => {\n    let result = {};\n    const pushPoint = (map, point) => {\n        if (!result[map]) result[map] = [];\n        result[map].push(point);\n    };\n\n    if (quest.start.guides.length > 0) {\n        let start = quest.start;\n        let point_info = {\n            Types: \"Start\",\n            ObjectName: start.name,\n            ObjectID: start.id,\n            ObjectType: start.type,\n        };\n        for (let guide of start.guides)\n            if (guide.coordinates) {\n                for (let coordinate of guide.coordinates)\n                    pushPoint(guide.map, {\n                        ...point_info,\n                        Coordinates: coordinate,\n                    });\n            } else if (guide.coordinate) {\n                pushPoint(guide.map, {\n                    ...point_info,\n                    Coordinates: guide.coordinate,\n                });\n            }\n    }\n    if (quest.end.guides.length > 0) {\n        let end = quest.end;\n        let point_info = {\n            Types: \"End\",\n            ObjectName: end.name,\n            ObjectID: end.id,\n            ObjectType: end.type,\n        };\n        for (let guide of end.guides)\n            if (guide.coordinates) {\n                for (let coordinate of guide.coordinates)\n                    pushPoint(guide.map, {\n                        ...point_info,\n                        Coordinates: coordinate,\n                    });\n            } else if (guide.coordinate) {\n                pushPoint(guide.map, {\n                    ...point_info,\n                    Coordinates: guide.coordinate,\n                });\n            }\n    }\n    if (quest.questValues?.length > 0) {\n        for (let index in quest.questValues) {\n            let questValue = quest.questValues[index];\n            if (questValue.guides?.length > 0) {\n                for (let guide of questValue.guides) {\n                    let point_info = {\n                        Types: `State${parseInt(index) + 1}`,\n                        ObjectName: guide.name,\n                        ObjectID: guide.id,\n                        ObjectType: guide.type,\n                    };\n                    if (guide.coordinates) {\n                        for (let coordinate of guide.coordinates)\n                            pushPoint(guide.map, {\n                                ...point_info,\n                                Coordinates: coordinate,\n                            });\n                    } else if (guide.coordinate) {\n                        pushPoint(guide.map, {\n                            ...point_info,\n                            Coordinates: guide.coordinate,\n                        });\n                    }\n                }\n            }\n        }\n    }\n    if (quest.needItems?.length > 0) {\n        for (let index in quest.needItems) {\n            let needItem = quest.needItems[index];\n            if (needItem.guides?.length > 0) {\n                for (let guide of needItem.guides) {\n                    let point_info = {\n                        Types: `NeedItem${parseInt(index) + 1}`,\n                        ObjectName: guide.name,\n                        ObjectID: guide.id,\n                        ObjectType: guide.type,\n                    };\n                    if (guide.coordinates) {\n                        for (let coordinate of guide.coordinates)\n                            pushPoint(guide.map, {\n                                ...point_info,\n                                Coordinates: coordinate,\n                            });\n                    } else if (guide.coordinate) {\n                        pushPoint(guide.map, {\n                            ...point_info,\n                            Coordinates: guide.coordinate,\n                        });\n                    }\n                }\n            }\n        }\n    }\n    if (quest.killNpcs?.length > 0) {\n        for (let index in quest.killNpcs) {\n            let killNpc = quest.killNpcs[index];\n            if (killNpc.guides?.length > 0) {\n                for (let guide of killNpc.guides) {\n                    let point_info = {\n                        Types: `KillNpc${parseInt(index) + 1}`,\n                        ObjectName: guide.name,\n                        ObjectID: guide.id,\n                        ObjectType: guide.type,\n                    };\n                    if (guide.coordinates) {\n                        for (let coordinate of guide.coordinates)\n                            pushPoint(guide.map, {\n                                ...point_info,\n                                Coordinates: coordinate,\n                            });\n                    } else if (guide.coordinate) {\n                        pushPoint(guide.map, {\n                            ...point_info,\n                            Coordinates: guide.coordinate,\n                        });\n                    }\n                }\n            }\n        }\n    }\n    return result;\n};\n\nexport const schoolIcon = (school) => {\n    let filenameMap = {\n        万灵山庄: \"万灵\",\n        北天药宗: \"药宗\",\n        凌雪阁: \"凌雪\",\n        衍天宗: \"衍天\",\n    };\n    if (filenameMap[school]) school = filenameMap[school];\n    return `${__imgPath}/image/school/${school}.png`;\n};\n\nexport const questDescFormat = (desc, ignoreColor = false) => {\n    const { playerName, playerBody } = getPlayerName();\n    if (desc) {\n        let result = desc\n            .replace(/\\\\n/g, \"\\n\")\n            .replace(/\\<G\\>/g, \"&emsp;&emsp;\")\n            .replace(/\\<N\\>/g, playerName)\n            .replace(/\\<C\\>/g, playerBody)\n            .replace(\n                /\\<CMD NPC_NAME (.+?)\\>/g,\n                `<strong class=\"u-dialog-name\">$1</strong><br /><div class=\"u-dialog-desc\">`\n            )\n            .replace(\n                /\\<CMD PLAYER_NAME >/g,\n                `<strong class=\"u-dialog-name\">${playerName}</strong><br /></div class=\"u-dialog-desc\">`\n            )\n            .replace(/\\<H(\\d+)\\>/g, '<div style=\"height: calc($1px - 1.5rem)\"></div></div>');\n        while (true) {\n            let match = /\\<F(\\d+) (.+?)\\>/.exec(result);\n            if (match) {\n                let font = questFont[match[1]];\n                const style = `style=\"color: ${font.color}99\"`;\n                result = result.replace(match[0], `<span ${ignoreColor ? \"\" : style}>${match[2]}</span>`);\n            } else {\n                break;\n            }\n        }\n        return result;\n    }\n    return \"\";\n};\n\nexport const questTargetDescFormat = (target) => {\n    if (target)\n        return target\n            .replace(/\\\\n/g, \"\\n\")\n            .replace(/\\<G\\>/g, \"&emsp;&emsp;\")\n            .replace(/\\<C\\>/g, \"侠士\")\n            .replace(/\\<N\\>/g, \"侠士\")\n            .replace(/\\<F\\d+ (.+?)\\>/g, \"$1\");\n    else return \"\";\n};\n\nexport const getPlayerName = () => {\n    const playerName = localStorage.getItem(\"QuestWiki:playerName\") || \"侠士\";\n    const playerBody = localStorage.getItem(\"QuestWiki:playerBody\") || \"少侠\";\n    return { playerName, playerBody };\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"c-var p-mobile-quest-detail\"},[_c('div',{staticClass:\"m-page-container\"},[_c('fold-card',{staticClass:\"m-quest-info\",attrs:{\"title\":_vm.sourceName,\"fixed\":true}},[_c('div',{staticClass:\"u-target\"},[_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.targetDesc)}}),(_vm.source?.killNpcs?.length > 0)?_vm._l((_vm.source?.killNpcs),function(killNpc,i){return _c('div',{key:`kn` + i,staticClass:\"u-target-sub\"},[_c('span',[_vm._v(\"击杀\")]),_c('span',[_vm._v(_vm._s(killNpc.name))]),(killNpc.share)?_c('el-tooltip',{attrs:{\"content\":\"该目标可共享击杀\",\"placement\":\"top\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/quest/target-15.png\"),\"alt\":\"\"}})]):_vm._e(),_c('span',[_vm._v(\" x \"+_vm._s(killNpc.amount))])],1)}):_vm._e(),(_vm.source?.needItems?.length > 0)?_vm._l((_vm.source.needItems),function(needItem,i){return _c('div',{key:`ni` + i,staticClass:\"u-target-sub\"},[_c('span',[_vm._v(\"收集\")]),_c('item-icon',{attrs:{\"item_id\":needItem.id,\"has_title\":true,\"size\":18}}),_c('span',[_vm._v(\"x \"+_vm._s(needItem.amount))])],1)}):_vm._e(),_vm._l((_vm.source?.questValues || []),function(questValue,i){return _c('div',{key:questValue + i,staticClass:\"u-target-sub\"},[_c('span',[_vm._v(_vm._s(questValue.str)+\" x \"+_vm._s(questValue.value))])])})],2),_c('div',{staticClass:\"u-pos\"},[_c('div',{staticClass:\"u-pos-item\"},[_c('span',{staticClass:\"u-label\"},[_vm._v(\"任务起点：\")]),(_vm.source?.start?.type === 'npc')?[_c('span',{staticClass:\"u-map\"},[_vm._v(\" \"+_vm._s(_vm.source?.start?.mapName || \"未知地图\")+\" \")]),_vm._v(\" - \"),_c('span',{staticClass:\"u-npc\"},[_vm._v(\" \"+_vm._s(_vm.source?.start?.name || \"未知NPC\")+\" \")]),_c('span',{staticClass:\"u-id\"},[_vm._v(\"(ID: \"+_vm._s(_vm.source?.start?.id)+\")\")])]:_vm._e(),(_vm.source?.start?.type === 'item')?[_c('item-icon',{staticClass:\"u-item\",attrs:{\"size\":18,\"item_id\":_vm.source?.start?.id,\"has_title\":\"\"}}),_c('span',{staticClass:\"u-id\"},[_vm._v(\"(ID: \"+_vm._s(_vm.source?.start?.id)+\")\")])]:_vm._e()],2),_c('div',{staticClass:\"u-pos-item\"},[_c('span',{staticClass:\"u-label\"},[_vm._v(\"任务终点：\")]),(_vm.source?.start?.type === 'npc')?[_c('span',{staticClass:\"u-map\"},[_vm._v(\" \"+_vm._s(_vm.source?.start?.mapName || \"未知地图\")+\" \")]),_vm._v(\" - \"),_c('span',{staticClass:\"u-npc\"},[_vm._v(\" \"+_vm._s(_vm.source?.start?.name || \"未知NPC\")+\" \")]),_c('span',{staticClass:\"u-id\"},[_vm._v(\"(ID: \"+_vm._s(_vm.source?.start?.id)+\")\")])]:_vm._e(),(_vm.source?.start?.type === 'item')?[_c('item-icon',{staticClass:\"u-item\",attrs:{\"size\":18,\"item_id\":_vm.source?.start?.id,\"has_title\":\"\"}}),_c('span',{staticClass:\"u-id\"},[_vm._v(\"(ID: \"+_vm._s(_vm.source?.start?.id)+\")\")])]:_vm._e()],2)])]),_c('button',{staticClass:\"m-confirm\",class:{ complete: _vm.isCompleted },on:{\"click\":_vm.toggleConfirmShow}},[_vm._v(\" \"+_vm._s(_vm.isCompleted ? \"设为未完成\" : \"设为已完成\")+\" \")]),_c('fold-card',{staticClass:\"m-quest-info\",attrs:{\"title\":\"任务描述\"}},[_c('p',{staticClass:\"u-desc\",domProps:{\"innerHTML\":_vm._s(_vm.questDesc)}})]),_c('fold-card',{attrs:{\"title\":\"任务文案\"}},[_c('div',{staticClass:\"m-quest-dialog\"},[(_vm.source?.desc?.AcceptRpgID?.dialogues?.length)?_c('div',{staticClass:\"u-dialog\"},[_c('p',{staticClass:\"u-subtitle2\"},[_c('span',[_vm._v(\"接任务对话\")])]),_vm._l((_vm.source.desc.AcceptRpgID.dialogues),function(dialog,index){return _c('p',{key:index,staticClass:\"u-dialog-content\",domProps:{\"innerHTML\":_vm._s(_vm.questDescFormat(dialog[0]))}})})],2):_vm._e(),(_vm.source?.desc?.FinishRpgID?.dialogues?.length)?_c('div',{staticClass:\"u-dialog\"},[_c('p',{staticClass:\"u-subtitle2\"},[_c('span',[_vm._v(\"任务完成对话\")])]),_vm._l((_vm.source.desc.FinishRpgID.dialogues),function(dialog,index){return _c('p',{key:index,staticClass:\"u-dialog-content\",domProps:{\"innerHTML\":_vm._s(_vm.questDescFormat(dialog[0]))}})})],2):_vm._e(),(_vm.source?.desc?.DunningDialogue)?_c('div',{staticClass:\"u-dialog\"},[_c('p',{staticClass:\"u-subtitle2\"},[_c('span',[_vm._v(\"任务进行中\")])]),_c('p',{staticClass:\"u-dialog-content\",domProps:{\"innerHTML\":_vm._s(_vm.questDescFormat(_vm.source.desc.DunningDialogue))}})]):_vm._e(),(_vm.source?.desc?.FinishedDialogue)?_c('div',{staticClass:\"u-dialog\"},[_c('p',{staticClass:\"u-subtitle2\"},[_c('span',[_vm._v(\"任务完成\")])]),_c('p',{staticClass:\"u-dialog-content\",domProps:{\"innerHTML\":_vm._s(_vm.questDescFormat(_vm.source.desc.FinishedDialogue))}})]):_vm._e()])]),(_vm.post_id)?_c('fold-card',{attrs:{\"title\":\"任务攻略\"}},[_c('div',{staticClass:\"m-wiki\"},[_c('div',{staticClass:\"m-wiki-header\"},[_c('div',{staticClass:\"u-avatar-list\"},_vm._l((_vm.authors),function(item){return _c('div',{key:item.user_id,staticClass:\"u-avatar\"},[_c('img',{attrs:{\"src\":_vm.showAvatar(item.user_avatar)}})])}),0),_c('div',{staticClass:\"u-time\"},[_vm._v(\" \"+_vm._s(_vm.updated_at)+\" \")])]),_c('div',{staticClass:\"m-content-box\"},[_c('Article',{attrs:{\"id\":\"wikiArticle\",\"content\":_vm.clearContent(_vm.wiki_post?.post?.content)}})],1)])]):_vm._e(),(_vm.source?.chain)?_c('fold-card',{attrs:{\"title\":\"任务链\"}},[_c('quest-chain',{attrs:{\"data\":_vm.source?.chain,\"current\":_vm.id}})],1):_vm._e(),_c('div',{staticClass:\"m-comments\"},[_c('miniprogram-comment-list',{attrs:{\"source-id\":_vm.id,\"type\":\"quest\"}})],1)],1),(!_vm.isFromTarget)?_c('suspend-common',{ref:\"suspendCommon\",staticClass:\"u-suspend-common\",staticStyle:{\"width\":\"100%\"},attrs:{\"btn-options\":{\n            showHome: true,\n            showIcon: false,\n\n            showMore: true,\n        },\"drawer-options\":_vm.drawerOptions},on:{\"search\":_vm.onSearch},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('div',{staticClass:\"m-more-action\"},[_c('div',{staticClass:\"u-action\",on:{\"click\":() => (_vm.userSelectShow = true)}},[_c('svg',{attrs:{\"width\":\"25\",\"height\":\"24\",\"viewBox\":\"0 0 25 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"d\":\"M17.5 12a2.25 2.25 0 012.25 2.25V15c0 2.956-2.79 6-7.5 6s-7.5-3.044-7.5-6v-.75A2.25 2.25 0 017 12h10.5zm-5.25-9.75a4.125 4.125 0 110 8.25 4.125 4.125 0 010-8.25z\",\"fill\":\"#FEDAA3\"}})])]),_c('div',{staticClass:\"u-action\",on:{\"click\":() => _vm.$refs.suspendCommon.clickDrawer({ type: 'collect', text: '收藏' }, 1)}},[(_vm.$refs.suspendCommon?.isCollect)?_c('svg',{staticClass:\"icon\",attrs:{\"viewBox\":\"0 0 1024 1024\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"24\",\"height\":\"24\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"d\":\"M467.584 153.568c11.136-13.312 26.208-25.952 44.544-25.632 21.76-.064 38.016 16.992 50.272 33.056 23.968 32.576 42.336 68.768 62.368 103.808 10.112 17.472 18.944 35.776 30.944 52.096 8.48 11.616 22.08 17.824 35.712 21.056 41.6 10.4 83.744 18.528 125.152 29.792 21.6 6.304 44.192 12.64 61.952 27.136 15.04 12.096 20.992 33.408 15.552 51.776-6.752 23.456-22.208 42.976-36.832 62.048-23.584 29.536-48.576 57.92-72.992 86.784C662.688 473.28 540.384 351.904 418.88 229.664c15.072-26.048 29.408-52.8 48.704-76.096zm-261.696 10.688c2.624.128 7.872.32 10.464.448l-.384 2.816c9.92.928 18.688 6.432 25.568 13.376 39.424 39.488 78.976 78.848 118.304 118.4 45.024 42.464 87.808 87.232 131.904 130.656C577.6 515.808 663.36 601.728 749.312 687.488c38.24 40.672 78.656 79.232 117.76 119.04 9.824 10.336 22.208 19.36 27.2 33.216 3.552 14.464 1.76 31.328-9.568 42.016-14.528 17.792-44.448 19.168-60.544 2.816-18.272-17.984-36.544-36.032-54.336-54.496-.384 20.736-4.704 44.672-22.784 57.536-17.76 12.8-41.184 8.64-60.704 2.72-38.56-12.352-74.752-30.816-111.648-47.296-17.632-7.616-34.624-17.312-53.44-21.792-14.848-3.392-29.472 2.72-42.848 8.544-38.368 17.12-76.128 35.648-115.072 51.456C344.32 888.544 324.672 896 304 896.032c-15.68.16-31.328-7.968-39.296-21.632-10.368-17.44-10.88-38.528-11.072-58.304 1.088-50.336 7.936-100.288 11.968-150.432 1.088-14.304 1.504-29.568-5.568-42.56-8.832-16.032-21.952-29.024-33.472-43.072-26.752-31.968-55.168-62.752-78.816-97.184-12.576-18.88-24.896-42.016-17.568-65.248 6.176-20.832 26.688-32.352 45.664-39.648 36.256-13.536 74.496-20.544 112.032-29.536-35.2-34.912-70.08-70.144-105.248-105.12-7.616-7.424-14.272-16.544-15.264-27.424l-2.848.608.384-13.696 2.656.896c2.624-18.88 19.616-34.656 38.496-36.608l-.16-2.816z\",\"fill\":\"#FEDAA3\"}})]):_c('svg',{attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"d\":\"M10.288 4.836c.778-1.289 2.646-1.289 3.424 0l1.15 1.903a2 2 0 001.257.914l2.166.505c1.465.341 2.043 2.119 1.058 3.256l-1.455 1.681a2 2 0 00-.48 1.48l.188 2.215c.128 1.5-1.384 2.598-2.77 2.012l-2.049-.864a2 2 0 00-1.554 0l-2.049.864c-1.387.585-2.898-.513-2.77-2.012l.189-2.216a2 2 0 00-.48-1.479l-1.456-1.68c-.985-1.138-.407-2.916 1.058-3.257l2.166-.505a2 2 0 001.258-.914l1.149-1.903z\",\"fill\":\"#FEDAA3\",\"stroke\":\"#FEDAA3\",\"stroke-width\":\"1.5\"}})])]),_c('div',{staticClass:\"u-action\",on:{\"click\":() => _vm.$refs.suspendCommon.clickDrawer({ type: 'pin', text: '固定按钮' }, 1)}},[(_vm.$refs.suspendCommon?.fixIsActive)?_c('svg',{attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"d\":\"M15 4.5l-4 4L7 10l-1.5 1.5 7 7L14 17l1.5-4 4-4M9 15l-4.5 4.5M14.5 4L20 9.5\",\"stroke\":\"#FEDAA3\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}})]):_c('svg',{staticClass:\"icon\",attrs:{\"viewBox\":\"0 0 1024 1024\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"100\",\"height\":\"100\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"d\":\"M624.864 119.424c6.144-7.872 13.696-16.928 24.672-16.64 7.68-.736 14.24 3.808 19.2 9.184 81.984 82.304 164.32 164.192 246.08 246.688 7.776 5.92 7.456 16.416 6.016 25.088-2.304 7.488-9.152 11.968-14.848 16.736-58.272 49.504-116.512 99.072-174.784 148.544-4.48 4.416-10.912 5.44-16.768 6.912-5.696 40.8-13.376 81.28-18.08 122.208 6.528 16.32 5.28 34.368 8.16 51.488 1.984 8.864-1.728 17.792-7.84 24.128-24.608 23.552-47.776 48.544-72.544 71.936-8.96 9.056-24.864 6.912-32.96-2.272-51.136-51.008-101.92-102.368-153.056-153.312-71.616 70.784-142.272 142.624-213.632 213.664-11.424 11.008-21.44 24.384-35.968 31.424-14.144 4.8-31.008 4.512-43.84-3.776-10.336-7.616-19.36-18.144-21.76-31.072-3.808-16.288 2.208-33.984 14.592-45.056 77.344-78.144 155.424-155.616 232.768-233.728-56.736-56.032-112.64-113.024-169.216-169.248-8.128-9.088-7.648-26.016 2.368-33.632 24.416-24.672 48.992-49.12 73.44-73.696 3.808-3.424 9.056-4.16 13.984-4.096 18.112.192 36.064 2.944 53.984 5.408 41.824-4.8 83.744-8.992 125.408-15.264.608-6.048 2.624-11.904 6.528-16.64 49.44-58.24 98.848-116.544 148.096-174.976z\",\"fill\":\"#D9D9D9\"}})])])])]},proxy:true}],null,false,2717940665)}):_vm._e(),_c('user-select-drawer',{attrs:{\"visible\":_vm.userSelectShow,\"current-role\":_vm.currentRole},on:{\"update:visible\":function($event){_vm.userSelectShow=$event},\"change\":_vm.setRole}}),_c('confirm-ok-drawer',{attrs:{\"visible\":_vm.conformShow,\"current\":_vm.isCompleted},on:{\"update:visible\":function($event){_vm.conformShow=$event},\"confirm\":_vm.toggleCompleted}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"c-var w-fold-card\",class:{ 'is-fold': _vm.isFold },style:(_vm.componentStyle)},[_c('div',{staticClass:\"w-fold-card-title\"},[_vm._t(\"title\",function(){return [_vm._v(\" \"+_vm._s(_vm.title)+\" \")]})],2),_c('div',{ref:\"contentContainer\",staticClass:\"w-fold-card-content\"},[_vm._t(\"default\")],2),(!_vm.fixed && _vm.showFold)?_c('div',{staticClass:\"w-fold-card-footer\"},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.toggleFold}},[_vm._v(\" \"+_vm._s(_vm.isFold ? \"展示全部\" : \"收起全部\")+\" \")])],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"c-var w-fold-card\" :class=\"{ 'is-fold': isFold }\" :style=\"componentStyle\">\n        <div class=\"w-fold-card-title\">\n            <slot name=\"title\">\n                {{ title }}\n            </slot>\n        </div>\n        <div class=\"w-fold-card-content\" ref=\"contentContainer\">\n            <slot></slot>\n        </div>\n        <div class=\"w-fold-card-footer\" v-if=\"!fixed && showFold\">\n            <el-button @click=\"toggleFold\" type=\"text\">\n                {{ isFold ? \"展示全部\" : \"收起全部\" }}\n            </el-button>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"FoldCard\",\n    props: {\n        title: {\n            type: String,\n            default: \"\",\n        },\n        fixed: {\n            type: Boolean,\n            default: false,\n        },\n        maxHeight: {\n            type: Number,\n            default: 200,\n        },\n    },\n    data() {\n        return {\n            isFold: true,\n\n            contentHeight: 0,\n            observer: null,\n        };\n    },\n    computed: {\n        showFold() {\n            return this.contentHeight > this.maxHeight - 100;\n        },\n        componentStyle() {\n            const style = {\n                maxHeight: `${this.maxHeight}px`,\n            };\n\n            if (this.fixed || !this.isFold) {\n                delete style.maxHeight;\n            }\n            return style;\n        },\n    },\n    methods: {\n        toggleFold() {\n            this.isFold = !this.isFold;\n        },\n    },\n    mounted() {\n        const targetEl = this.$refs.contentContainer;\n        this.observer = new ResizeObserver((entries) => {\n            for (const entry of entries) {\n                if (entry.target === targetEl) {\n                    this.contentHeight = entry.contentRect.height;\n                }\n            }\n        });\n        this.observer.observe(targetEl);\n    },\n    beforeDestroy() {\n        this.observer.disconnect();\n        this.observer = null;\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../../../assets/css/miniprogram/var.less\";\n\n.w-fold-card {\n    padding: 16px;\n    margin: 0 20px;\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n    .r(12px);\n    background: var(--primary-brand-4, #282828);\n}\n\n.w-fold-card.is-fold .w-fold-card-footer::before {\n    content: \"\";\n    .pa;\n    background: linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, #fff 73.94%);\n    height: 76px;\n    width: 100%;\n    left: 0;\n    top: -76px;\n}\n@media (prefers-color-scheme: dark) {\n    .w-fold-card.is-fold .w-fold-card-footer::before {\n        background: linear-gradient(180deg, rgba(40, 40, 40, 0) 0%, #282828 73.94%);\n    }\n}\n\n.w-fold-card-title {\n    flex-shrink: 0;\n    color: var(--black-80, rgba(28, 28, 28, 0.8));\n\n    /* 16 Bold */\n    font-size: 16px;\n    font-weight: 700;\n    line-height: 24px; /* 150% */\n}\n\n.w-fold-card-footer {\n    .pr;\n    flex-shrink: 0;\n    display: flex;\n    justify-content: center;\n\n    .el-button {\n        color: var(--black-40, rgba(28, 28, 28, 0.4));\n\n        /* 12 Regular */\n        font-family: \"Microsoft YaHei UI\";\n        font-size: 12px;\n        font-style: normal;\n        font-weight: 400;\n        line-height: 18px; /* 150% */\n\n        padding: 0;\n    }\n}\n\n.w-fold-card-content {\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n    overflow: hidden;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./fold-card.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./fold-card.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./fold-card.vue?vue&type=template&id=f200382e\"\nimport script from \"./fold-card.vue?vue&type=script&lang=js\"\nexport * from \"./fold-card.vue?vue&type=script&lang=js\"\nimport style0 from \"./fold-card.vue?vue&type=style&index=0&id=f200382e&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"u-chain\"},[(_vm.showCurrent)?_c('div',{staticClass:\"list\"},_vm._l((_vm.display_data.current),function(item,i){return _c('div',{key:item.id,staticClass:\"u-chain-name\"},[(item.logic !== undefined)?_c('span',_vm._l((item.quests),function(b){return _c('span',{key:b.id,class:{ all: item.logic, one: !item.logic }},[_vm._v(\" 「\"),_c('router-link',{staticClass:\"u-chain-link\",class:{ current: _vm.current == b.id },attrs:{\"to\":{ name: 'view', params: { quest_id: b.id } }}},[_vm._v(_vm._s(b.name))]),_vm._v(\"」 \")],1)}),0):_c('span',[_vm._v(\" 「\"),_c('router-link',{staticClass:\"u-chain-link\",class:{ current: _vm.current == item.id },attrs:{\"to\":{ name: 'view', params: { quest_id: item.id } }}},[_vm._v(_vm._s(item.name))]),_vm._v(\"」 \")],1),(i != _vm.display_data.current.length - 1)?_c('span',[_vm._v(\" > \")]):_vm._e()])}),0):_vm._e(),(_vm.showBranch)?_c('div',{staticClass:\"branch\"},[_c('div',{staticClass:\"u-more-branch\"},[_vm._v(\"任务分支\")]),_vm._l((_vm.display_data.branch),function(item){return _c('span',{key:item.id,staticClass:\"u-chain-name\"},[_vm._v(\" 「\"),_c('router-link',{staticClass:\"u-chain-link\",attrs:{\"to\":{ name: 'view', params: { quest_id: item.id } }}},[_vm._v(_vm._s(item.name))]),_vm._v(\"」 \")],1)})],2):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @Author: iRuxu\n * @Date: 2022-07-09 19:40:42\n * @LastEditTime: 2022-07-12 14:57:34\n * @Description:\n-->\n<template>\n    <div class=\"u-chain\">\n        <div class=\"list\" v-if=\"showCurrent\">\n            <div class=\"u-chain-name\" v-for=\"(item, i) in display_data.current\" :key=\"item.id\">\n                <span v-if=\"item.logic !== undefined\">\n                    <span :class=\"{ all: item.logic, one: !item.logic }\" v-for=\"b in item.quests\" :key=\"b.id\">\n                        「<router-link\n                            class=\"u-chain-link\"\n                            :class=\"{ current: current == b.id }\"\n                            :to=\"{ name: 'view', params: { quest_id: b.id } }\"\n                            >{{ b.name }}</router-link\n                        >」\n                    </span>\n                </span>\n                <span v-else>\n                    「<router-link\n                        class=\"u-chain-link\"\n                        :class=\"{ current: current == item.id }\"\n                        :to=\"{ name: 'view', params: { quest_id: item.id } }\"\n                        >{{ item.name }}</router-link\n                    >」\n                </span>\n                <span v-if=\"i != display_data.current.length - 1\"> &gt; </span>\n            </div>\n        </div>\n        <div class=\"branch\" v-if=\"showBranch\">\n            <div class=\"u-more-branch\">任务分支</div>\n            <span class=\"u-chain-name\" v-for=\"item in display_data.branch\" :key=\"item.id\">\n                「<router-link class=\"u-chain-link\" :to=\"{ name: 'view', params: { quest_id: item.id } }\">{{\n                    item.name\n                }}</router-link\n                >」\n            </span>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"QuestChain\",\n    props: {\n        data: {\n            type: Object,\n        },\n        current: {\n            type: Number,\n        },\n    },\n    computed: {\n        display_data() {\n            let current = this.data.current;\n            if (current?.[0]?.id?.startsWith(\"b_\")) {\n                current[0].quests = current[0].quests.filter((item) => item.visible);\n                if (current[0].quests.length == 1) {\n                    current[0] = current[0].quests[0];\n                }\n            }\n            current = current.filter((item) => item.hasOwnProperty(\"logic\") || item.visible);\n            let branch = this.data.branch.filter((item) => item.visible);\n            if (branch && branch.length == 1) {\n                current.push(...branch);\n                branch = [];\n            }\n            return {\n                current,\n                branch,\n            };\n        },\n        showBranch() {\n            return this.display_data.branch.length > 0;\n        },\n        showCurrent() {\n            return this.display_data.current.length > 1;\n        },\n    },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.u-chain {\n    .lh(1.5);\n    color: var(--black-80, rgba(28, 28, 28, 0.8));\n    .fz(14px);\n}\n\n.u-chain-name {\n    display: inline-block;\n\n    & .u-chain-link.current {\n        color: var(--primary-brand-2, #fedaa3);\n\n        .bold;\n    }\n\n    & .u-chain-link:not(.current) {\n        color: var(--black-80, rgba(28, 28, 28, 0.8));\n    }\n\n    i {\n        .fz(12px);\n    }\n}\n\n.branch > .u-chain-name:not(:last-of-type)::after {\n    content: \"|\";\n}\n\n.u-chain-name .all:not(:last-of-type)::after {\n    content: \"&\";\n}\n\n.u-chain-name .one:not(:last-of-type)::after {\n    content: \"|\";\n}\n\n.u-more-branch {\n    .mt(16px);\n    \n    flex-shrink: 0;\n    color: var(--black-80, rgba(28, 28, 28, 0.8));\n\n    /* 16 Bold */\n    font-size: 16px;\n    font-weight: 700;\n    line-height: 24px; /* 150% */\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./quest-chain.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./quest-chain.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./quest-chain.vue?vue&type=template&id=4f090607&scoped=true\"\nimport script from \"./quest-chain.vue?vue&type=script&lang=js\"\nexport * from \"./quest-chain.vue?vue&type=script&lang=js\"\nimport style0 from \"./quest-chain.vue?vue&type=style&index=0&id=4f090607&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f090607\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"c-var p-mobile-quest-detail\">\n        <div class=\"m-page-container\">\n            <fold-card class=\"m-quest-info\" :title=\"sourceName\" :fixed=\"true\">\n                <div class=\"u-target\">\n                    <p v-html=\"targetDesc\"></p>\n                    <template v-if=\"source?.killNpcs?.length > 0\">\n                        <div class=\"u-target-sub\" v-for=\"(killNpc, i) in source?.killNpcs\" :key=\"`kn` + i\">\n                            <span>击杀</span>\n                            <span>{{ killNpc.name }}</span>\n                            <el-tooltip v-if=\"killNpc.share\" content=\"该目标可共享击杀\" placement=\"top\">\n                                <img src=\"@/assets/img/quest/target-15.png\" alt=\"\" />\n                            </el-tooltip>\n                            <span> x {{ killNpc.amount }}</span>\n                        </div>\n                    </template>\n                    <template v-if=\"source?.needItems?.length > 0\">\n                        <div class=\"u-target-sub\" v-for=\"(needItem, i) in source.needItems\" :key=\"`ni` + i\">\n                            <span>收集</span>\n                            <item-icon :item_id=\"needItem.id\" :has_title=\"true\" :size=\"18\"></item-icon>\n                            <span>x {{ needItem.amount }}</span>\n                        </div>\n                    </template>\n                    <div\n                        class=\"u-target-sub\"\n                        v-for=\"(questValue, i) in source?.questValues || []\"\n                        :key=\"questValue + i\"\n                    >\n                        <span>{{ questValue.str }} x {{ questValue.value }}</span>\n                    </div>\n                </div>\n                <div class=\"u-pos\">\n                    <div class=\"u-pos-item\">\n                        <span class=\"u-label\">任务起点：</span>\n                        <template v-if=\"source?.start?.type === 'npc'\">\n                            <span class=\"u-map\"> {{ source?.start?.mapName || \"未知地图\" }} </span> -\n                            <span class=\"u-npc\">\n                                {{ source?.start?.name || \"未知NPC\" }}\n                            </span>\n                            <span class=\"u-id\">(ID: {{ source?.start?.id }})</span>\n                        </template>\n                        <template v-if=\"source?.start?.type === 'item'\">\n                            <item-icon class=\"u-item\" :size=\"18\" :item_id=\"source?.start?.id\" has_title></item-icon>\n                            <span class=\"u-id\">(ID: {{ source?.start?.id }})</span>\n                        </template>\n                    </div>\n                    <div class=\"u-pos-item\">\n                        <span class=\"u-label\">任务终点：</span>\n                        <template v-if=\"source?.start?.type === 'npc'\">\n                            <span class=\"u-map\"> {{ source?.start?.mapName || \"未知地图\" }} </span> -\n                            <span class=\"u-npc\">\n                                {{ source?.start?.name || \"未知NPC\" }}\n                            </span>\n                            <span class=\"u-id\">(ID: {{ source?.start?.id }})</span>\n                        </template>\n                        <template v-if=\"source?.start?.type === 'item'\">\n                            <item-icon class=\"u-item\" :size=\"18\" :item_id=\"source?.start?.id\" has_title></item-icon>\n                            <span class=\"u-id\">(ID: {{ source?.start?.id }})</span>\n                        </template>\n                    </div>\n                </div>\n            </fold-card>\n            <button class=\"m-confirm\" :class=\"{ complete: isCompleted }\" @click=\"toggleConfirmShow\">\n                {{ isCompleted ? \"设为未完成\" : \"设为已完成\" }}\n            </button>\n\n            <fold-card class=\"m-quest-info\" title=\"任务描述\">\n                <p class=\"u-desc\" v-html=\"questDesc\"></p>\n            </fold-card>\n            <fold-card title=\"任务文案\">\n                <div class=\"m-quest-dialog\">\n                    <div class=\"u-dialog\" v-if=\"source?.desc?.AcceptRpgID?.dialogues?.length\">\n                        <p class=\"u-subtitle2\"><span>接任务对话</span></p>\n                        <p\n                            class=\"u-dialog-content\"\n                            v-for=\"(dialog, index) in source.desc.AcceptRpgID.dialogues\"\n                            :key=\"index\"\n                            v-html=\"questDescFormat(dialog[0])\"\n                        ></p>\n                    </div>\n                    <div class=\"u-dialog\" v-if=\"source?.desc?.FinishRpgID?.dialogues?.length\">\n                        <p class=\"u-subtitle2\"><span>任务完成对话</span></p>\n                        <p\n                            class=\"u-dialog-content\"\n                            v-for=\"(dialog, index) in source.desc.FinishRpgID.dialogues\"\n                            :key=\"index\"\n                            v-html=\"questDescFormat(dialog[0])\"\n                        ></p>\n                    </div>\n                    <div class=\"u-dialog\" v-if=\"source?.desc?.DunningDialogue\">\n                        <p class=\"u-subtitle2\"><span>任务进行中</span></p>\n                        <p class=\"u-dialog-content\" v-html=\"questDescFormat(source.desc.DunningDialogue)\"></p>\n                    </div>\n                    <div class=\"u-dialog\" v-if=\"source?.desc?.FinishedDialogue\">\n                        <p class=\"u-subtitle2\"><span>任务完成</span></p>\n                        <p class=\"u-dialog-content\" v-html=\"questDescFormat(source.desc.FinishedDialogue)\"></p>\n                    </div>\n                </div>\n            </fold-card>\n\n            <fold-card title=\"任务攻略\" v-if=\"post_id\">\n                <div class=\"m-wiki\">\n                    <div class=\"m-wiki-header\">\n                        <div class=\"u-avatar-list\">\n                            <div v-for=\"item in authors\" :key=\"item.user_id\" class=\"u-avatar\">\n                                <img :src=\"showAvatar(item.user_avatar)\" />\n                            </div>\n                        </div>\n                        <div class=\"u-time\">\n                            {{ updated_at }}\n                        </div>\n                    </div>\n                    <div class=\"m-content-box\">\n                        <Article id=\"wikiArticle\" :content=\"clearContent(wiki_post?.post?.content)\" />\n                    </div>\n                </div>\n            </fold-card>\n\n            <fold-card title=\"任务链\" v-if=\"source?.chain\">\n                <quest-chain :data=\"source?.chain\" :current=\"id\" />\n            </fold-card>\n\n            <!-- 评论区 -->\n            <div class=\"m-comments\">\n                <miniprogram-comment-list :source-id=\"id\" type=\"quest\" />\n            </div>\n        </div>\n        <suspend-common\n            v-if=\"!isFromTarget\"\n            class=\"u-suspend-common\"\n            :btn-options=\"{\n                showHome: true,\n                showIcon: false,\n\n                showMore: true,\n            }\"\n            :drawer-options=\"drawerOptions\"\n            style=\"width: 100%\"\n            @search=\"onSearch\"\n            ref=\"suspendCommon\"\n        >\n            <template #default>\n                <div class=\"m-more-action\">\n                    <div class=\"u-action\" @click=\"() => (userSelectShow = true)\">\n                        <svg width=\"25\" height=\"24\" viewBox=\"0 0 25 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M17.5 12a2.25 2.25 0 012.25 2.25V15c0 2.956-2.79 6-7.5 6s-7.5-3.044-7.5-6v-.75A2.25 2.25 0 017 12h10.5zm-5.25-9.75a4.125 4.125 0 110 8.25 4.125 4.125 0 010-8.25z\" fill=\"#FEDAA3\"/></svg>\n                    </div>\n                    <div\n                        class=\"u-action\"\n                        @click=\"() => $refs.suspendCommon.clickDrawer({ type: 'collect', text: '收藏' }, 1)\"\n                    >\n                        <svg class=\"icon\" viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" v-if=\"$refs.suspendCommon?.isCollect\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M467.584 153.568c11.136-13.312 26.208-25.952 44.544-25.632 21.76-.064 38.016 16.992 50.272 33.056 23.968 32.576 42.336 68.768 62.368 103.808 10.112 17.472 18.944 35.776 30.944 52.096 8.48 11.616 22.08 17.824 35.712 21.056 41.6 10.4 83.744 18.528 125.152 29.792 21.6 6.304 44.192 12.64 61.952 27.136 15.04 12.096 20.992 33.408 15.552 51.776-6.752 23.456-22.208 42.976-36.832 62.048-23.584 29.536-48.576 57.92-72.992 86.784C662.688 473.28 540.384 351.904 418.88 229.664c15.072-26.048 29.408-52.8 48.704-76.096zm-261.696 10.688c2.624.128 7.872.32 10.464.448l-.384 2.816c9.92.928 18.688 6.432 25.568 13.376 39.424 39.488 78.976 78.848 118.304 118.4 45.024 42.464 87.808 87.232 131.904 130.656C577.6 515.808 663.36 601.728 749.312 687.488c38.24 40.672 78.656 79.232 117.76 119.04 9.824 10.336 22.208 19.36 27.2 33.216 3.552 14.464 1.76 31.328-9.568 42.016-14.528 17.792-44.448 19.168-60.544 2.816-18.272-17.984-36.544-36.032-54.336-54.496-.384 20.736-4.704 44.672-22.784 57.536-17.76 12.8-41.184 8.64-60.704 2.72-38.56-12.352-74.752-30.816-111.648-47.296-17.632-7.616-34.624-17.312-53.44-21.792-14.848-3.392-29.472 2.72-42.848 8.544-38.368 17.12-76.128 35.648-115.072 51.456C344.32 888.544 324.672 896 304 896.032c-15.68.16-31.328-7.968-39.296-21.632-10.368-17.44-10.88-38.528-11.072-58.304 1.088-50.336 7.936-100.288 11.968-150.432 1.088-14.304 1.504-29.568-5.568-42.56-8.832-16.032-21.952-29.024-33.472-43.072-26.752-31.968-55.168-62.752-78.816-97.184-12.576-18.88-24.896-42.016-17.568-65.248 6.176-20.832 26.688-32.352 45.664-39.648 36.256-13.536 74.496-20.544 112.032-29.536-35.2-34.912-70.08-70.144-105.248-105.12-7.616-7.424-14.272-16.544-15.264-27.424l-2.848.608.384-13.696 2.656.896c2.624-18.88 19.616-34.656 38.496-36.608l-.16-2.816z\" fill=\"#FEDAA3\"/></svg>\n                        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" v-else=\"\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M10.288 4.836c.778-1.289 2.646-1.289 3.424 0l1.15 1.903a2 2 0 001.257.914l2.166.505c1.465.341 2.043 2.119 1.058 3.256l-1.455 1.681a2 2 0 00-.48 1.48l.188 2.215c.128 1.5-1.384 2.598-2.77 2.012l-2.049-.864a2 2 0 00-1.554 0l-2.049.864c-1.387.585-2.898-.513-2.77-2.012l.189-2.216a2 2 0 00-.48-1.479l-1.456-1.68c-.985-1.138-.407-2.916 1.058-3.257l2.166-.505a2 2 0 001.258-.914l1.149-1.903z\" fill=\"#FEDAA3\" stroke=\"#FEDAA3\" stroke-width=\"1.5\"/></svg>\n                    </div>\n                    <div\n                        class=\"u-action\"\n                        @click=\"() => $refs.suspendCommon.clickDrawer({ type: 'pin', text: '固定按钮' }, 1)\"\n                    >\n                        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" v-if=\"$refs.suspendCommon?.fixIsActive\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M15 4.5l-4 4L7 10l-1.5 1.5 7 7L14 17l1.5-4 4-4M9 15l-4.5 4.5M14.5 4L20 9.5\" stroke=\"#FEDAA3\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg>\n                        <svg class=\"icon\" viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\" v-else=\"\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M624.864 119.424c6.144-7.872 13.696-16.928 24.672-16.64 7.68-.736 14.24 3.808 19.2 9.184 81.984 82.304 164.32 164.192 246.08 246.688 7.776 5.92 7.456 16.416 6.016 25.088-2.304 7.488-9.152 11.968-14.848 16.736-58.272 49.504-116.512 99.072-174.784 148.544-4.48 4.416-10.912 5.44-16.768 6.912-5.696 40.8-13.376 81.28-18.08 122.208 6.528 16.32 5.28 34.368 8.16 51.488 1.984 8.864-1.728 17.792-7.84 24.128-24.608 23.552-47.776 48.544-72.544 71.936-8.96 9.056-24.864 6.912-32.96-2.272-51.136-51.008-101.92-102.368-153.056-153.312-71.616 70.784-142.272 142.624-213.632 213.664-11.424 11.008-21.44 24.384-35.968 31.424-14.144 4.8-31.008 4.512-43.84-3.776-10.336-7.616-19.36-18.144-21.76-31.072-3.808-16.288 2.208-33.984 14.592-45.056 77.344-78.144 155.424-155.616 232.768-233.728-56.736-56.032-112.64-113.024-169.216-169.248-8.128-9.088-7.648-26.016 2.368-33.632 24.416-24.672 48.992-49.12 73.44-73.696 3.808-3.424 9.056-4.16 13.984-4.096 18.112.192 36.064 2.944 53.984 5.408 41.824-4.8 83.744-8.992 125.408-15.264.608-6.048 2.624-11.904 6.528-16.64 49.44-58.24 98.848-116.544 148.096-174.976z\" fill=\"#D9D9D9\"/></svg>\n                    </div>\n                </div>\n            </template>\n        </suspend-common>\n\n        <user-select-drawer :visible.sync=\"userSelectShow\" :current-role=\"currentRole\" @change=\"setRole\" />\n\n        <confirm-ok-drawer :visible.sync=\"conformShow\" :current=\"isCompleted\" @confirm=\"toggleCompleted\" />\n    </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\n\nimport SuspendCommon from \"@jx3box/jx3box-common-ui/src/SuspendCommon.vue\";\nimport UserSelectDrawer from \"@/components/cj/mobile/user-select-drawer.vue\";\nimport ConfirmOkDrawer from \"@/components/cj/mobile/confirm-ok-drawer.vue\";\nimport MiniprogramCommentList from \"@/components/cj/mobile/comment-list.vue\";\nimport ItemIcon from \"@/components/common/item-icon.vue\";\nimport FoldCard from \"@/components/quest/mobile/fold-card.vue\";\nimport Article from \"@jx3box/jx3box-editor/src/Article.vue\";\nimport QuestChain from \"@/components/quest/mobile/quest-chain.vue\";\n\nimport { getQuest, completeUserQuest, cancelUserQuest, listUserQuest, getQuests } from \"@/service/quest\";\nimport { isInMiniprogramWebview } from \"@/utils/minprogram\";\nimport { publishLink, showAvatar, showSchoolIcon, ts2str } from \"@jx3box/jx3box-common/js/utils\";\nimport { questDescFormat, questTargetDescFormat } from \"@/utils/quest.js\";\nimport { wiki } from \"@jx3box/jx3box-common/js/wiki_v2\";\nimport { postHistory, postStat } from \"@jx3box/jx3box-common/js/stat\";\nimport User from \"@jx3box/jx3box-common/js/user\";\n\nexport default {\n    name: \"MobileQuestDetail\",\n    components: {\n        FoldCard,\n        ItemIcon,\n        SuspendCommon,\n        UserSelectDrawer,\n        ConfirmOkDrawer,\n        MiniprogramCommentList,\n        QuestChain,\n        Article,\n    },\n    data() {\n        return {\n            loading: true,\n            source: \"\",\n            wiki_post: \"\",\n\n            userSelectShow: false,\n\n            conformShow: false,\n            confirmLoading: false,\n        };\n    },\n    computed: {\n        ...mapState({\n            onlyNotCompleted: (state) => state.onlyNotCompleted,\n            completedQuests: (state) => state.completedQuests,\n            currentRole: (state) => state.currentRole,\n            client: (state) => state.client,\n        }),\n        isCompleted() {\n            return this.completedQuests.includes(Number(this.id));\n        },\n        targetDesc() {\n            return questTargetDescFormat(this.source?.desc?.Objective).replaceAll(\"&emsp;\", \"\");\n        },\n        questDesc() {\n            return questDescFormat(this.source?.desc?.Description, true).replace(/^&emsp;&emsp;\\n/, \"\");\n        },\n\n        id() {\n            return Number(this.$route.params.quest_id); \n        },\n        post_id() {\n            return this.wiki_post?.post?.id || undefined;\n        },\n        author_id() {\n            return ~~this.wiki_post.post?.user_id;\n        },\n        user_name() {\n            return this.wiki_post?.post?.user_nickname;\n        },\n        user_avatar() {\n            return this.wiki_post?.post?.user_avatar;\n        },\n        updated_at() {\n            return ts2str(this.wiki_post?.post?.updated);\n        },\n        authors: function () {\n            return (\n                this.wiki_post?.users\n                    ?.filter((user) => user.id)\n                    ?.map((user) => {\n                        return {\n                            user_id: user.id,\n                            user_avatar: user.avatar,\n                            display_name: user.nickname,\n                        };\n                    }) || []\n            );\n        },\n        sourceName() {\n            return this.source?.desc?.QuestName || this.source?.name;\n        },\n        isFromTarget() {\n            return false;\n        },\n        drawerOptions() {\n            return {\n                hideType: [\"report\"], //需要隐藏的type,如['search','pin']\n                direction: \"btt\", //弹出框方向，btt、ttb、rtl、ltr\n                drawerTitle: this.sourceName, //弹出框标题\n                author: {\n                    name: this.user_name, //作者名称\n                    avatar: this.user_avatar, //作者头像\n                    author_id: this.author_id, //作者id\n                },\n                subscribeType: \"wiki\",\n                postType: \"quest\",\n                id: this.post_id,\n                title: this.sourceName || document.title || \"\", //默认固定标题,默认取页面标题\n                url: window.location.href, //默认取浏览器地址\n                laterOn: {\n                    author_id: this.author_id || 0, //作者id\n                    content_meta_id: this.post_id,\n                },\n            };\n        },\n    },\n    methods: {\n        showAvatar,\n        questDescFormat(desc) {\n            return questDescFormat(desc, true);\n        },\n        questTargetDescFormat,\n        ts2str,\n        onSearch() {\n            if (isInMiniprogramWebview()) {\n                wx.miniProgram.navigateTo({\n                    url: `/pages/search/search-detail/search-detail?app=wiki&filter_category=成就`,\n                });\n            } else {\n                this.$message({\n                    message: \"非小程序环境，不支持跳转搜索页\",\n                    type: \"warning\",\n                });\n            }\n        },\n        toggleConfirmShow() {\n            this.conformShow = true;\n        },\n        toggleCompleted() {\n            this.confirmLoading = true;\n            const role_id = this.currentRole?.ID;\n            const quest_id = Number(this.id);\n            const fn = this.isCompleted ? cancelUserQuest(role_id, quest_id) : completeUserQuest(role_id, quest_id);\n            fn.then(() => {\n                this.$store.commit(this.isCompleted ? \"REMOVE_COMPLETED_QUEST\" : \"ADD_COMPLETED_QUEST\", quest_id);\n            }).finally(() => {\n                this.confirmLoading = false;\n            });\n        },\n        setRole(val) {\n            this.$store.commit(\"SET_ROLE\", val);\n            this.userSelectShow = false;\n        },\n        clearContent(content) {\n            return (content || \"\")\n                .replace(/ style=\"[^\"]*\"/g, \"\")\n                .replace(/<i?frame.*?src=\"(.*?)\".*?>/g, (match, src) => {\n                    return `<a href=\"${src}\" target=\"_blank\">${src}</a>`;\n                })\n                .replace(/<i?frame.*?src=\"(.*?)\".*?>.*?<\\/i?frame>/g, (match, src) => {\n                    return `<a href=\"${src}\" target=\"_blank\">${src}</a>`;\n                });\n        },\n        async loadInitData() {\n            if (!this.id) return;\n            this.loading = true;\n            await getQuest({\n                id: this.id,\n                client: this.client,\n            }).then((res) => {\n                this.source = res.data;\n            });\n            await wiki\n                .mix({\n                    type: \"quest\",\n                    id: this.id,\n                    client: this.client,\n                })\n                .then((res) => {\n                    const { post, source, compatible, isEmpty, users } = res;\n                    this.wiki_post = {\n                        post: post,\n                        source: source,\n                        users,\n                    };\n                    this.is_empty = isEmpty;\n                    this.compatible = compatible;\n                    if (!post) return;\n                    User.isLogin() &&\n                        postHistory({\n                            source_type: this.client == \"origin\" ? \"origin_quest\" : \"quest\",\n                            source_id: ~~this.id,\n                            link: location.href,\n                            title: post.title,\n                        });\n                })\n                .finally(() => {\n                    this.loading = false;\n                });\n\n            this.triggerStat();\n        },\n        triggerStat: function () {\n            postStat(this.client == \"origin\" ? \"origin_quest\" : \"quest\", this.id);\n        },\n    },\n    watch: {\n        currentRole: {\n            deep: true,\n            handler(val) {\n                if (!val) return;\n                listUserQuest(this.currentRole.ID).then((res) => {\n                    const data = res.data?.data || [];\n                    this.$store.commit(\"SET_COMPLETED_QUESTS\", data);\n                    localStorage.setItem(\"quests_last_sync\", this.currentRole.jx3id);\n                });\n            },\n        },\n        id: {\n            immediate: true,\n            handler(val) {\n                if (!val) return;\n                this.loadInitData();\n            },\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../../../assets/css/miniprogram/var.less\";\n\n.user-select-drawer.in-quest {\n    .u-reset {\n        color: #ffffff66 !important;\n    }\n    .m-user-item {\n        color: #ffffffcc;\n\n        .u-area {\n            &::before {\n                content: \"<\";\n            }\n            &::after {\n                content: \">\";\n            }\n        }\n    }\n}\n\n.p-mobile-quest-detail {\n    background: #f1f1f1;\n    @media (prefers-color-scheme: dark) {\n        background: #000;\n    }\n\n    font-family: \"Microsoft YaHei UI\";\n    font-style: normal;\n\n    display: flex;\n    flex-direction: column;\n    .size(100vw, 100vh);\n\n    #macro-comment {\n        margin-top: 0;\n    }\n\n    .m-confirm {\n        display: flex;\n        height: 48px;\n        margin: 0 20px;\n        padding: 12px 16px;\n        justify-content: center;\n        align-items: center;\n        gap: 8px;\n\n        border-radius: var(--12, 12px);\n        background: var(--primary-brand-2, #fedaa3);\n        border: none;\n\n        color: var(--primary-brand-3, #24292e);\n        /* 16 Bold */\n        font-size: 16px;\n        font-style: normal;\n        font-weight: 700;\n        line-height: 24px; /* 150% */\n\n        &.complete {\n            opacity: 0.3;\n        }\n\n        &.disabled {\n            opacity: 0.3;\n        }\n    }\n\n    .m-page-container {\n        display: flex;\n        flex-direction: column;\n        flex-grow: 1;\n        height: 0;\n        gap: 20px;\n        padding: 20px 0;\n        margin-bottom: 76px;\n\n        overflow-y: auto;\n    }\n\n    .m-wiki {\n        display: flex;\n        flex-direction: column;\n        align-items: flex-start;\n        gap: 16px;\n        width: 100%;\n        border-radius: 12px;\n        box-sizing: border-box;\n        border: 1px solid rgba(40, 40, 40, 0.05);\n        background: var(--primary-brand-4, #282828);\n        .m-wiki-header {\n            display: flex;\n            flex-direction: column;\n            gap: 4px;\n            .u-title {\n                color: var(--black-80, rgba(255, 255, 255, 0.8));\n\n                /* 16 Bold */\n                font-size: 16px;\n                font-style: normal;\n                font-weight: 700;\n                line-height: 24px; /* 150% */\n            }\n\n            .u-avatar-list {\n                display: flex;\n                align-items: center;\n\n                .u-avatar {\n                    width: 24px;\n                    height: 24px;\n                    border-radius: 50%;\n                    overflow: hidden;\n                    margin-right: -8px;\n\n                    img {\n                        width: 100%;\n                        height: 100%;\n                        object-fit: cover;\n                    }\n                }\n            }\n\n            .u-time {\n                color: var(--black-40, rgba(255, 255, 255, 0.4));\n\n                /* 12 Regular */\n                font-size: 12px;\n                font-style: normal;\n                font-weight: 400;\n                line-height: 18px; /* 150% */\n            }\n        }\n\n        .m-content-box {\n            overflow: auto;\n            box-sizing: border-box;\n            #wikiArticle {\n                color: rgba(255, 255, 255, 0.8) !important;\n\n                /* 14 Regular */\n                font-size: 14px !important;\n                font-style: normal !important;\n                font-weight: 400 !important;\n                line-height: 20px; /* 142.857% */\n\n                box-sizing: border-box;\n                overflow-x: hidden;\n\n                ul {\n                    padding-left: 12px !important;\n                }\n\n                .e-summary,\n                .e-jx3-resource {\n                    @media (prefers-color-scheme: dark) {\n                        color: var(--black-100);\n                        background: var(--black-20);\n                    }\n                }\n                ul:has(.e-jx3-resource) {\n                    padding: 0 !important;\n                }\n                ul:has(.e-summary) {\n                    padding: 0 !important;\n                }\n                img {\n                    margin: 0 !important;\n                }\n\n                div {\n                    color: var(--black-100);\n                }\n                h1 {\n                    font-weight: 700 !important;\n                    line-height: 30px !important;\n                    font-size: 20px !important;\n                    margin-bottom: 15px !important;\n                    color: var(--black-100);\n                }\n\n                h2 {\n                    font-weight: 700 !important;\n                    line-height: 27px !important;\n                    font-size: 18px !important;\n                    margin-bottom: 14px !important;\n                    color: var(--black-100);\n                }\n\n                h3 {\n                    font-weight: 700 !important;\n                    line-height: 24px !important;\n                    font-size: 16px !important;\n                    margin-bottom: 12px !important;\n                    color: var(--black-100);\n                }\n\n                h4 {\n                    font-weight: 700 !important;\n                    line-height: 20px !important;\n                    font-size: 14px !important;\n                    margin-bottom: 11px !important;\n\n                    @media (prefers-color-scheme: dark) {\n                        color: var(--black-100);\n                        background: var(--black-20);\n                    }\n                }\n\n                blockquote {\n                    @media (prefers-color-scheme: dark) {\n                        background: var(--black-20);\n                    }\n                }\n\n                h5,\n                h6 {\n                    font-weight: 700 !important;\n                    line-height: 18px !important;\n                    font-size: 12px !important;\n                    margin-bottom: 9px !important;\n                    color: var(--black-100) !important;\n                    @media (prefers-color-scheme: dark) {\n                        background: var(--black-20);\n                    }\n                }\n\n                .e-jx3-resource {\n                    overflow: hidden;\n                }\n\n                p {\n                    font-weight: 400 !important;\n                    line-height: 20px !important;\n                    font-size: 14px !important;\n                    margin-bottom: 11px !important;\n                    color: var(--black-100);\n                }\n\n                .text {\n                    display: inline-block !important;\n                    font-weight: 400 !important;\n                    line-height: 20px !important;\n                    font-size: 14px !important;\n                    margin-bottom: 11px !important;\n                    color: var(--black-100);\n                }\n\n                hr {\n                    margin-bottom: 11px !important;\n                    margin-top: 8px !important;\n                }\n            }\n        }\n\n        .u-show-log {\n            margin-top: 20px;\n            text-align: center;\n            width: 100%;\n            color: var(--black-40, rgba(255, 255, 255, 0.4));\n\n            /* 12 Regular */\n            font-size: 12px;\n            font-style: normal;\n            font-weight: 400;\n            line-height: 18px; /* 150% */\n        }\n    }\n\n    .m-quest-info {\n        .u-target {\n            p {\n                margin: 0;\n            }\n\n            color: var(--black-80, rgba(28, 28, 28, 0.8));\n\n            font-size: 14px;\n            font-weight: 400;\n            line-height: 20px;\n            display: flex;\n            flex-direction: column;\n            gap: 4px;\n        }\n        .u-target-sub {\n            display: flex;\n            align-items: center;\n            gap: 4px;\n        }\n        .u-pos {\n            display: flex;\n            flex-direction: column;\n            gap: 8px;\n        }\n        .u-pos-item {\n            display: flex;\n            align-items: center;\n            color: var(--black-80, rgba(28, 28, 28, 0.8));\n\n            font-size: 12px;\n            font-weight: 400;\n            line-height: 18px; /* 150% */\n\n            .u-id {\n                display: flex;\n                justify-content: flex-end;\n                flex-grow: 1;\n\n                color: var(--black-40, rgba(28, 28, 28, 0.8));\n\n                /* 12 Regular */\n                font-size: 12px;\n                font-weight: 400;\n                line-height: 18px; /* 150% */\n            }\n        }\n        .u-desc {\n            margin: 0;\n\n            color: var(--black-80, rgba(28, 28, 28, 0.8));\n\n            /* 14 Regular */\n            font-size: 14px;\n            font-weight: 400;\n            line-height: 20px; /* 142.857% */\n\n            white-space: pre-line;\n        }\n    }\n\n    .m-quest-dialog {\n        display: flex;\n        flex-direction: column;\n\n        .u-subtitle2 {\n            color: var(--black-80, rgba(28, 28, 28, 0.8));\n\n            /* 14 Bold */\n            font-size: 14px;\n            font-weight: 700;\n            line-height: 20px; /* 142.857% */\n\n            &::before {\n                content: \"•\";\n                margin-right: 8px;\n            }\n        }\n\n        .u-dialog-content {\n            color: var(--black-80, rgba(28, 28, 28, 0.8));\n\n            /* 14 Regular */\n            font-family: \"Microsoft YaHei UI\";\n            font-size: 14px;\n            font-style: normal;\n            font-weight: 400;\n            line-height: 20px; /* 142.857% */\n        }\n    }\n}\n\n.u-suspend-common {\n    padding-bottom: 2rem;\n    margin: 0;\n    .m-base {\n        width: 100%;\n        .m-more-action {\n            display: flex;\n            justify-content: space-around;\n            align-items: center;\n            width: 100%;\n            padding: 0 20px;\n            box-sizing: border-box;\n\n            .u-action {\n                display: flex;\n                height: 24px;\n                justify-content: center;\n                align-items: center;\n                flex: 1 0 0;\n                svg {\n                    height: 24px;\n                    width: 24px;\n                }\n                &.disabled {\n                    img {\n                        opacity: 0.5;\n                    }\n                }\n            }\n        }\n    }\n    .m-more {\n        .u-icon {\n            display: none;\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./detail.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./detail.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=7e2b6642\"\nimport script from \"./detail.vue?vue&type=script&lang=js\"\nexport * from \"./detail.vue?vue&type=script&lang=js\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=7e2b6642&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar isRegExp = require('../internals/is-regexp');\nvar toString = require('../internals/to-string');\nvar getMethod = require('../internals/get-method');\nvar getRegExpFlags = require('../internals/regexp-get-flags');\nvar getSubstitution = require('../internals/get-substitution');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar REPLACE = wellKnownSymbol('replace');\nvar $TypeError = TypeError;\nvar indexOf = uncurryThis(''.indexOf);\nvar replace = uncurryThis(''.replace);\nvar stringSlice = uncurryThis(''.slice);\nvar max = Math.max;\n\n// `String.prototype.replaceAll` method\n// https://tc39.es/ecma262/#sec-string.prototype.replaceall\n$({ target: 'String', proto: true }, {\n  replaceAll: function replaceAll(searchValue, replaceValue) {\n    var O = requireObjectCoercible(this);\n    var IS_REG_EXP, flags, replacer, string, searchString, functionalReplace, searchLength, advanceBy, position, replacement;\n    var endOfLastMatch = 0;\n    var result = '';\n    if (isObject(searchValue)) {\n      IS_REG_EXP = isRegExp(searchValue);\n      if (IS_REG_EXP) {\n        flags = toString(requireObjectCoercible(getRegExpFlags(searchValue)));\n        if (!~indexOf(flags, 'g')) throw new $TypeError('`.replaceAll` does not allow non-global regexes');\n      }\n      replacer = getMethod(searchValue, REPLACE);\n      if (replacer) return call(replacer, searchValue, O, replaceValue);\n      if (IS_PURE && IS_REG_EXP) return replace(toString(O), searchValue, replaceValue);\n    }\n    string = toString(O);\n    searchString = toString(searchValue);\n    functionalReplace = isCallable(replaceValue);\n    if (!functionalReplace) replaceValue = toString(replaceValue);\n    searchLength = searchString.length;\n    advanceBy = max(1, searchLength);\n    position = indexOf(string, searchString);\n    while (position !== -1) {\n      replacement = functionalReplace\n        ? toString(replaceValue(searchString, position, string))\n        : getSubstitution(searchString, string, position, [], undefined, replaceValue);\n      result += stringSlice(string, endOfLastMatch, position) + replacement;\n      endOfLastMatch = position + searchLength;\n      position = position + advanceBy > string.length ? -1 : indexOf(string, searchString, position + advanceBy);\n    }\n    if (endOfLastMatch < string.length) {\n      result += stringSlice(string, endOfLastMatch);\n    }\n    return result;\n  }\n});\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./fold-card.vue?vue&type=style&index=0&id=f200382e&prod&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./comment-list.vue?vue&type=style&index=0&id=ce1e9862&prod&lang=less\"","import { $node, $cms } from \"@jx3box/jx3box-common/js/https\";\nconst $ = $node();\n\n// import axios from \"axios\";\n// const $ = axios.create({\n//     baseURL: \"http://localhost:7002/\",\n// });\n\nexport function getCategory(params) {\n    return $.get(`/quest/category`, { params });\n}\n\nexport function getQuest(params) {\n    return $.get(`/quest/`, { params });\n}\n\nexport function getQuests(params, body) {\n    return $.post(`/quests`, body, { params });\n}\n\nexport function getNewestQuests(params) {\n    return $.get(`/quests/newest`, { params });\n}\n\nexport function getWaiting(params) {\n    params = Object.assign(params, {\n        type: \"quest\",\n    });\n    return $cms().get(`/api/cms/wiki/post/waiting`, { params });\n}\n\nexport function getQuestMaps(params) {\n    return $.get(`/quest/maps`, { params });\n}\n\n// 获取任务公告\nexport function getBreadcrumb(key = \"wiki_quest_ac\") {\n    return $cms()\n        .get(`/api/cms/breadcrumb/${key}`)\n        .then((res) => {\n            return res.data.data.html || \"\";\n        });\n}\n\n// 用户标记任务完成\nexport function completeUserQuest(role_id, quest_id) {\n    return $cms().post(`/api/cms/wiki/user-quest/${role_id}/${quest_id}`);\n}\n\n// 用户取消标记任务完成\nexport function cancelUserQuest(role_id, quest_id) {\n    return $cms().delete(`/api/cms/wiki/user-quest/${role_id}/${quest_id}`);\n}\n\n// 用户获取任务完成状态\nexport function listUserQuest(role_id) {\n    return $cms().get(`/api/cms/wiki/user-quest/${role_id}`);\n}\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./detail.vue?vue&type=style&index=0&id=7e2b6642&prod&lang=less\"","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.source)?_c('el-popover',{attrs:{\"placement\":\"right-start\",\"trigger\":_vm.click_trigger ? 'click' : 'hover',\"disabled\":_vm.dishoverable,\"popper-class\":\"m-item-icon-popup\",\"visible-arrow\":false,\"transition\":\"none\",\"close-delay\":0},on:{\"show\":_vm.show}},[_c('template',{slot:\"reference\"},[_c('div',{staticClass:\"m-item-icon\"},[_c('div',{staticClass:\"u-item-icon\",style:(`height:${_vm.size}px; width:${_vm.size}px`)},[_c('a',{staticClass:\"u-item-link\",style:(`height:${_vm.size}px; width:${_vm.size}px`),attrs:{\"target\":\"_blank\",\"href\":_vm.getLink('item', _vm.source.id)}},[_c('div',{staticClass:\"u-border\",style:({ backgroundImage: _vm.item_border(_vm.source), opacity: _vm.source.Quality == 5 ? 0.9 : 1 })}),_c('div',{staticClass:\"u-border-quest\",style:({ backgroundImage: _vm.item_border_quest(_vm.source) })}),_c('img',{staticClass:\"u-item-icon\",attrs:{\"src\":_vm.icon_url(_vm.source.IconID)}})])]),(_vm.has_title)?_c('div',{staticClass:\"u-name\",class:`quality-${_vm.source.Quality}`},[_vm._v(_vm._s(_vm.source.Name))]):_vm._e()])]),_c('jx3-item',{attrs:{\"item\":_vm.source}})],2):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-popover\n        v-if=\"source\"\n        placement=\"right-start\"\n        :trigger=\"click_trigger ? 'click' : 'hover'\"\n        :disabled=\"dishoverable\"\n        popper-class=\"m-item-icon-popup\"\n        :visible-arrow=\"false\"\n        transition=\"none\"\n        :close-delay=\"0\"\n        @show=\"show\"\n    >\n        <template slot=\"reference\">\n            <div class=\"m-item-icon\">\n                <div class=\"u-item-icon\" :style=\"`height:${size}px; width:${size}px`\">\n                    <a\n                        target=\"_blank\"\n                        class=\"u-item-link\"\n                        :style=\"`height:${size}px; width:${size}px`\"\n                        :href=\"getLink('item', source.id)\"\n                        ><div\n                            class=\"u-border\"\n                            :style=\"{ backgroundImage: item_border(source), opacity: source.Quality == 5 ? 0.9 : 1 }\"\n                        ></div>\n                        <div class=\"u-border-quest\" :style=\"{ backgroundImage: item_border_quest(source) }\"></div>\n                        <img class=\"u-item-icon\" :src=\"icon_url(source.IconID)\" />\n                    </a>\n                </div>\n                <div class=\"u-name\" v-if=\"has_title\" :class=\"`quality-${source.Quality}`\">{{ source.Name }}</div>\n            </div>\n        </template>\n\n        <jx3-item :item=\"source\" />\n    </el-popover>\n</template>\n\n<script>\nimport Item from \"@jx3box/jx3box-editor/src/Item\";\nimport { get_item } from \"@/service/item\";\nimport { __imgPath } from \"@/utils/config\";\nimport { iconLink, getLink } from \"@jx3box/jx3box-common/js/utils\";\n\nexport default {\n    name: \"CommonItemIcon\",\n    props: {\n        item: {\n            type: Object,\n            default: () => {},\n        },\n        size: {\n            type: Number,\n            default: 36,\n        },\n        item_id: {\n            type: String,\n            default: null,\n        },\n        amount: {\n            type: Number,\n            default: 1,\n        },\n        dishoverable: {\n            type: Boolean,\n            default: false,\n        },\n        click_trigger: {\n            type: Boolean,\n            default: false,\n        },\n        has_title: {\n            type: Boolean,\n            default: false,\n        },\n    },\n    data() {\n        return {\n            source: null,\n            real_id: null,\n            maybeBook: false,\n        };\n    },\n    computed: {\n        client: function () {\n            return this.$store.state.client;\n        },\n        cache_key() {\n            return `item-${this.client}-${this.real_id}`;\n        },\n        display_amount() {\n            if (this.maybeBook === false) {\n                return this.amount;\n            } else {\n                return 1;\n            }\n        },\n    },\n    components: {\n        \"jx3-item\": Item,\n    },\n    methods: {\n        getLink,\n        get_data(item_id) {\n            if (item_id) {\n                get_item(item_id, this.client)\n                    .then((res) => {\n                        let data = res.data;\n                        let item = data.data.item;\n                        if (Object.keys(item).length) {\n                            this.source = item;\n                            sessionStorage.setItem(this.cache_key, JSON.stringify(item));\n                        }\n                    })\n                    .catch((e) => {\n                        //书籍类物品id为 type_id_recipe， 其中recipe记录在物品的count里面\n                        if (e?.data?.code == 400) {\n                            if (this.maybeBook === false) {\n                                this.maybeBook = true;\n                                this.real_id = `${this.item_id}_${this.amount}`;\n                            }\n                        }\n                    });\n            }\n        },\n        show() {\n            if (!this.source || typeof this.source.Genre === \"undefined\") {\n                this.get_data(this.source.id);\n            }\n        },\n        item_border(item) {\n            switch (item.Quality) {\n                case 3:\n                    return `url(${__imgPath}image/item/blue.png)`;\n                case 4:\n                    return `url(${__imgPath}image/item/purple.png)`;\n                case 5:\n                    return `url(${__imgPath}image/item/orange.gif)`;\n                default:\n                    return \"\";\n            }\n        },\n        item_border_quest(item) {\n            if (item.IsQuest > 0) return `url(${__imgPath}image/item/renwu.png)`;\n            return \"\";\n        },\n        icon_url: function (id) {\n            // return iconLink(id, this.client);\n            return iconLink(id); //收藏跨重制/缘起\n        },\n    },\n    watch: {\n        real_id: {\n            immediate: true,\n            handler() {\n                let _cache = sessionStorage.getItem(this.cache_key);\n                if (_cache) {\n                    try {\n                        this.source = JSON.parse(_cache);\n                    } catch (e) {\n                        console.log(e, \"[Item]无法解析本地缓存\");\n                        this.get_data(this.real_id);\n                    }\n                } else {\n                    this.get_data(this.real_id);\n                }\n            },\n        },\n        item: {\n            immediate: true,\n            handler() {\n                this.source = this.item;\n            },\n        },\n        item_id: {\n            immediate: true,\n            handler() {\n                this.get_data(this.item_id);\n            },\n        },\n    },\n    mounted() {\n        this.real_id = this.item_id;\n    },\n};\n</script>\n\n<style lang=\"less\">\n.m-item-icon-popup {\n    min-width: 0 !important;\n    padding: 0 !important;\n    border: none;\n    box-shadow: none;\n    background-color: transparent;\n    transform: translateY(-10px);\n}\n</style>\n<style lang=\"less\" scoped>\n.m-item-icon {\n    .flex;\n    align-items: center;\n    .u-name {\n        .ml(10px);\n    }\n    .u-item-link {\n        display: inline-flex;\n        cursor: pointer;\n        overflow: hidden;\n    }\n}\n.u-item-icon {\n    .pr;\n    .dbi;\n\n    .u-border,\n    .u-border-quest {\n        .pa;\n        top: 0;\n        left: 0;\n        .w(100%);\n        .h(100%);\n        box-sizing: border-box;\n        background-size: contain;\n        .z(2);\n    }\n\n    .u-border-quest {\n        .z(3);\n    }\n\n    .u-item-icon {\n        .pr;\n        .db;\n        .w(36px);\n        .h(auto);\n        max-height: 36px;\n        .z(1);\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./item-icon.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./item-icon.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./item-icon.vue?vue&type=template&id=f55cfca6&scoped=true\"\nimport script from \"./item-icon.vue?vue&type=script&lang=js\"\nexport * from \"./item-icon.vue?vue&type=script&lang=js\"\nimport style0 from \"./item-icon.vue?vue&type=style&index=0&id=f55cfca6&prod&lang=less\"\nimport style1 from \"./item-icon.vue?vue&type=style&index=1&id=f55cfca6&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f55cfca6\",\n  null\n  \n)\n\nexport default component.exports","import { $next, $node, $cms, axios } from \"@jx3box/jx3box-common/js/https\";\nconst $ = $node({ mute: true });\n// const $ = axios.create({ baseURL: 'http://localhost:7002' });\n\nexport function getMyFav(params) {\n    return $next().get(`api/article/favorites/my`, {\n        params,\n    });\n}\n\nexport function delMyFav(id) {\n    return $next().delete(`api/article/favorites/my/${id}`);\n}\n\nexport function addMyFav(id, type = \"item\") {\n    return $next().post(`api/article/favorites/add/${id}/${type}`);\n}\n\nexport function getMenus(params) {\n    return $.get(`api/node/item/menus`, {\n        params,\n    });\n}\n\nexport function get_items_count(params) {\n    return $.get(`api/node/item/count`, {\n        params,\n    });\n}\n\nexport function get_item_enums(params) {\n    return $.get(`/item/enums`, {\n        params,\n    });\n}\n\n// 获取物品\nexport function get_item(item_id, client) {\n    if (!item_id) return;\n    return $.get(`api/node/item/${item_id}`, {\n        params: {\n            client: client ?? \"std\",\n        },\n    });\n}\n\n// 判断是否显示价格\nexport function show_item_prices(item_id, params) {\n    if (!item_id) return;\n    return $next().get(`api/item-price/${item_id}/detail`, {\n        params,\n    });\n}\n\n// // 物品价格日志\n// export function get_item_price_logs(item_id, params) {\n//     if (!item_id) return;\n//     return $next().get(`api/item-price/${item_id}/logs`, {\n//         params,\n//     });\n// }\n\n// // 物品区服价格日志\n// export function get_item_servers_price_logs(item_id, params) {\n//     if (!item_id) return;\n//     return $next().get(`api/item-price/${item_id}/logs`, {\n//         params,\n//     });\n// }\n\n// 物品价格\nexport function get_item_prices(data) {\n    if (!data.item_id) return;\n    return $next().post(`api/auction/`, data);\n}\n\n// 通过node的接口获取物品\nexport function get_items_by_node(params) {\n    let ids = params.ids instanceof Array ? params.ids.join(\",\") : params.ids;\n    return $.get(`/item_merged/id/${ids}`, {\n        params: {\n            client: params.client ?? \"std\",\n            per: params.per ?? 20,\n        },\n    });\n}\n\nexport function getItemsByName(name, params) {\n    return $.get(`/item_merged/name/${name}`, {\n        params,\n    });\n}\n\nexport function get_newest_items(params) {\n    return $.get(`/item/newest`, {\n        params: {\n            client: params.client ?? \"std\",\n        },\n    });\n}\n\nexport function get_items(params) {\n    return $.get(`api/node/item/list`, {\n        params,\n    });\n}\n\nexport function get_items_search(params) {\n    return $.get(`api/node/item/search`, {\n        params,\n    });\n}\n\nexport function get_menu_items(params) {\n    return $.get(`api/node/item/menu_list`, {\n        params,\n    });\n}\n\nexport function get_waiting(params) {\n    return $cms().get(`/api/cms/wiki/post/waiting`, { params });\n}\n\n// 获取生活技艺产品原料\nexport function getManufactureDetail(params) {\n    return $.get(`/manufactures`, {\n        params,\n    });\n}\n\n// 获取物品详情\nexport function getItemDetail(params) {\n    return $.get(`/other`, {\n        params,\n    });\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./item-icon.vue?vue&type=style&index=0&id=f55cfca6&prod&lang=less\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-comment-list\",attrs:{\"id\":\"macro-comment\"}},[_vm._l((_vm.comments),function(item){return _c('div',{key:item.id,staticClass:\"m-comment-item\"},[_c('div',{staticClass:\"m-main-content\"},[_c('div',{staticClass:\"u-commenter-name\",on:{\"click\":function($event){return _vm.toDetail(item.user_id)}}},[_vm._v(\" \"+_vm._s(item.user_nickname)+\" \")]),_c('div',{staticClass:\"u-comment-content\"},[_vm._v(\" \"+_vm._s(item.content)+\" \")]),_c('div',{staticClass:\"u-comment-time\"},[_vm._v(\" \"+_vm._s(_vm.dayjs(item?.commentDate).format(\"YYYY-MM-DD\"))+\" \")])]),(item.children?.length)?_c('div',{staticClass:\"m-child-comment\"},_vm._l((item.children),function(reply){return _c('div',{key:reply.id,staticClass:\"m-reply-item\"},[_c('div',{staticClass:\"u-replier-name\",on:{\"click\":function($event){return _vm.toDetail(reply.user_id)}}},[_vm._v(\" \"+_vm._s(reply.user_nickname)+\" \")]),_c('span',{staticClass:\"u-reply\"},[_vm._v(\"回复\")]),_c('div',{staticClass:\"u-replier-name\",on:{\"click\":function($event){reply.parent.user_id ? _vm.toDetail(reply.parent.user_id) : null}}},[_vm._v(\" \"+_vm._s(reply.parent.user_nickname)+\" \")]),_c('span',{staticClass:\"u-reply\"},[_vm._v(\"：\")]),_c('div',{staticClass:\"u-reply-content\"},[_vm._v(\" \"+_vm._s(reply.content)+\" \")])])}),0):_vm._e()])}),(_vm.loading)?_c('div',{staticClass:\"u-loading-more\"},[_vm._v(\"加载中...\")]):_vm._e(),(_vm.noMoreData)?_c('div',{staticClass:\"u-no-more\"},[_vm._v(\"没有更多评论了\")]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-comment-list\"  id=\"macro-comment\">\n        <div\n            v-for=\"item in comments\"\n            :key=\"item.id\"\n            class=\"m-comment-item\"\n        >\n            <div class=\"m-main-content\">\n                <div class=\"u-commenter-name\"  @click=\"toDetail(item.user_id)\">\n                    {{item.user_nickname}}\n                </div>\n                <div class=\"u-comment-content\">\n                    {{item.content}}\n                </div>\n                <div class=\"u-comment-time\">\n                    {{dayjs(item?.commentDate).format(\"YYYY-MM-DD\")}}\n                </div>\n            </div>\n            <div class=\"m-child-comment\" v-if=\"item.children?.length\">\n                <div v-for=\"reply in item.children\" :key=\"reply.id\" class=\"m-reply-item\">\n                    <div class=\"u-replier-name\" @click=\"toDetail(reply.user_id)\">\n                        {{reply.user_nickname}}\n                    </div>\n                    <span class=\"u-reply\">回复</span>\n                    <div class=\"u-replier-name\" @click=\"reply.parent.user_id ? toDetail(reply.parent.user_id) : null\">\n                        {{reply.parent.user_nickname}}\n                    </div>\n                    <span class=\"u-reply\">：</span>\n                    <div class=\"u-reply-content\">\n                        {{reply.content}}\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div v-if=\"loading\" class=\"u-loading-more\">加载中...</div>\n        <div v-if=\"noMoreData\" class=\"u-no-more\">没有更多评论了</div>\n    </div>\n</template>\n\n<script>\n\nimport dayjs from \"dayjs\";\nimport { wikiComment } from \"@jx3box/jx3box-common/js/wiki_v2\";\nimport User from \"@jx3box/jx3box-common/js/user\";\n\nexport default {\n    name: \"MiniprogramCommentList\",\n    props: [\"type\", \"sourceId\"],\n    data() {\n        return {\n            comments: [],\n            reply_form: {\n                content: \"\",\n                user_nickname: User.getInfo().name,\n            },\n            page: 1,\n            pageSize: 10,\n            total: 0,\n            loading: false,\n        };\n    },\n    computed: {\n        isWujie() {\n            return this.$route.name?.indexOf(\"wujie\") > -1;\n        },\n        client: function () {\n            return location.href.includes(\"classic\") || location.href.includes(\"origin\") ? \"origin\" : \"std\";\n        },\n        noMoreData() {\n            // 判断是否已加载全部评论\n            return this.comments.length >= this.total && this.total > 0;\n        }\n    },\n    mounted() {\n        this._onScroll = this.handleScroll.bind(this);\n        window.addEventListener('scroll', this._onScroll);\n    },\n    beforeDestroy() {\n        window.removeEventListener('scroll', this._onScroll);\n    },\n    methods: {\n        dayjs,\n        handleScroll() {\n            if (this.loading || this.noMoreData) return;\n            // 距离底部100px时触发\n            const scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;\n            const windowHeight = window.innerHeight;\n            const docHeight = document.documentElement.scrollHeight;\n            if (scrollTop + windowHeight + 100 >= docHeight) {\n                this.loadMore();\n            }\n        },\n        loadMore() {\n            if (this.loading || this.noMoreData) return;\n            this.page++;\n            this.get_comments(true); // 传递参数标记为加载更多\n        },\n        get_comments(append = false) {\n            if (!this.type || !this.sourceId) return;\n            this.loading = true;\n            wikiComment\n                .list({ type: this.type, id: this.sourceId }, { client: this.client, page: this.page })\n                .then((res) => {\n                    res = res.data;\n                    let comments = res.data.list;\n                    for (let i = 0; i < comments.length; i++) {\n                        comments[i][\"reply_form\"] = {\n                            show: false,\n                            content: \"\",\n                            user_nickname: User.getInfo().name,\n                        };\n                    }\n                    this.page = res.data.page;\n                    this.total = res.data.total;\n                    if (append) {\n                        // 追加评论\n                        this.comments = this.comments.concat(filter(comments, 0));\n                    } else {\n                        this.comments = filter(comments, 0);\n                    }\n                    this.loading = false;\n                });\n\n            function filter(comments, parent) {\n                let outputs = [];\n                for (let index in comments) {\n                    let c = comments[index];\n                    if (!c) continue;\n                    if (c.parent_id === parent) {\n                        // 递归\n                        let children = filter(c.children, c.id);\n                        c.children = children.map((item) => {\n                            item.parent = {\n                                user_id: c.user_id,\n                                user_nickname: c.user_nickname,\n                                id: c.id,\n                            };\n                            item.reply_form = {\n                                show: false,\n                                content: \"\",\n                                user_nickname: User.getInfo().name,\n                            };\n                            return item;\n                        });\n                        outputs.push(c);\n                    }\n                }\n                return outputs;\n            }\n        },\n        create_comment(form, parent_id = 0) {\n            // 校验评论内容\n            if (!form.content) {\n                this.$message({\n                    message: \"请先填写评论内容再尝试提交\",\n                    type: \"warning\",\n                });\n                return;\n            }\n            const data = {\n                type: this.type,\n                source_id: String(this.sourceId),\n                parent_id: parent_id,\n                user_nickname: form.user_nickname || User.getInfo().name,\n                content: form.content,\n                client: this.client,\n            };\n            wikiComment\n                .post(data)\n                .then((res) => {\n                    res = res.data;\n                    form.content = \"\";\n                    this.$message({\n                        message: \"提交成功，请等待审核\",\n                        type: \"success\",\n                    });\n                })\n                .finally(() => {\n                    form.show = false;\n                });\n        },\n        handleCurrentChange(page) {\n            this.page = page;\n            this.get_comments();\n        },\n        star_comment(comment, is_star) {\n            wikiComment.star(comment.id, {\n                is_star\n            }).then(() => {\n                this.page = 1; // 重置页码\n                this.get_comments();\n            });\n        },\n        top_comment(comment, is_top) {\n            wikiComment.top(comment.id, {\n                is_top\n            }).then(() => {\n                this.page = 1; // 重置页码\n                this.get_comments();\n            });\n        },\n\n        toDetail(){\n\n        },\n    },\n\n    watch: {\n        sourceId: {\n            immediate: true,\n            handler() {\n                this.page = 1; // 重置页码\n                this.get_comments();\n            },\n        },\n    },\n};\n</script>\n\n\n<style  lang=\"less\">\n.m-comment-list{\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n    margin-top: 20px;\n    .m-comment-item{\n        display: flex;\n        padding: var(--20, 20px);\n        flex-direction: column;\n        gap: var(--8, 8px);\n\n        background: var(--primary-brand-4, #282828);\n\n        .m-main-content{\n            display: flex;\n            flex-direction: column;\n            gap: var(--8, 8px);\n\n            .u-commenter-name{\n                color: var(--secondary-cyan, #32ADE6);\n                font-size: 12px;\n                font-weight: 400;\n                line-height: 18px; /* 150% */\n            }\n            .u-comment-content{\n                color: var(--black-80, rgba(28, 28, 28, 0.80));\n                font-size: 14px;\n                font-weight: 400;\n                line-height: 20px; /* 142.857% */\n            }\n            .u-comment-time{\n                color: var(--black-40, rgba(28, 28, 28, 0.40));\n                font-size: 12px;\n                font-weight: 400;\n                line-height: 18px; /* 150% */\n            }\n        }\n\n        .m-child-comment{\n            display: flex;\n            padding: 12px;\n            flex-direction: column;\n            gap: 10px;\n            border-radius: 8px;\n            background: var(--black-5, rgba(28, 28, 28, 0.05));\n            .m-reply-item{\n                // 超出长度不分词\n                overflow: hidden;\n                text-overflow: ellipsis;\n                display: -webkit-box;\n                .u-replier-name{\n                    color: var(--secondary-cyan, #32ADE6);\n                    font-size: 12px;\n                    font-weight: 400;\n                    line-height: 18px; /* 150% */\n                    display: inline-block;\n                    margin-right: 4px;\n                }\n                .u-reply{\n                    color: var(--black-40, rgba(255, 255, 255, 0.40));\n                    font-size: 12px;\n                    font-weight: 400;\n                    line-height: 18px; /* 150% */\n                    margin-right: 4px;\n                }\n                .u-reply-content{\n                    color: var(--black-80, rgba(255, 255, 255, 0.80));\n                    font-size: 12px;\n                    font-weight: 400;\n                    line-height: 18px; /* 150% */\n                    display: inline;\n                }\n            }\n        }\n    }\n\n    .u-loading-more, .u-no-more {\n        text-align: center;\n        padding: 10px 0;\n        color: var(--black-40, rgba(28, 28, 28, 0.40));\n        font-size: 12px;\n        font-weight: 400;\n    }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./comment-list.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./comment-list.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./comment-list.vue?vue&type=template&id=ce1e9862\"\nimport script from \"./comment-list.vue?vue&type=script&lang=js\"\nexport * from \"./comment-list.vue?vue&type=script&lang=js\"\nimport style0 from \"./comment-list.vue?vue&type=style&index=0&id=ce1e9862&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.fixed` method\n// https://tc39.es/ecma262/#sec-string.prototype.fixed\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('fixed') }, {\n  fixed: function fixed() {\n    return createHTML(this, 'tt', '', '');\n  }\n});\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAATuSURBVEhLvZZ/TJR1HMcNBKJRtChxmb/Y2vAf23C51dwYa7aMSF0RKnDHDyU5+WFTftwdcAhHJxeKIHjegQckIsqhyJzVBs4fpVNR80foHDrbtC2zrIZpar77vr/xPDyH51Q2++N1z/e+z+fzfj/f7+fzfPeMAfC/4nPyaaIO+vr6nomIiHguICBgvCA8Ojo6SBv4ODCHudSgFjVHxqiDuLi4QEtBTMy1CwU41p12w8/Pb7q/v/+UJ4E5zKUGtaipNSPqICQkJNTjjq+7dCwXx3dlo82chc3GTHxZuFSy2WjAFjG3tShbwjHnhu9nyhzmUqOjMb6WmlozIn/sdrv/2LFjJx3crh84ujMVO9YmomrJx6OCudQ4sE13XmhOpLaXIfc5LCzseVteTP7hDj2I25yAyrSPRgVzFR1qUltbyzGRkZHBM6dPmLm/LekXBvU2J2NV4jxYFsxD6ULBoqGrwCLwVCZLOFbmlRjmMHev0KAWNalND9WQHXX36nYo9G4y45sNNp8MHK0VOW4Jx75iCDW0mvR4qKEvAaI1exxTraaXYVRU1LOind/44M2peBpQmx6qIX/YTVfO2H76/co6DP5cJ7l5vR53Bl24c5M0qNz+0ynRzskYEcscJZ9a1KS2YqY1nHT1dMXtXweq8MeVGsngtTopdvcvrXADbt1wSLRzSgxzlHxqUZPavgwnX/7O8s+PhyxwF+vhyEtS2bCSJOLytyXg/az5M2CYGyXHnOO96pIMlNcYYW4oh7HJhqJGKxo7K3C4p/S+OIGm6XS6gJGGEwf2F/1GEZcxGTXLF2BdrjfnekzSZP7MCCTMel2O+8VcWdVKGFvXwORxwNy1CYWdLuQ2rcXS2lJk11mQVp7TPe618VMUU2kouij81Nf5ZyjSZkuBNX0uKhYPY03/EO32VGmyKiMGFYZ35PgLhxHG9lqYu5skpl1uZDVWwdnTjP7b38PV24LsjVYsteftFh7jPB6PnzQMDQ19wbMh0XnxgFG8sJ+hJHkOLLr3UaonsSqHti3Hvi2Zkt1b8+XKpJkwyu9wwuCsRNa6Ygzc78dF9EvTTIdNxsUujtfzAJCGXO782ZFvnehKv3V2jwGOgk9QnPTeA9TlxcuVyZXW5KNg63rkNFdjSW0Z0itN6Dy5UxrR8Pyd03KFuS3VcrsNawp7AwMDw6Qhz7qgoKCX2qvntZ7oSsXB1hSU6Ob4NFUodJUhx70Grp4WXLh3dsjoBzTta4XeZkTGeqt8mMLOBlnblQ3W66JXJkhDZZWzZ02dcWS7bvDEDj2OelKxx5mBsrRYFAkD4mXYvFpu14V7Z1SzhaZlSK0qxoq2OllPpbbmbjcKmmx3+YqohlxlcHDwi5+viDb1deruHxemJ3elibrlwCwMiNZUXaHYtnN/n8Kx64dx/MYRrO1yIKu+XK6Q2/nQFZLw8PCQVTlvG85/lYJH4Ww3qTX8tL4CSdZ87L3cK2vXe6lH7dIRNXzZy5Ddurnq3b4d9bF4FC0bFw53qYBdusxlxxK7Ud1mbZfGZSQMd6kCv0H4FNzrkd8rPpiWsXrFzpHvYfZQI3GblfeQcUL3FfU9HA1ssvBJr04WYl0jTxrWVp406/87aRjnddKMForwybldrBEbg93IK/9znvcVM/KAyJPCbWJthkoxgeXglf85z/vaeK/kpw/G/AvLGYoLnK+B3wAAAABJRU5ErkJggg==\""],"sourceRoot":""}