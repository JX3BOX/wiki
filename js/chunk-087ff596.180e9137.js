(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-087ff596"],{"1b3e":function(o,e,t){},"2bab":function(o,e,t){"use strict";t("6fb8")},"304b":function(o,e,t){"use strict";t("1b3e")},5033:function(o,e,t){"use strict";t.d(e,"a",(function(){return a})),t.d(e,"e",(function(){return f})),t.d(e,"c",(function(){return l})),t.d(e,"d",(function(){return s})),t.d(e,"b",(function(){return u}));var c=t("5530"),r=t("b85c"),n=(t("99af"),t("d81d"),t("14d9"),t("b0c0"),t("e9f5"),t("ab43"),t("d3b7"),t("ac1f"),t("5319"),t("01ea")),i=t("70e3"),a=function(o){var e,t,n,i={},a=function(o,e){i[o]||(i[o]=[]),i[o].push(e)};if(o.start.guides.length>0){var f,l=o.start,s={Types:"Start",ObjectName:l.name,ObjectID:l.id,ObjectType:l.type},u=Object(r["a"])(l.guides);try{for(u.s();!(f=u.n()).done;){var d=f.value;if(d.coordinates){var m,v=Object(r["a"])(d.coordinates);try{for(v.s();!(m=v.n()).done;){var p=m.value;a(d.map,Object(c["a"])(Object(c["a"])({},s),{},{Coordinates:p}))}}catch(oo){v.e(oo)}finally{v.f()}}else d.coordinate&&a(d.map,Object(c["a"])(Object(c["a"])({},s),{},{Coordinates:d.coordinate}))}}catch(oo){u.e(oo)}finally{u.f()}}if(o.end.guides.length>0){var h,g=o.end,b={Types:"End",ObjectName:g.name,ObjectID:g.id,ObjectType:g.type},_=Object(r["a"])(g.guides);try{for(_.s();!(h=_.n()).done;){var y=h.value;if(y.coordinates){var C,w=Object(r["a"])(y.coordinates);try{for(w.s();!(C=w.n()).done;){var O=C.value;a(y.map,Object(c["a"])(Object(c["a"])({},b),{},{Coordinates:O}))}}catch(oo){w.e(oo)}finally{w.f()}}else y.coordinate&&a(y.map,Object(c["a"])(Object(c["a"])({},b),{},{Coordinates:y.coordinate}))}}catch(oo){_.e(oo)}finally{_.f()}}if((null===(e=o.questValues)||void 0===e?void 0:e.length)>0)for(var j in o.questValues){var k,x=o.questValues[j];if((null===(k=x.guides)||void 0===k?void 0:k.length)>0){var D,A=Object(r["a"])(x.guides);try{for(A.s();!(D=A.n()).done;){var S=D.value,q={Types:"State".concat(parseInt(j)+1),ObjectName:S.name,ObjectID:S.id,ObjectType:S.type};if(S.coordinates){var I,N=Object(r["a"])(S.coordinates);try{for(N.s();!(I=N.n()).done;){var F=I.value;a(S.map,Object(c["a"])(Object(c["a"])({},q),{},{Coordinates:F}))}}catch(oo){N.e(oo)}finally{N.f()}}else S.coordinate&&a(S.map,Object(c["a"])(Object(c["a"])({},q),{},{Coordinates:S.coordinate}))}}catch(oo){A.e(oo)}finally{A.f()}}}if((null===(t=o.needItems)||void 0===t?void 0:t.length)>0)for(var M in o.needItems){var T,L=o.needItems[M];if((null===(T=L.guides)||void 0===T?void 0:T.length)>0){var H,z=Object(r["a"])(L.guides);try{for(z.s();!(H=z.n()).done;){var B=H.value,E={Types:"NeedItem".concat(parseInt(M)+1),ObjectName:B.name,ObjectID:B.id,ObjectType:B.type};if(B.coordinates){var R,P=Object(r["a"])(B.coordinates);try{for(P.s();!(R=P.n()).done;){var Q=R.value;a(B.map,Object(c["a"])(Object(c["a"])({},E),{},{Coordinates:Q}))}}catch(oo){P.e(oo)}finally{P.f()}}else B.coordinate&&a(B.map,Object(c["a"])(Object(c["a"])({},E),{},{Coordinates:B.coordinate}))}}catch(oo){z.e(oo)}finally{z.f()}}}if((null===(n=o.killNpcs)||void 0===n?void 0:n.length)>0)for(var Y in o.killNpcs){var J,X=o.killNpcs[Y];if((null===(J=X.guides)||void 0===J?void 0:J.length)>0){var V,U=Object(r["a"])(X.guides);try{for(U.s();!(V=U.n()).done;){var K=V.value,Z={Types:"KillNpc".concat(parseInt(Y)+1),ObjectName:K.name,ObjectID:K.id,ObjectType:K.type};if(K.coordinates){var G,W=Object(r["a"])(K.coordinates);try{for(W.s();!(G=W.n()).done;){var $=G.value;a(K.map,Object(c["a"])(Object(c["a"])({},Z),{},{Coordinates:$}))}}catch(oo){W.e(oo)}finally{W.f()}}else K.coordinate&&a(K.map,Object(c["a"])(Object(c["a"])({},Z),{},{Coordinates:K.coordinate}))}}catch(oo){U.e(oo)}finally{U.f()}}}return i},f=function(o){var e={"万灵山庄":"万灵","北天药宗":"药宗","凌雪阁":"凌雪","衍天宗":"衍天"};return e[o]&&(o=e[o]),"".concat(n["e"],"/image/school/").concat(o,".png")},l=function(o){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=u(),c=t.playerName,r=t.playerBody;if(o){var n=o.replace(/\\n/g,"\n").replace(/\<G\>/g,"&emsp;&emsp;").replace(/\<N\>/g,c).replace(/\<C\>/g,r).replace(/\<CMD NPC_NAME (.+?)\>/g,'<strong class="u-dialog-name">$1</strong><br /><div class="u-dialog-desc">').replace(/\<CMD PLAYER_NAME >/g,'<strong class="u-dialog-name">'.concat(c,'</strong><br /></div class="u-dialog-desc">')).replace(/\<H(\d+)\>/g,'<div style="height: calc($1px - 1.5rem)"></div></div>');while(1){var a=/\<F(\d+) (.+?)\>/.exec(n);if(!a)break;var f=i[a[1]],l='style="color: '.concat(f.color,'99"');n=n.replace(a[0],"<span ".concat(e?"":l,">").concat(a[2],"</span>"))}return n}return""},s=function(o){return o?o.replace(/\\n/g,"\n").replace(/\<G\>/g,"&emsp;&emsp;").replace(/\<C\>/g,"侠士").replace(/\<N\>/g,"侠士").replace(/\<F\d+ (.+?)\>/g,"$1"):""},u=function(){var o=localStorage.getItem("QuestWiki:playerName")||"侠士",e=localStorage.getItem("QuestWiki:playerBody")||"少侠";return{playerName:o,playerBody:e}}},"581d":function(o,e,t){"use strict";t.r(e);t("b0c0");var c=function(){var o,e,c,r,n,i,a,f,l,s,u,d,m,v,p,h,g,b,_,y,C,w,O,j,k,x,D,A,S,q,I,N,F,M,T,L,H,z,B,E,R,P,Q,Y,J,X,V,U,K,Z,G=this,W=G._self._c;return W("div",{staticClass:"c-var p-mobile-quest-detail"},[W("div",{staticClass:"m-page-container"},[W("fold-card",{staticClass:"m-quest-info",attrs:{title:G.sourceName,fixed:!0}},[W("div",{staticClass:"u-target"},[W("p",{domProps:{innerHTML:G._s(G.targetDesc)}}),(null===(o=G.source)||void 0===o||null===(e=o.killNpcs)||void 0===e?void 0:e.length)>0?G._l(null===(c=G.source)||void 0===c?void 0:c.killNpcs,(function(o,e){return W("div",{key:"kn"+e,staticClass:"u-target-sub"},[W("span",[G._v("击杀")]),W("span",[G._v(G._s(o.name))]),o.share?W("el-tooltip",{attrs:{content:"该目标可共享击杀",placement:"top"}},[W("img",{attrs:{src:t("e610"),alt:""}})]):G._e(),W("span",[G._v(" x "+G._s(o.amount))])],1)})):G._e(),(null===(r=G.source)||void 0===r||null===(n=r.needItems)||void 0===n?void 0:n.length)>0?G._l(G.source.needItems,(function(o,e){return W("div",{key:"ni"+e,staticClass:"u-target-sub"},[W("span",[G._v("收集")]),W("item-icon",{attrs:{item_id:o.id,has_title:!0,size:18}}),W("span",[G._v("x "+G._s(o.amount))])],1)})):G._e(),G._l((null===(i=G.source)||void 0===i?void 0:i.questValues)||[],(function(o,e){return W("div",{key:o+e,staticClass:"u-target-sub"},[W("span",[G._v(G._s(o.str)+" x "+G._s(o.value))])])}))],2),W("div",{staticClass:"u-pos"},[W("div",{staticClass:"u-pos-item"},[W("span",{staticClass:"u-label"},[G._v("任务起点：")]),"npc"===(null===(a=G.source)||void 0===a||null===(f=a.start)||void 0===f?void 0:f.type)?[W("span",{staticClass:"u-map"},[G._v(" "+G._s((null===(l=G.source)||void 0===l||null===(s=l.start)||void 0===s?void 0:s.mapName)||"未知地图")+" ")]),G._v(" - "),W("span",{staticClass:"u-npc"},[G._v(" "+G._s((null===(u=G.source)||void 0===u||null===(d=u.start)||void 0===d?void 0:d.name)||"未知NPC")+" ")]),W("span",{staticClass:"u-id"},[G._v("(ID: "+G._s(null===(m=G.source)||void 0===m||null===(v=m.start)||void 0===v?void 0:v.id)+")")])]:G._e(),"item"===(null===(p=G.source)||void 0===p||null===(h=p.start)||void 0===h?void 0:h.type)?[W("item-icon",{staticClass:"u-item",attrs:{size:18,item_id:null===(g=G.source)||void 0===g||null===(b=g.start)||void 0===b?void 0:b.id,has_title:""}}),W("span",{staticClass:"u-id"},[G._v("(ID: "+G._s(null===(_=G.source)||void 0===_||null===(y=_.start)||void 0===y?void 0:y.id)+")")])]:G._e()],2),W("div",{staticClass:"u-pos-item"},[W("span",{staticClass:"u-label"},[G._v("任务终点：")]),"npc"===(null===(C=G.source)||void 0===C||null===(w=C.start)||void 0===w?void 0:w.type)?[W("span",{staticClass:"u-map"},[G._v(" "+G._s((null===(O=G.source)||void 0===O||null===(j=O.start)||void 0===j?void 0:j.mapName)||"未知地图")+" ")]),G._v(" - "),W("span",{staticClass:"u-npc"},[G._v(" "+G._s((null===(k=G.source)||void 0===k||null===(x=k.start)||void 0===x?void 0:x.name)||"未知NPC")+" ")]),W("span",{staticClass:"u-id"},[G._v("(ID: "+G._s(null===(D=G.source)||void 0===D||null===(A=D.start)||void 0===A?void 0:A.id)+")")])]:G._e(),"item"===(null===(S=G.source)||void 0===S||null===(q=S.start)||void 0===q?void 0:q.type)?[W("item-icon",{staticClass:"u-item",attrs:{size:18,item_id:null===(I=G.source)||void 0===I||null===(N=I.start)||void 0===N?void 0:N.id,has_title:""}}),W("span",{staticClass:"u-id"},[G._v("(ID: "+G._s(null===(F=G.source)||void 0===F||null===(M=F.start)||void 0===M?void 0:M.id)+")")])]:G._e()],2)])]),W("button",{staticClass:"m-confirm",class:{complete:G.isCompleted},on:{click:G.toggleConfirmShow}},[G._v(" "+G._s(G.isCompleted?"设为未完成":"设为已完成")+" ")]),W("fold-card",{staticClass:"m-quest-info",attrs:{title:"任务描述"}},[W("p",{staticClass:"u-desc",domProps:{innerHTML:G._s(G.questDesc)}})]),W("fold-card",{attrs:{title:"任务文案"}},[W("div",{staticClass:"m-quest-dialog"},[null!==(T=G.source)&&void 0!==T&&null!==(L=T.desc)&&void 0!==L&&null!==(H=L.AcceptRpgID)&&void 0!==H&&null!==(z=H.dialogues)&&void 0!==z&&z.length?W("div",{staticClass:"u-dialog"},[W("p",{staticClass:"u-subtitle2"},[W("span",[G._v("接任务对话")])]),G._l(G.source.desc.AcceptRpgID.dialogues,(function(o,e){return W("p",{key:e,staticClass:"u-dialog-content",domProps:{innerHTML:G._s(G.questDescFormat(o[0]))}})}))],2):G._e(),null!==(B=G.source)&&void 0!==B&&null!==(E=B.desc)&&void 0!==E&&null!==(R=E.FinishRpgID)&&void 0!==R&&null!==(P=R.dialogues)&&void 0!==P&&P.length?W("div",{staticClass:"u-dialog"},[W("p",{staticClass:"u-subtitle2"},[W("span",[G._v("任务完成对话")])]),G._l(G.source.desc.FinishRpgID.dialogues,(function(o,e){return W("p",{key:e,staticClass:"u-dialog-content",domProps:{innerHTML:G._s(G.questDescFormat(o[0]))}})}))],2):G._e(),null!==(Q=G.source)&&void 0!==Q&&null!==(Y=Q.desc)&&void 0!==Y&&Y.DunningDialogue?W("div",{staticClass:"u-dialog"},[W("p",{staticClass:"u-subtitle2"},[W("span",[G._v("任务进行中")])]),W("p",{staticClass:"u-dialog-content",domProps:{innerHTML:G._s(G.questDescFormat(G.source.desc.DunningDialogue))}})]):G._e(),null!==(J=G.source)&&void 0!==J&&null!==(X=J.desc)&&void 0!==X&&X.FinishedDialogue?W("div",{staticClass:"u-dialog"},[W("p",{staticClass:"u-subtitle2"},[W("span",[G._v("任务完成")])]),W("p",{staticClass:"u-dialog-content",domProps:{innerHTML:G._s(G.questDescFormat(G.source.desc.FinishedDialogue))}})]):G._e()])]),G.post_id?W("fold-card",{attrs:{title:"任务攻略"}},[W("div",{staticClass:"m-wiki"},[W("div",{staticClass:"m-wiki-header"},[W("div",{staticClass:"u-avatar-list"},G._l(G.authors,(function(o){return W("div",{key:o.user_id,staticClass:"u-avatar"},[W("img",{attrs:{src:G.showAvatar(o.user_avatar)}})])})),0),W("div",{staticClass:"u-time"},[G._v(" "+G._s(G.updated_at)+" ")])]),W("div",{staticClass:"m-content-box"},[W("Article",{attrs:{id:"wikiArticle",content:G.clearContent(null===(V=G.wiki_post)||void 0===V||null===(U=V.post)||void 0===U?void 0:U.content)}})],1)])]):G._e(),null!==(K=G.source)&&void 0!==K&&K.chain?W("fold-card",{attrs:{title:"任务链"}},[W("quest-chain",{attrs:{data:null===(Z=G.source)||void 0===Z?void 0:Z.chain,current:G.id}})],1):G._e(),W("div",{staticClass:"m-comments"},[W("miniprogram-comment-list",{attrs:{"source-id":G.id,type:"quest"}})],1)],1),G.isFromTarget?G._e():W("suspend-common",{ref:"suspendCommon",staticClass:"u-suspend-common",staticStyle:{width:"100%"},attrs:{"btn-options":{showHome:!0,showIcon:!1,showMore:!0},"drawer-options":G.drawerOptions},on:{search:G.onSearch},scopedSlots:G._u([{key:"default",fn:function(){var o,e;return[W("div",{staticClass:"m-more-action"},[W("div",{staticClass:"u-action",on:{click:function(){return G.userSelectShow=!0}}},[W("svg",{attrs:{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[W("path",{attrs:{d:"M17.5 12a2.25 2.25 0 012.25 2.25V15c0 2.956-2.79 6-7.5 6s-7.5-3.044-7.5-6v-.75A2.25 2.25 0 017 12h10.5zm-5.25-9.75a4.125 4.125 0 110 8.25 4.125 4.125 0 010-8.25z",fill:"#FEDAA3"}})])]),W("div",{staticClass:"u-action",on:{click:function(){return G.$refs.suspendCommon.clickDrawer({type:"collect",text:"收藏"},1)}}},[null!==(o=G.$refs.suspendCommon)&&void 0!==o&&o.isCollect?W("svg",{staticClass:"icon",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[W("path",{attrs:{d:"M467.584 153.568c11.136-13.312 26.208-25.952 44.544-25.632 21.76-.064 38.016 16.992 50.272 33.056 23.968 32.576 42.336 68.768 62.368 103.808 10.112 17.472 18.944 35.776 30.944 52.096 8.48 11.616 22.08 17.824 35.712 21.056 41.6 10.4 83.744 18.528 125.152 29.792 21.6 6.304 44.192 12.64 61.952 27.136 15.04 12.096 20.992 33.408 15.552 51.776-6.752 23.456-22.208 42.976-36.832 62.048-23.584 29.536-48.576 57.92-72.992 86.784C662.688 473.28 540.384 351.904 418.88 229.664c15.072-26.048 29.408-52.8 48.704-76.096zm-261.696 10.688c2.624.128 7.872.32 10.464.448l-.384 2.816c9.92.928 18.688 6.432 25.568 13.376 39.424 39.488 78.976 78.848 118.304 118.4 45.024 42.464 87.808 87.232 131.904 130.656C577.6 515.808 663.36 601.728 749.312 687.488c38.24 40.672 78.656 79.232 117.76 119.04 9.824 10.336 22.208 19.36 27.2 33.216 3.552 14.464 1.76 31.328-9.568 42.016-14.528 17.792-44.448 19.168-60.544 2.816-18.272-17.984-36.544-36.032-54.336-54.496-.384 20.736-4.704 44.672-22.784 57.536-17.76 12.8-41.184 8.64-60.704 2.72-38.56-12.352-74.752-30.816-111.648-47.296-17.632-7.616-34.624-17.312-53.44-21.792-14.848-3.392-29.472 2.72-42.848 8.544-38.368 17.12-76.128 35.648-115.072 51.456C344.32 888.544 324.672 896 304 896.032c-15.68.16-31.328-7.968-39.296-21.632-10.368-17.44-10.88-38.528-11.072-58.304 1.088-50.336 7.936-100.288 11.968-150.432 1.088-14.304 1.504-29.568-5.568-42.56-8.832-16.032-21.952-29.024-33.472-43.072-26.752-31.968-55.168-62.752-78.816-97.184-12.576-18.88-24.896-42.016-17.568-65.248 6.176-20.832 26.688-32.352 45.664-39.648 36.256-13.536 74.496-20.544 112.032-29.536-35.2-34.912-70.08-70.144-105.248-105.12-7.616-7.424-14.272-16.544-15.264-27.424l-2.848.608.384-13.696 2.656.896c2.624-18.88 19.616-34.656 38.496-36.608l-.16-2.816z",fill:"#FEDAA3"}})]):W("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[W("path",{attrs:{d:"M10.288 4.836c.778-1.289 2.646-1.289 3.424 0l1.15 1.903a2 2 0 001.257.914l2.166.505c1.465.341 2.043 2.119 1.058 3.256l-1.455 1.681a2 2 0 00-.48 1.48l.188 2.215c.128 1.5-1.384 2.598-2.77 2.012l-2.049-.864a2 2 0 00-1.554 0l-2.049.864c-1.387.585-2.898-.513-2.77-2.012l.189-2.216a2 2 0 00-.48-1.479l-1.456-1.68c-.985-1.138-.407-2.916 1.058-3.257l2.166-.505a2 2 0 001.258-.914l1.149-1.903z",fill:"#FEDAA3",stroke:"#FEDAA3","stroke-width":"1.5"}})])]),W("div",{staticClass:"u-action",on:{click:function(){return G.$refs.suspendCommon.clickDrawer({type:"pin",text:"固定按钮"},1)}}},[null!==(e=G.$refs.suspendCommon)&&void 0!==e&&e.fixIsActive?W("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[W("path",{attrs:{d:"M15 4.5l-4 4L7 10l-1.5 1.5 7 7L14 17l1.5-4 4-4M9 15l-4.5 4.5M14.5 4L20 9.5",stroke:"#FEDAA3","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})]):W("svg",{staticClass:"icon",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[W("path",{attrs:{d:"M624.864 119.424c6.144-7.872 13.696-16.928 24.672-16.64 7.68-.736 14.24 3.808 19.2 9.184 81.984 82.304 164.32 164.192 246.08 246.688 7.776 5.92 7.456 16.416 6.016 25.088-2.304 7.488-9.152 11.968-14.848 16.736-58.272 49.504-116.512 99.072-174.784 148.544-4.48 4.416-10.912 5.44-16.768 6.912-5.696 40.8-13.376 81.28-18.08 122.208 6.528 16.32 5.28 34.368 8.16 51.488 1.984 8.864-1.728 17.792-7.84 24.128-24.608 23.552-47.776 48.544-72.544 71.936-8.96 9.056-24.864 6.912-32.96-2.272-51.136-51.008-101.92-102.368-153.056-153.312-71.616 70.784-142.272 142.624-213.632 213.664-11.424 11.008-21.44 24.384-35.968 31.424-14.144 4.8-31.008 4.512-43.84-3.776-10.336-7.616-19.36-18.144-21.76-31.072-3.808-16.288 2.208-33.984 14.592-45.056 77.344-78.144 155.424-155.616 232.768-233.728-56.736-56.032-112.64-113.024-169.216-169.248-8.128-9.088-7.648-26.016 2.368-33.632 24.416-24.672 48.992-49.12 73.44-73.696 3.808-3.424 9.056-4.16 13.984-4.096 18.112.192 36.064 2.944 53.984 5.408 41.824-4.8 83.744-8.992 125.408-15.264.608-6.048 2.624-11.904 6.528-16.64 49.44-58.24 98.848-116.544 148.096-174.976z",fill:"#D9D9D9"}})])])])]},proxy:!0}],null,!1,2717940665)}),W("user-select-drawer",{attrs:{visible:G.userSelectShow,"current-role":G.currentRole},on:{"update:visible":function(o){G.userSelectShow=o},change:G.setRole}}),W("confirm-ok-drawer",{attrs:{visible:G.conformShow,current:G.isCompleted},on:{"update:visible":function(o){G.conformShow=o},confirm:G.toggleCompleted}})],1)},r=[],n=t("c14f"),i=t("1da1"),a=t("5530"),f=(t("99af"),t("4de4"),t("caad"),t("d81d"),t("e9f5"),t("910d"),t("ab43"),t("a9e3"),t("d3b7"),t("ac1f"),t("2532"),t("5319"),t("5b81"),t("2f62")),l=t("c1cc"),s=t("06da"),u=t("3aef"),d=t("c404"),m=t("b29a"),v=(t("c7cd"),function(){var o=this,e=o._self._c;return e("div",{staticClass:"c-var w-fold-card",class:{"is-fold":o.isFold},style:o.componentStyle},[e("div",{staticClass:"w-fold-card-title"},[o._t("title",(function(){return[o._v(" "+o._s(o.title)+" ")]}))],2),e("div",{ref:"contentContainer",staticClass:"w-fold-card-content"},[o._t("default")],2),!o.fixed&&o.showFold?e("div",{staticClass:"w-fold-card-footer"},[e("el-button",{attrs:{type:"text"},on:{click:o.toggleFold}},[o._v(" "+o._s(o.isFold?"展示全部":"收起全部")+" ")])],1):o._e()])}),p=[],h=t("b85c"),g={name:"FoldCard",props:{title:{type:String,default:""},fixed:{type:Boolean,default:!1},maxHeight:{type:Number,default:200}},data:function(){return{isFold:!0,contentHeight:0,observer:null}},computed:{showFold:function(){return this.contentHeight>this.maxHeight-100},componentStyle:function(){var o={maxHeight:"".concat(this.maxHeight,"px")};return!this.fixed&&this.isFold||delete o.maxHeight,o}},methods:{toggleFold:function(){this.isFold=!this.isFold}},mounted:function(){var o=this,e=this.$refs.contentContainer;this.observer=new ResizeObserver((function(t){var c,r=Object(h["a"])(t);try{for(r.s();!(c=r.n()).done;){var n=c.value;n.target===e&&(o.contentHeight=n.contentRect.height)}}catch(i){r.e(i)}finally{r.f()}})),this.observer.observe(e)},beforeDestroy:function(){this.observer.disconnect(),this.observer=null}},b=g,_=(t("78a6"),t("2877")),y=Object(_["a"])(b,v,p,!1,null,null,null),C=y.exports,w=t("a974"),O=function(){var o=this,e=o._self._c;return e("div",{staticClass:"u-chain"},[o.showCurrent?e("div",{staticClass:"list"},o._l(o.display_data.current,(function(t,c){return e("div",{key:t.id,staticClass:"u-chain-name"},[void 0!==t.logic?e("span",o._l(t.quests,(function(c){return e("span",{key:c.id,class:{all:t.logic,one:!t.logic}},[o._v(" 「"),e("router-link",{staticClass:"u-chain-link",class:{current:o.current==c.id},attrs:{to:{name:"view",params:{quest_id:c.id}}}},[o._v(o._s(c.name))]),o._v("」 ")],1)})),0):e("span",[o._v(" 「"),e("router-link",{staticClass:"u-chain-link",class:{current:o.current==t.id},attrs:{to:{name:"view",params:{quest_id:t.id}}}},[o._v(o._s(t.name))]),o._v("」 ")],1),c!=o.display_data.current.length-1?e("span",[o._v(" > ")]):o._e()])})),0):o._e(),o.showBranch?e("div",{staticClass:"branch"},[e("div",{staticClass:"u-more-branch"},[o._v("任务分支")]),o._l(o.display_data.branch,(function(t){return e("span",{key:t.id,staticClass:"u-chain-name"},[o._v(" 「"),e("router-link",{staticClass:"u-chain-link",attrs:{to:{name:"view",params:{quest_id:t.id}}}},[o._v(o._s(t.name))]),o._v("」 ")],1)}))],2):o._e()])},j=[],k=t("2909"),x=(t("14d9"),t("2ca0"),{name:"QuestChain",props:{data:{type:Object},current:{type:Number}},computed:{display_data:function(){var o,e,t,c=this.data.current;null!==(o=c)&&void 0!==o&&null!==(e=o[0])&&void 0!==e&&null!==(t=e.id)&&void 0!==t&&t.startsWith("b_")&&(c[0].quests=c[0].quests.filter((function(o){return o.visible})),1==c[0].quests.length&&(c[0]=c[0].quests[0])),c=c.filter((function(o){return o.hasOwnProperty("logic")||o.visible}));var r,n=this.data.branch.filter((function(o){return o.visible}));n&&1==n.length&&((r=c).push.apply(r,Object(k["a"])(n)),n=[]);return{current:c,branch:n}},showBranch:function(){return this.display_data.branch.length>0},showCurrent:function(){return this.display_data.current.length>1}}}),D=x,A=(t("2bab"),Object(_["a"])(D,O,j,!1,null,"4f090607",null)),S=A.exports,q=t("9622"),I=t("7720"),N=t("85e4"),F=t("5033"),M=t("500d"),T=t("9616"),L=t("c9d2"),H={name:"MobileQuestDetail",components:{FoldCard:C,ItemIcon:m["a"],SuspendCommon:l["a"],UserSelectDrawer:s["a"],ConfirmOkDrawer:u["a"],MiniprogramCommentList:d["a"],QuestChain:S,Article:w["a"]},data:function(){return{loading:!0,source:"",wiki_post:"",userSelectShow:!1,conformShow:!1,confirmLoading:!1}},computed:Object(a["a"])(Object(a["a"])({},Object(f["b"])({onlyNotCompleted:function(o){return o.onlyNotCompleted},completedQuests:function(o){return o.completedQuests},currentRole:function(o){return o.currentRole},client:function(o){return o.client}})),{},{isCompleted:function(){return this.completedQuests.includes(Number(this.id))},targetDesc:function(){var o,e;return Object(F["d"])(null===(o=this.source)||void 0===o||null===(e=o.desc)||void 0===e?void 0:e.Objective).replaceAll("&emsp;","")},questDesc:function(){var o,e;return Object(F["c"])(null===(o=this.source)||void 0===o||null===(e=o.desc)||void 0===e?void 0:e.Description,!0).replace(/^&emsp;&emsp;\n/,"")},id:function(){return Number(this.$route.params.quest_id)},post_id:function(){var o,e;return(null===(o=this.wiki_post)||void 0===o||null===(e=o.post)||void 0===e?void 0:e.id)||void 0},author_id:function(){var o;return~~(null===(o=this.wiki_post.post)||void 0===o?void 0:o.user_id)},user_name:function(){var o,e;return null===(o=this.wiki_post)||void 0===o||null===(e=o.post)||void 0===e?void 0:e.user_nickname},user_avatar:function(){var o,e;return null===(o=this.wiki_post)||void 0===o||null===(e=o.post)||void 0===e?void 0:e.user_avatar},updated_at:function(){var o,e;return Object(N["t"])(null===(o=this.wiki_post)||void 0===o||null===(e=o.post)||void 0===e?void 0:e.updated)},authors:function(){var o,e,t;return(null===(o=this.wiki_post)||void 0===o||null===(e=o.users)||void 0===e||null===(t=e.filter((function(o){return o.id})))||void 0===t?void 0:t.map((function(o){return{user_id:o.id,user_avatar:o.avatar,display_name:o.nickname}})))||[]},sourceName:function(){var o,e,t;return(null===(o=this.source)||void 0===o||null===(e=o.desc)||void 0===e?void 0:e.QuestName)||(null===(t=this.source)||void 0===t?void 0:t.name)},isFromTarget:function(){return!1},drawerOptions:function(){return{hideType:["report"],direction:"btt",drawerTitle:this.sourceName,author:{name:this.user_name,avatar:this.user_avatar,author_id:this.author_id},subscribeType:"wiki",postType:"quest",id:this.post_id,title:this.sourceName||document.title||"",url:window.location.href,laterOn:{author_id:this.author_id||0,content_meta_id:this.post_id}}}}),methods:{showAvatar:N["r"],questDescFormat:function(o){return Object(F["c"])(o,!0)},questTargetDescFormat:F["d"],ts2str:N["t"],onSearch:function(){Object(I["a"])()?wx.miniProgram.navigateTo({url:"/pages/search/search-detail/search-detail?app=wiki&filter_category=成就"}):this.$message({message:"非小程序环境，不支持跳转搜索页",type:"warning"})},toggleConfirmShow:function(){this.conformShow=!0},toggleCompleted:function(){var o,e=this;this.confirmLoading=!0;var t=null===(o=this.currentRole)||void 0===o?void 0:o.ID,c=Number(this.id),r=this.isCompleted?Object(q["a"])(t,c):Object(q["b"])(t,c);r.then((function(){e.$store.commit(e.isCompleted?"REMOVE_COMPLETED_QUEST":"ADD_COMPLETED_QUEST",c)})).finally((function(){e.confirmLoading=!1}))},setRole:function(o){this.$store.commit("SET_ROLE",o),this.userSelectShow=!1},clearContent:function(o){return(o||"").replace(/ style="[^"]*"/g,"").replace(/<i?frame.*?src="(.*?)".*?>/g,(function(o,e){return'<a href="'.concat(e,'" target="_blank">').concat(e,"</a>")})).replace(/<i?frame.*?src="(.*?)".*?>.*?<\/i?frame>/g,(function(o,e){return'<a href="'.concat(e,'" target="_blank">').concat(e,"</a>")}))},loadInitData:function(){var o=this;return Object(i["a"])(Object(n["a"])().m((function e(){return Object(n["a"])().w((function(e){while(1)switch(e.n){case 0:if(o.id){e.n=1;break}return e.a(2);case 1:return o.loading=!0,e.n=2,Object(q["e"])({id:o.id,client:o.client}).then((function(e){o.source=e.data}));case 2:return e.n=3,M["a"].mix({type:"quest",id:o.id,client:o.client}).then((function(e){var t=e.post,c=e.source,r=e.compatible,n=e.isEmpty,i=e.users;o.wiki_post={post:t,source:c,users:i},o.is_empty=n,o.compatible=r,t&&L["a"].isLogin()&&Object(T["c"])({source_type:"origin"==o.client?"origin_quest":"quest",source_id:~~o.id,link:location.href,title:t.title})})).finally((function(){o.loading=!1}));case 3:o.triggerStat();case 4:return e.a(2)}}),e)})))()},triggerStat:function(){Object(T["d"])("origin"==this.client?"origin_quest":"quest",this.id)}},watch:{currentRole:{deep:!0,handler:function(o){var e=this;o&&Object(q["i"])(this.currentRole.ID).then((function(o){var t,c=(null===(t=o.data)||void 0===t?void 0:t.data)||[];e.$store.commit("SET_COMPLETED_QUESTS",c),localStorage.setItem("quests_last_sync",e.currentRole.jx3id)}))}},id:{immediate:!0,handler:function(o){o&&this.loadInitData()}}}},z=H,B=(t("9ace"),Object(_["a"])(z,c,r,!1,null,null,null));e["default"]=B.exports},"5b81":function(o,e,t){"use strict";var c=t("23e7"),r=t("c65b"),n=t("e330"),i=t("1d80"),a=t("1626"),f=t("861d"),l=t("44e7"),s=t("577e"),u=t("dc4a"),d=t("90d8"),m=t("0cb2"),v=t("b622"),p=t("c430"),h=v("replace"),g=TypeError,b=n("".indexOf),_=n("".replace),y=n("".slice),C=Math.max;c({target:"String",proto:!0},{replaceAll:function(o,e){var t,c,n,v,w,O,j,k,x,D,A=i(this),S=0,q="";if(f(o)){if(t=l(o),t&&(c=s(i(d(o))),!~b(c,"g")))throw new g("`.replaceAll` does not allow non-global regexes");if(n=u(o,h),n)return r(n,o,A,e);if(p&&t)return _(s(A),o,e)}v=s(A),w=s(o),O=a(e),O||(e=s(e)),j=w.length,k=C(1,j),x=b(v,w);while(-1!==x)D=O?s(e(w,x,v)):m(w,v,x,[],void 0,e),q+=y(v,S,x)+D,S=x+j,x=x+k>v.length?-1:b(v,w,x+k);return S<v.length&&(q+=y(v,S)),q}})},"65ed":function(o,e,t){},"6fb8":function(o,e,t){},"70e3":function(o){o.exports=JSON.parse('{"0":{"color":"#ffffff"},"1":{"color":"#000000"},"2":{"color":"#ffffff"},"3":{"color":"#ffffff"},"4":{"color":"#282828"},"5":{"color":"#ffffff"},"6":{"color":"#000000"},"7":{"color":"#ffffff"},"8":{"color":"#ffff00"},"9":{"color":"#ffffff"},"10":{"color":"#ffffff"},"11":{"color":"#ffff00"},"12":{"color":"#ff7e7e"},"13":{"color":"#ffffff"},"14":{"color":"#ffff00"},"15":{"color":"#ffffff"},"16":{"color":"#ffff00"},"17":{"color":"#ff7e7e"},"18":{"color":"#ffffff"},"19":{"color":"#a3b06a"},"20":{"color":"#ff0000"},"21":{"color":"#00c848"},"22":{"color":"#ffffff"},"23":{"color":"#ffff00"},"24":{"color":"#ff9600"},"25":{"color":"#adadad"},"26":{"color":"#ffffff"},"27":{"color":"#ffff00"},"28":{"color":"#ffffff"},"29":{"color":"#000000"},"30":{"color":"#adadad"},"31":{"color":"#ffff00"},"32":{"color":"#ff9600"},"33":{"color":"#ff0000"},"34":{"color":"#df12c9"},"35":{"color":"#007eff"},"36":{"color":"#00c848"},"37":{"color":"#ffffff"},"38":{"color":"#000000"},"39":{"color":"#a3b06a"},"40":{"color":"#ffffff"},"41":{"color":"#ffffff"},"42":{"color":"#ffffff"},"43":{"color":"#000000"},"44":{"color":"#ffffff"},"45":{"color":"#cfcfcf"},"46":{"color":"#969696"},"47":{"color":"#04d1b6"},"48":{"color":"#ffff00"},"49":{"color":"#fff78e"},"50":{"color":"#636363"},"51":{"color":"#ff7e7e"},"52":{"color":"#ff7e7e"},"53":{"color":"#ff7e7e"},"54":{"color":"#ff7e7e"},"55":{"color":"#ff7e7e"},"56":{"color":"#ff7e7e"},"57":{"color":"#ff7e7e"},"58":{"color":"#ff7e7e"},"59":{"color":"#ffff00"},"60":{"color":"#cfcfcf"},"61":{"color":"#adadad"},"62":{"color":"#969696"},"63":{"color":"#636363"},"64":{"color":"#ffffbb"},"65":{"color":"#ffff00"},"66":{"color":"#a3b06a"},"67":{"color":"#ffca7e"},"68":{"color":"#ff9600"},"69":{"color":"#a96300"},"70":{"color":"#ff7e7e"},"71":{"color":"#ff0000"},"72":{"color":"#a90000"},"73":{"color":"#ca7eff"},"74":{"color":"#df12c9"},"75":{"color":"#5e1ba0"},"76":{"color":"#7e7eff"},"77":{"color":"#007eff"},"78":{"color":"#0000a9"},"79":{"color":"#7ee3a3"},"80":{"color":"#00c848"},"81":{"color":"#00842f"},"82":{"color":"#e68c00"},"83":{"color":"#dc1e00"},"84":{"color":"#968c00"},"85":{"color":"#ff7e7e"},"86":{"color":"#ff7e7e"},"87":{"color":"#ff7e7e"},"88":{"color":"#ff7e7e"},"89":{"color":"#ff7e7e"},"90":{"color":"#ff7e7e"},"91":{"color":"#ff7e7e"},"92":{"color":"#ff7e7e"},"93":{"color":"#ff7e7e"},"94":{"color":"#ff7e7e"},"95":{"color":"#ff7e7e"},"96":{"color":"#ff7e7e"},"97":{"color":"#ff7e7e"},"98":{"color":"#ff7e7e"},"99":{"color":"#ffff00"},"100":{"color":"#ffff00"},"101":{"color":"#ff9600"},"102":{"color":"#ff0000"},"103":{"color":"#df12c9"},"104":{"color":"#007eff"},"105":{"color":"#00c848"},"106":{"color":"#ffffff"},"107":{"color":"#cfcfcf"},"108":{"color":"#adadad"},"109":{"color":"#969696"},"110":{"color":"#636363"},"111":{"color":"#ff7e7e"},"112":{"color":"#ca7eff"},"113":{"color":"#7e7eff"},"114":{"color":"#ff7e7e"},"115":{"color":"#ff7e7e"},"116":{"color":"#ff7e7e"},"117":{"color":"#ff7e7e"},"118":{"color":"#ff7e7e"},"119":{"color":"#ff7e7e"},"120":{"color":"#ff7e7e"},"121":{"color":"#ff7e7e"},"122":{"color":"#ff7e7e"},"123":{"color":"#ff7e7e"},"124":{"color":"#ff7e7e"},"125":{"color":"#ff7e7e"},"126":{"color":"#ff7e7e"},"127":{"color":"#ff7e7e"},"128":{"color":"#ff7e7e"},"129":{"color":"#ff7e7e"},"130":{"color":"#ff7e7e"},"131":{"color":"#cfcfcf"},"132":{"color":"#adadad"},"133":{"color":"#969696"},"134":{"color":"#636363"},"135":{"color":"#ffffff"},"136":{"color":"#ffff00"},"137":{"color":"#ff0000"},"138":{"color":"#00842f"},"139":{"color":"#7ee3a3"},"140":{"color":"#ff7e7e"},"141":{"color":"#ff7e7e"},"142":{"color":"#ff7e7e"},"143":{"color":"#ff7e7e"},"144":{"color":"#ff7e7e"},"145":{"color":"#ff7e7e"},"146":{"color":"#ff7e7e"},"147":{"color":"#ff7e7e"},"148":{"color":"#ff7e7e"},"149":{"color":"#ff7e7e"},"150":{"color":"#ff7e7e"},"151":{"color":"#ff7e7e"},"152":{"color":"#ff7e7e"},"153":{"color":"#ff7e7e"},"154":{"color":"#ff7e7e"},"155":{"color":"#fff78e"},"156":{"color":"#000000"},"157":{"color":"#ffca7e"},"158":{"color":"#a96300"},"159":{"color":"#ff0000"},"160":{"color":"#000000"},"161":{"color":"#adadad"},"162":{"color":"#ffffff"},"163":{"color":"#ffff00"},"164":{"color":"#ff9600"},"165":{"color":"#00c848"},"166":{"color":"#ff0000"},"167":{"color":"#00c848"},"168":{"color":"#ff9600"},"169":{"color":"#adadad"},"170":{"color":"#606000"},"171":{"color":"#1e366c"},"172":{"color":"#8b2e1c"},"173":{"color":"#105830"},"174":{"color":"#45544b"},"175":{"color":"#ffffff"},"176":{"color":"#7ee3a3"},"177":{"color":"#ffffbb"},"178":{"color":"#ff7e7e"},"179":{"color":"#ff7e7e"},"180":{"color":"#000000"},"181":{"color":"#5e1ba0"},"182":{"color":"#ffffbb"},"183":{"color":"#1e68fe"},"184":{"color":"#ef370c"},"185":{"color":"#ffffbb"},"186":{"color":"#4cdf15"},"187":{"color":"#ffff00"},"188":{"color":"#ffff00"},"189":{"color":"#cfcfcf"},"190":{"color":"#ffffff"},"191":{"color":"#000000"},"192":{"color":"#7ee3a3"},"193":{"color":"#7e7eff"},"194":{"color":"#7ee3a3"},"195":{"color":"#ca7eff"},"196":{"color":"#ff0012"},"197":{"color":"#ffffff"},"198":{"color":"#4fff6c"},"199":{"color":"#ff0012"},"200":{"color":"#ffff00"},"201":{"color":"#ffff00"},"202":{"color":"#33f3ff"},"203":{"color":"#ffffff"},"204":{"color":"#ffff00"},"205":{"color":"#33f3ff"},"206":{"color":"#30bdd6"},"207":{"color":"#ffffff"},"208":{"color":"#ef370c"},"209":{},"210":{"color":"#ffffff"},"211":{"color":"#ffffff"},"212":{"color":"#ffffff"},"213":{"color":"#ffffff"},"214":{"color":"#ffffff"},"215":{"color":"#cfcfcf"},"216":{"color":"#ffffff"},"217":{"color":"#ff0000"},"218":{"color":"#969696"},"219":{"color":"#ff0000"},"220":{"color":"#adadad"},"221":{"color":"#cfcfcf"},"222":{"color":"#00c848"},"223":{"color":"#cfcfcf"},"224":{"color":"#fbeab7"},"225":{"color":"#000000"},"226":{"color":"#00c848"},"227":{"color":"#ffffff"},"228":{"color":"#ffffff"},"229":{"color":"#4cdf15"},"230":{"color":"#ffffff"},"231":{"color":"#ffffff"},"232":{"color":"#ffffff"},"233":{"color":"#ffffff"},"234":{"color":"#ffffff"},"235":{"color":"#ef370c"},"236":{"color":"#ffff00"},"237":{"color":"#ff9600"},"238":{"color":"#ffffff"},"239":{"color":"#ffffbb"},"240":{"color":"#a96300"},"241":{"color":"#ffff00"},"242":{"color":"#453d2a"},"243":{"color":"#bafbdf"},"244":{"color":"#ffffff"},"245":{"color":"#ffffff"},"246":{"color":"#bafbdf"},"247":{"color":"#ffffff"},"248":{"color":"#ffffff"},"249":{"color":"#bafbdf"},"250":{"color":"#ffffff"},"251":{"color":"#ffde00"},"252":{"color":"#33f3ff"},"253":{"color":"#33f3ff"},"254":{"color":"#ffffff"},"255":{"color":"#bafbdf"},"256":{"color":"#ff9600"},"257":{"color":"#ffffff"},"258":{"color":"#ffff00"},"259":{"color":"#ffffff"},"260":{"color":"#000000"},"261":{"color":"#cfcfcf"},"262":{"color":"#33f3ff"},"263":{"color":"#ffffff"},"264":{"color":"#ffffff"},"265":{"color":"#96cedf"},"266":{"color":"#ffca7e"},"267":{"color":"#fab07e"},"268":{"color":"#e8c368"},"269":{"color":"#000000"},"270":{"color":"#ff0000"},"271":{"color":"#ffde00"},"272":{"color":"#ffffff"},"273":{"color":"#ffffff"},"274":{"color":"#fbeab7"},"275":{"color":"#fbeab7"},"276":{"color":"#ffffff"},"277":{"color":"#99452b"},"278":{"color":"#ca7eff"},"279":{"color":"#ff7e7e"},"280":{"color":"#ffde00"},"281":{"color":"#30bdd6"},"282":{"color":"#7ee3a3"},"283":{"color":"#cfcfcf"},"284":{"color":"#0b0b0b"},"285":{"color":"#007eff"},"286":{"color":"#df11c9"},"287":{"color":"#00c848"},"288":{"color":"#000000"},"289":{"color":"#ffff00"},"290":{"color":"#3e281b"},"291":{"color":"#3e281b"},"292":{"color":"#ffffff"},"293":{"color":"#8b2e1c"},"294":{"color":"#e68c00"},"295":{"color":"#e68c00"},"296":{"color":"#282828"},"297":{"color":"#493c23"},"298":{"color":"#493c23"},"299":{"color":"#8b2e1c"},"300":{"color":"#ffffff"},"301":{"color":"#ffffff"},"302":{"color":"#46332b"},"303":{"color":"#ffffff"},"304":{"color":"#ffffff"},"305":{"color":"#ca7eff"},"306":{"color":"#ffff00"},"307":{"color":"#a96300"},"308":{"color":"#ff0000"},"309":{"color":"#105830"},"310":{"color":"#ffffff"},"311":{"color":"#fbeab7"},"312":{"color":"#282828"},"313":{"color":"#636363"},"314":{"color":"#46332b"},"315":{"color":"#ffff00"},"316":{"color":"#00c848"},"317":{"color":"#ff0000"},"318":{"color":"#ff9600"},"319":{"color":"#adadad"},"320":{"color":"#ff7e7e"},"321":{"color":"#ffca7e"},"322":{"color":"#92de5f"},"323":{"color":"#007eff"},"324":{"color":"#ffffff"},"325":{"color":"#e68c00"},"326":{"color":"#000000"},"327":{"color":"#ffffff"},"328":{"color":"#ffff00"},"329":{"color":"#ffffff"},"330":{"color":"#ffff00"},"331":{"color":"#ffffff"},"332":{"color":"#ffffff"},"333":{"color":"#adadad"},"334":{"color":"#ffff00"},"335":{"color":"#ff9600"},"336":{"color":"#ffffff"},"337":{"color":"#a90000"},"338":{"color":"#a90000"},"339":{"color":"#ffffff"},"340":{"color":"#a90000"},"341":{"color":"#453d2a"},"342":{"color":"#fbeab7"},"343":{"color":"#ffffff"},"344":{"color":"#ffffff"},"345":{"color":"#776859"},"346":{"color":"#735c3c"},"347":{"color":"#735c3c"},"348":{"color":"#615044"},"349":{"color":"#46332b"},"350":{"color":"#513301"},"351":{"color":"#ece4cc"},"352":{"color":"#776859"},"353":{"color":"#fef9e7"},"354":{"color":"#513301"},"355":{"color":"#735c3c"},"356":{"color":"#735c3c"},"357":{"color":"#513301"},"358":{"color":"#92bcb4"},"359":{"color":"#6fa497"},"360":{"color":"#bce5db"},"361":{"color":"#e3d7c7"},"362":{"color":"#ffffff"},"363":{"color":"#95b9ba"},"364":{"color":"#a9a7a3"},"365":{"color":"#00c848"},"366":{"color":"#ff9600"},"367":{"color":"#df12c9"},"368":{"color":"#007eff"},"369":{"color":"#00c848"},"370":{"color":"#ff7e7e"},"371":{"color":"#ffffff"},"372":{"color":"#ffff00"},"373":{"color":"#3e281b"},"374":{"color":"#cfcfcf"},"375":{"color":"#ffffbb"}}')},"78a6":function(o,e,t){"use strict";t("65ed")},"7db5":function(o,e,t){"use strict";t("a94b")},9622:function(o,e,t){"use strict";t.d(e,"e",(function(){return n})),t.d(e,"g",(function(){return i})),t.d(e,"d",(function(){return a})),t.d(e,"h",(function(){return f})),t.d(e,"f",(function(){return l})),t.d(e,"c",(function(){return s})),t.d(e,"b",(function(){return u})),t.d(e,"a",(function(){return d})),t.d(e,"i",(function(){return m}));t("99af");var c=t("41cb"),r=Object(c["d"])();function n(o){return r.get("/quest/",{params:o})}function i(o,e){return r.post("/quests",e,{params:o})}function a(o){return r.get("/quests/newest",{params:o})}function f(o){return o=Object.assign(o,{type:"quest"}),Object(c["a"])().get("/api/cms/wiki/post/waiting",{params:o})}function l(o){return r.get("/quest/maps",{params:o})}function s(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wiki_quest_ac";return Object(c["a"])().get("/api/cms/breadcrumb/".concat(o)).then((function(o){return o.data.data.html||""}))}function u(o,e){return Object(c["a"])().post("/api/cms/wiki/user-quest/".concat(o,"/").concat(e))}function d(o,e){return Object(c["a"])().delete("/api/cms/wiki/user-quest/".concat(o,"/").concat(e))}function m(o){return Object(c["a"])().get("/api/cms/wiki/user-quest/".concat(o))}},"98a6":function(o,e,t){},"9ace":function(o,e,t){"use strict";t("cea3")},a94b:function(o,e,t){},b29a:function(o,e,t){"use strict";t("99af");var c=function(){var o=this,e=o._self._c;return o.source?e("el-popover",{attrs:{placement:"right-start",trigger:o.click_trigger?"click":"hover",disabled:o.dishoverable,"popper-class":"m-item-icon-popup","visible-arrow":!1,transition:"none","close-delay":0},on:{show:o.show}},[e("template",{slot:"reference"},[e("div",{staticClass:"m-item-icon"},[e("div",{staticClass:"u-item-icon",style:"height:".concat(o.size,"px; width:").concat(o.size,"px")},[e("a",{staticClass:"u-item-link",style:"height:".concat(o.size,"px; width:").concat(o.size,"px"),attrs:{target:"_blank",href:o.getLink("item",o.source.id)}},[e("div",{staticClass:"u-border",style:{backgroundImage:o.item_border(o.source),opacity:5==o.source.Quality?.9:1}}),e("div",{staticClass:"u-border-quest",style:{backgroundImage:o.item_border_quest(o.source)}}),e("img",{staticClass:"u-item-icon",attrs:{src:o.icon_url(o.source.IconID)}})])]),o.has_title?e("div",{staticClass:"u-name",class:"quality-".concat(o.source.Quality)},[o._v(o._s(o.source.Name))]):o._e()])]),e("jx3-item",{attrs:{item:o.source}})],2):o._e()},r=[],n=(t("e9c4"),t("a9e3"),t("b64b"),t("5087"),t("c7fa")),i=t("b78a"),a=t("01ea"),f=t("85e4"),l={name:"CommonItemIcon",props:{item:{type:Object,default:function(){}},size:{type:Number,default:36},item_id:{type:String,default:null},amount:{type:Number,default:1},dishoverable:{type:Boolean,default:!1},click_trigger:{type:Boolean,default:!1},has_title:{type:Boolean,default:!1}},data:function(){return{source:null,real_id:null,maybeBook:!1}},computed:{client:function(){return this.$store.state.client},cache_key:function(){return"item-".concat(this.client,"-").concat(this.real_id)},display_amount:function(){return!1===this.maybeBook?this.amount:1}},components:{"jx3-item":n["a"]},methods:{getLink:f["f"],get_data:function(o){var e=this;o&&Object(i["g"])(o,this.client).then((function(o){var t=o.data,c=t.data.item;Object.keys(c).length&&(e.source=c,sessionStorage.setItem(e.cache_key,JSON.stringify(c)))})).catch((function(o){var t;400==(null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.code)&&!1===e.maybeBook&&(e.maybeBook=!0,e.real_id="".concat(e.item_id,"_").concat(e.amount))}))},show:function(){this.source&&"undefined"!==typeof this.source.Genre||this.get_data(this.source.id)},item_border:function(o){switch(o.Quality){case 3:return"url(".concat(a["e"],"image/item/blue.png)");case 4:return"url(".concat(a["e"],"image/item/purple.png)");case 5:return"url(".concat(a["e"],"image/item/orange.gif)");default:return""}},item_border_quest:function(o){return o.IsQuest>0?"url(".concat(a["e"],"image/item/renwu.png)"):""},icon_url:function(o){return Object(f["l"])(o)}},watch:{real_id:{immediate:!0,handler:function(){var o=sessionStorage.getItem(this.cache_key);if(o)try{this.source=JSON.parse(o)}catch(e){console.log(e,"[Item]无法解析本地缓存"),this.get_data(this.real_id)}else this.get_data(this.real_id)}},item:{immediate:!0,handler:function(){this.source=this.item}},item_id:{immediate:!0,handler:function(){this.get_data(this.item_id)}}},mounted:function(){this.real_id=this.item_id}},s=l,u=(t("c19b"),t("304b"),t("2877")),d=Object(u["a"])(s,c,r,!1,null,"f55cfca6",null);e["a"]=d.exports},b78a:function(o,e,t){"use strict";t.d(e,"f",(function(){return n})),t.d(e,"a",(function(){return i})),t.d(e,"e",(function(){return a})),t.d(e,"l",(function(){return f})),t.d(e,"h",(function(){return l})),t.d(e,"g",(function(){return s})),t.d(e,"q",(function(){return u})),t.d(e,"i",(function(){return d})),t.d(e,"k",(function(){return m})),t.d(e,"c",(function(){return v})),t.d(e,"o",(function(){return p})),t.d(e,"j",(function(){return h})),t.d(e,"m",(function(){return g})),t.d(e,"n",(function(){return b})),t.d(e,"p",(function(){return _})),t.d(e,"d",(function(){return y})),t.d(e,"b",(function(){return C}));t("99af"),t("a15b");var c=t("41cb"),r=Object(c["d"])({mute:!0});function n(o){return Object(c["c"])().get("api/article/favorites/my",{params:o})}function i(o){return Object(c["c"])().delete("api/article/favorites/my/".concat(o))}function a(o){return r.get("api/node/item/menus",{params:o})}function f(o){return r.get("api/node/item/count",{params:o})}function l(o){return r.get("/item/enums",{params:o})}function s(o,e){if(o)return r.get("api/node/item/".concat(o),{params:{client:null!==e&&void 0!==e?e:"std"}})}function u(o,e){if(o)return Object(c["c"])().get("api/item-price/".concat(o,"/detail"),{params:e})}function d(o){if(o.item_id)return Object(c["c"])().post("api/auction/",o)}function m(o){var e,t,c=o.ids instanceof Array?o.ids.join(","):o.ids;return r.get("/item_merged/id/".concat(c),{params:{client:null!==(e=o.client)&&void 0!==e?e:"std",per:null!==(t=o.per)&&void 0!==t?t:20}})}function v(o,e){return r.get("/item_merged/name/".concat(o),{params:e})}function p(o){var e;return r.get("/item/newest",{params:{client:null!==(e=o.client)&&void 0!==e?e:"std"}})}function h(o){return r.get("api/node/item/list",{params:o})}function g(o){return r.get("api/node/item/search",{params:o})}function b(o){return r.get("api/node/item/menu_list",{params:o})}function _(o){return Object(c["a"])().get("/api/cms/wiki/post/waiting",{params:o})}function y(o){return r.get("/manufactures",{params:o})}function C(o){return r.get("/other",{params:o})}},c19b:function(o,e,t){"use strict";t("98a6")},c404:function(o,e,t){"use strict";var c=function(){var o=this,e=o._self._c;return e("div",{staticClass:"m-comment-list",attrs:{id:"macro-comment"}},[o._l(o.comments,(function(t){var c;return e("div",{key:t.id,staticClass:"m-comment-item"},[e("div",{staticClass:"m-main-content"},[e("div",{staticClass:"u-commenter-name",on:{click:function(e){return o.toDetail(t.user_id)}}},[o._v(" "+o._s(t.user_nickname)+" ")]),e("div",{staticClass:"u-comment-content"},[o._v(" "+o._s(t.content)+" ")]),e("div",{staticClass:"u-comment-time"},[o._v(" "+o._s(o.dayjs(null===t||void 0===t?void 0:t.commentDate).format("YYYY-MM-DD"))+" ")])]),null!==(c=t.children)&&void 0!==c&&c.length?e("div",{staticClass:"m-child-comment"},o._l(t.children,(function(t){return e("div",{key:t.id,staticClass:"m-reply-item"},[e("div",{staticClass:"u-replier-name",on:{click:function(e){return o.toDetail(t.user_id)}}},[o._v(" "+o._s(t.user_nickname)+" ")]),e("span",{staticClass:"u-reply"},[o._v("回复")]),e("div",{staticClass:"u-replier-name",on:{click:function(e){t.parent.user_id&&o.toDetail(t.parent.user_id)}}},[o._v(" "+o._s(t.parent.user_nickname)+" ")]),e("span",{staticClass:"u-reply"},[o._v("：")]),e("div",{staticClass:"u-reply-content"},[o._v(" "+o._s(t.content)+" ")])])})),0):o._e()])})),o.loading?e("div",{staticClass:"u-loading-more"},[o._v("加载中...")]):o._e(),o.noMoreData?e("div",{staticClass:"u-no-more"},[o._v("没有更多评论了")]):o._e()],2)},r=[],n=(t("99af"),t("caad"),t("d81d"),t("14d9"),t("b0c0"),t("e9f5"),t("ab43"),t("d3b7"),t("2532"),t("5a0c")),i=t.n(n),a=t("500d"),f=t("c9d2"),l={name:"MiniprogramCommentList",props:["type","sourceId"],data:function(){return{comments:[],reply_form:{content:"",user_nickname:f["a"].getInfo().name},page:1,pageSize:10,total:0,loading:!1}},computed:{isWujie:function(){var o;return(null===(o=this.$route.name)||void 0===o?void 0:o.indexOf("wujie"))>-1},client:function(){return location.href.includes("classic")||location.href.includes("origin")?"origin":"std"},noMoreData:function(){return this.comments.length>=this.total&&this.total>0}},mounted:function(){this._onScroll=this.handleScroll.bind(this),window.addEventListener("scroll",this._onScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this._onScroll)},methods:{dayjs:i.a,handleScroll:function(){if(!this.loading&&!this.noMoreData){var o=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,e=window.innerHeight,t=document.documentElement.scrollHeight;o+e+100>=t&&this.loadMore()}},loadMore:function(){this.loading||this.noMoreData||(this.page++,this.get_comments(!0))},get_comments:function(){var o=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];function t(o,e){var c=[],r=function(){var r=o[n];if(!r)return 1;if(r.parent_id===e){var i=t(r.children,r.id);r.children=i.map((function(o){return o.parent={user_id:r.user_id,user_nickname:r.user_nickname,id:r.id},o.reply_form={show:!1,content:"",user_nickname:f["a"].getInfo().name},o})),c.push(r)}};for(var n in o)r();return c}this.type&&this.sourceId&&(this.loading=!0,a["b"].list({type:this.type,id:this.sourceId},{client:this.client,page:this.page}).then((function(c){c=c.data;for(var r=c.data.list,n=0;n<r.length;n++)r[n]["reply_form"]={show:!1,content:"",user_nickname:f["a"].getInfo().name};o.page=c.data.page,o.total=c.data.total,o.comments=e?o.comments.concat(t(r,0)):t(r,0),o.loading=!1})))},create_comment:function(o){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(o.content){var c={type:this.type,source_id:String(this.sourceId),parent_id:t,user_nickname:o.user_nickname||f["a"].getInfo().name,content:o.content,client:this.client};a["b"].post(c).then((function(t){t=t.data,o.content="",e.$message({message:"提交成功，请等待审核",type:"success"})})).finally((function(){o.show=!1}))}else this.$message({message:"请先填写评论内容再尝试提交",type:"warning"})},handleCurrentChange:function(o){this.page=o,this.get_comments()},star_comment:function(o,e){var t=this;a["b"].star(o.id,{is_star:e}).then((function(){t.page=1,t.get_comments()}))},top_comment:function(o,e){var t=this;a["b"].top(o.id,{is_top:e}).then((function(){t.page=1,t.get_comments()}))},toDetail:function(){}},watch:{sourceId:{immediate:!0,handler:function(){this.page=1,this.get_comments()}}}},s=l,u=(t("7db5"),t("2877")),d=Object(u["a"])(s,c,r,!1,null,null,null);e["a"]=d.exports},c7cd:function(o,e,t){"use strict";var c=t("23e7"),r=t("857a"),n=t("af03");c({target:"String",proto:!0,forced:n("fixed")},{fixed:function(){return r(this,"tt","","")}})},cea3:function(o,e,t){},e610:function(o,e){o.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAATuSURBVEhLvZZ/TJR1HMcNBKJRtChxmb/Y2vAf23C51dwYa7aMSF0RKnDHDyU5+WFTftwdcAhHJxeKIHjegQckIsqhyJzVBs4fpVNR80foHDrbtC2zrIZpar77vr/xPDyH51Q2++N1z/e+z+fzfj/f7+fzfPeMAfC/4nPyaaIO+vr6nomIiHguICBgvCA8Ojo6SBv4ODCHudSgFjVHxqiDuLi4QEtBTMy1CwU41p12w8/Pb7q/v/+UJ4E5zKUGtaipNSPqICQkJNTjjq+7dCwXx3dlo82chc3GTHxZuFSy2WjAFjG3tShbwjHnhu9nyhzmUqOjMb6WmlozIn/sdrv/2LFjJx3crh84ujMVO9YmomrJx6OCudQ4sE13XmhOpLaXIfc5LCzseVteTP7hDj2I25yAyrSPRgVzFR1qUltbyzGRkZHBM6dPmLm/LekXBvU2J2NV4jxYFsxD6ULBoqGrwCLwVCZLOFbmlRjmMHev0KAWNalND9WQHXX36nYo9G4y45sNNp8MHK0VOW4Jx75iCDW0mvR4qKEvAaI1exxTraaXYVRU1LOind/44M2peBpQmx6qIX/YTVfO2H76/co6DP5cJ7l5vR53Bl24c5M0qNz+0ynRzskYEcscJZ9a1KS2YqY1nHT1dMXtXweq8MeVGsngtTopdvcvrXADbt1wSLRzSgxzlHxqUZPavgwnX/7O8s+PhyxwF+vhyEtS2bCSJOLytyXg/az5M2CYGyXHnOO96pIMlNcYYW4oh7HJhqJGKxo7K3C4p/S+OIGm6XS6gJGGEwf2F/1GEZcxGTXLF2BdrjfnekzSZP7MCCTMel2O+8VcWdVKGFvXwORxwNy1CYWdLuQ2rcXS2lJk11mQVp7TPe618VMUU2kouij81Nf5ZyjSZkuBNX0uKhYPY03/EO32VGmyKiMGFYZ35PgLhxHG9lqYu5skpl1uZDVWwdnTjP7b38PV24LsjVYsteftFh7jPB6PnzQMDQ19wbMh0XnxgFG8sJ+hJHkOLLr3UaonsSqHti3Hvi2Zkt1b8+XKpJkwyu9wwuCsRNa6Ygzc78dF9EvTTIdNxsUujtfzAJCGXO782ZFvnehKv3V2jwGOgk9QnPTeA9TlxcuVyZXW5KNg63rkNFdjSW0Z0itN6Dy5UxrR8Pyd03KFuS3VcrsNawp7AwMDw6Qhz7qgoKCX2qvntZ7oSsXB1hSU6Ob4NFUodJUhx70Grp4WXLh3dsjoBzTta4XeZkTGeqt8mMLOBlnblQ3W66JXJkhDZZWzZ02dcWS7bvDEDj2OelKxx5mBsrRYFAkD4mXYvFpu14V7Z1SzhaZlSK0qxoq2OllPpbbmbjcKmmx3+YqohlxlcHDwi5+viDb1deruHxemJ3elibrlwCwMiNZUXaHYtnN/n8Kx64dx/MYRrO1yIKu+XK6Q2/nQFZLw8PCQVTlvG85/lYJH4Ww3qTX8tL4CSdZ87L3cK2vXe6lH7dIRNXzZy5Ddurnq3b4d9bF4FC0bFw53qYBdusxlxxK7Ud1mbZfGZSQMd6kCv0H4FNzrkd8rPpiWsXrFzpHvYfZQI3GblfeQcUL3FfU9HA1ssvBJr04WYl0jTxrWVp406/87aRjnddKMForwybldrBEbg93IK/9znvcVM/KAyJPCbWJthkoxgeXglf85z/vaeK/kpw/G/AvLGYoLnK+B3wAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=chunk-087ff596.180e9137.js.map