(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8fcf811a"],{"498a":function(t,e,a){"use strict";var s=a("23e7"),i=a("58a8").trim,n=a("c8d2");s({target:"String",proto:!0,forced:n("trim")},{trim:function(){return i(this)}})},"500d":function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var s=a("41cb");const i=(t,e)=>Object(s["d"])().get("/pet/"+t,{params:e}),n=location.href.includes("origin")?"origin":"std",c={latest({type:t},e){return Object(s["a"])().get("/api/cms/wiki/post/latest",{params:{client:n,...e,type:t}})},mine(t){return Object(s["a"])().get("/api/cms/wiki/post/mine",{params:t})},counter({type:t},e){return Object(s["a"])().get("/api/cms/wiki/post/counter",{params:{client:n,...e,type:t}})},achievements(t){return Object(s["d"])().get("/achievement/list",{params:{client:n,...t}})},get({type:t,id:e},a){return Object(s["a"])().get(`/api/cms/wiki/post/type/${t}/source/${e}`,{params:{client:n,...a}})},getById(t){return Object(s["a"])().get("/api/cms/wiki/post/id/"+t)},post(t){return Object(s["a"])().post("/api/cms/wiki/post",t)},update(t,e){return Object(s["a"])().put("/api/cms/wiki/post/"+t,e)},remove(t){return Object(s["a"])().delete("/api/cms/wiki/post/"+t)},versions({type:t,id:e},a){return Object(s["a"])().get(`/api/cms/wiki/post/type/${t}/source/${e}/versions`,{params:{client:n,...a}})},async handleMix(t,e,a,s){let i="",n="",c=!0,r=!1,o=[];if("std"===a){const l=await this.get({type:t,id:e},{client:a,...s});return i=l.data.data.post,n=l.data.data.source,o=l.data.data.users,i&&(c=!1),console.log("获取重制攻略"),{post:i,source:n,isEmpty:c,compatible:r,type:t,source_id:e,users:o}}{const l=await this.get({type:t,id:e},{client:a,...s});n=l.data.data.source,i=l.data.data.post,o=l.data.data.users,i&&(c=!1),console.log("获取缘起攻略");const u=!!l.data.data.post;return u?{post:i,source:n,isEmpty:c,compatible:r,type:t,source_id:e,users:o}:(console.log("兼容：获取重制攻略"),this.get({type:t,id:e},{client:"std",...s}).then(a=>(i=a.data.data.post,n||(n=a.data.data.source),i&&(c=!1),o=a.data.data.users,r=!0,{post:i,source:n,isEmpty:c,compatible:r,type:t,source_id:e,users:o})))}},async mix({type:t,id:e,client:a},s){let n="",c="";if(n="cj"===t?"achievement":"pet"===t?"item":t||"achievement",e){if(c=e,"pet"===t){const t=await i(e,{client:a});let c=t.data,r=c.ItemTabType+"_"+c.ItemTabIndex;return this.handleMix(n,r,a,s)}return this.handleMix(n,c,a,s)}}}},"79c7":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-home-view"},[e("WikiPanel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-location-information"}),e("span",[t._v("便捷入口")])]),e("template",{slot:"head-actions"},[e("a",{staticClass:"u-more",attrs:{target:"_blank",href:t.feedback}},[t._v("反馈建议 »")])]),e("template",{slot:"body"},[e("ul",{staticClass:"m-qlinks"},[e("li",{staticClass:"qlink"},[e("a",{staticStyle:{"background-color":"#fe7979"},attrs:{target:"_blank",href:"/tool/18151/"}},[e("i",{staticClass:"el-icon-trophy"}),e("span",[t._v("游戏内看百科")])])]),e("li",{staticClass:"qlink"},[e("Counter",{attrs:{type:"item"}})],1),e("li",{staticClass:"qlink"},[e("router-link",{attrs:{to:{name:"search",query:{ids:"5_24423,5_24424,5_24425,5_24426,5_24427,5_24428,5_24429,5_24430"}}}},[e("i",{staticClass:"el-icon-cherry"}),e("span",[t._v("五行石合成")])])],1),e("li",{staticClass:"qlink"},[e("a",{attrs:{target:"_blank",href:"/pvg/manufacture"}},[e("i",{staticClass:"el-icon-magic-stick"}),e("span",[t._v("技艺助手")])])]),e("li",{staticClass:"qlink"},[e("a",{attrs:{target:"_blank",href:"/pvg/price"}},[e("i",{staticClass:"el-icon-orange"}),e("span",[t._v("金价走势")])])]),e("li",{staticClass:"qlink"},[e("a",{attrs:{target:"_blank",href:"/pvg/item_price"}},[e("i",{staticClass:"el-icon-orange"}),e("span",[t._v("物价大全")])])])])])],2),e("WikiPanel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-notebook-1"}),e("span",[t._v("最新物品")])]),e("template",{slot:"body"},[e("div",{staticClass:"m-plan-list"},[t.new_plans&&t.new_plans.length?e("el-carousel",{attrs:{height:"86px",direction:"vertical","indicator-position":"none"}},t._l(t.new_plans,(function(a,s){return e("el-carousel-item",{key:s,staticClass:"m-carousel m-carousel-hot"},[e("el-row",{attrs:{gutter:20}},[t._l(a,(function(a,s){return[a?e("el-col",{key:s,attrs:{md:8}},[e("router-link",{staticClass:"u-item",class:"u-item-".concat(s),attrs:{to:"/view/"+a.id}},[e("div",{staticClass:"u-icon"},[e("img",{attrs:{src:t.icon_url(a.IconID)}})]),e("div",{staticClass:"u-content"},[e("span",{staticClass:"u-name"},[e("span",{domProps:{textContent:t._s(a.Name)}})]),e("game-text",{staticClass:"u-desc",attrs:{text:a.Desc?a.Desc:"该物品没有描述",client:t.client}})],1)])],1):t._e()]}))],2)],1)})),1):e("div",{staticStyle:{"text-align":"center"}},[t._v("😂 暂无物品清单")])],1)])],2),e("WikiPanel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-notebook-1"}),e("span",[t._v("最热物品")])]),e("template",{slot:"body"},[e("div",{staticClass:"m-plan-list"},[t.hot_plans&&t.hot_plans.length?e("el-carousel",{attrs:{height:"86px",direction:"vertical","indicator-position":"none"}},t._l(t.hot_plans,(function(a,s){return e("el-carousel-item",{key:s,staticClass:"m-carousel m-carousel-hot"},[e("el-row",{attrs:{gutter:20}},[t._l(a,(function(a,s){return[a?e("el-col",{key:s,attrs:{md:8}},[e("router-link",{staticClass:"u-item",class:"u-item-".concat(s),attrs:{to:"/view/"+a.id}},[e("div",{staticClass:"u-icon"},[e("img",{attrs:{src:t.icon_url(a.IconID)}})]),e("div",{staticClass:"u-content"},[e("span",{staticClass:"u-name"},[e("span",{domProps:{textContent:t._s(a.Name)}})]),e("game-text",{staticClass:"u-desc",attrs:{text:a.Desc?a.Desc:"该物品没有描述",client:t.client}})],1)])],1):t._e()]}))],2)],1)})),1):e("div",{staticStyle:{"text-align":"center"}},[t._v("😂 暂无物品清单")])],1)])],2),e("WikiPanel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-collection"}),e("span",[t._v("最新攻略")])]),e("template",{slot:"body"},[t.newest_posts.length?e("div",{staticClass:"wiki-post-list"},t._l(t.newest_posts,(function(a,s){return e("div",{key:s,staticClass:"wiki-post"},[e("div",{staticClass:"m-about-post"},[e("div",{staticClass:"m-wiki"},[e("div",{staticClass:"u-wiki"},[e("img",{staticClass:"u-icon",attrs:{src:t.icon_url(a.source_icon_id)},on:{"~error":function(e){e.target.src=t.icon_url()}}}),e("router-link",{staticClass:"u-name",attrs:{to:{name:"view",params:{item_id:a.source_id}},target:"_blank"}},[e("span",{domProps:{textContent:t._s(a.title)}})])],1),e("div",{staticClass:"u-level",domProps:{textContent:t._s("综合难度："+t.star(a.level))}}),a.remark?e("div",{staticClass:"u-remark",domProps:{textContent:t._s("📑 "+a.remark)}}):t._e()]),e("div",{staticClass:"m-user"},[e("div",{staticClass:"u-author"},[e("img",{staticClass:"u-icon",attrs:{src:t.showAvatar(a.user),alt:a.user_nickname}}),a.user_id?e("a",{staticClass:"u-name",attrs:{href:t._f("author_url")(a.user_id),target:"_blank"},domProps:{textContent:t._s(a.user_nickname)}}):e("span",{staticClass:"u-name"},[t._v(t._s(a.user_nickname))])]),e("div",{staticClass:"u-updated",domProps:{textContent:t._s(t.date_format(a.updated))}})])]),e("div",{staticClass:"m-excerpt"},[e("router-link",{staticClass:"u-excerpt",attrs:{to:{name:"view",params:{item_id:a.source_id}}}},[e("span",{domProps:{innerHTML:t._s(t.ellipsis(a.content))}})])],1)])})),0):e("div",{staticStyle:{"text-align":"center"}},[t._v("😂 暂无攻略")])])],2)],1)},i=[],n=(a("4de4"),a("d3b7"),a("d81d"),a("b0c0"),a("ac1f"),a("466d"),a("5319"),a("662c")),c=a("c547"),r=a("85e4"),o=a("9616"),l=a("65c2"),u=a("500d"),d=a("b78a"),p=a("8975"),_=a("cf45"),m=a("2ef0"),v=a("cbfa"),f={name:"Home",components:{WikiPanel:n["a"],GameText:c["a"],Counter:v["a"]},data:function(){return{newest_posts:[],new_plans:[],hot_plans:[],feedback:l["feedback"],plan_2_icon:l["__iconPath"]+"icon/2410.png",plan_1_icon:l["__iconPath"]+"icon/3089.png"}},computed:{client:function(){return this.$store.state.client}},methods:{icon_url:function(t){return Object(r["iconLink"])(t,this.client)},ellipsis:_["a"],date_format:p["date_format"],star:p["star"],showAvatar:function(t){var e=(null===t||void 0===t?void 0:t.user_avatar)||"";return Object(r["showAvatar"])(e)},showItemTrending:function(t){if(t.sub_days_0_price&&t.sub_days_1_price)return t.sub_days_0_price-t.sub_days_1_price>0?"▲":t.sub_days_0_price-t.sub_days_1_price<0?"▼":""},showItemTrendingClass:function(t){if(t.sub_days_0_price&&t.sub_days_1_price)return t.sub_days_0_price-t.sub_days_1_price>0?"up":t.sub_days_0_price-t.sub_days_1_price<0?"down":"keep"}},created:function(){var t=this;u["a"].latest({type:"item"}).then((function(e){var a,s;t.newest_posts=null!==(a=null===(s=e.data.data)||void 0===s?void 0:s.list)&&void 0!==a?a:[]}),(function(){t.newest_posts=[]})),Object(d["o"])({client:this.client}).then((function(e){t.new_plans=Object(m["chunk"])(e.data,3)})),Object(o["b"])("item","views",15).then((function(e){var a=e.data.map((function(t){var e,a;return(null===t||void 0===t||null===(e=t.name)||void 0===e?void 0:e.match(/item-(\d+_\d+)/))&&(null===(a=t.name)||void 0===a?void 0:a.replace(/item-(\d+_\d+)/,"$1"))})).filter((function(t){return t}));Object(d["k"])({ids:a,client:t.client,per:15}).then((function(e){var a;t.hot_plans=Object(m["chunk"])(null===(a=e.data)||void 0===a?void 0:a.list,3)}))})).catch((function(t){console.log(t)}))}},h=f,b=(a("a3ec"),a("2877")),g=Object(b["a"])(h,s,i,!1,null,null,null);e["default"]=g.exports},9622:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"c",(function(){return c})),a.d(e,"d",(function(){return r})),a.d(e,"b",(function(){return o})),a.d(e,"e",(function(){return l})),a.d(e,"f",(function(){return u}));var s=a("41cb"),i=Object(s["d"])();function n(t){return i.get("/quest/category",{params:t})}function c(t){return i.get("/quest/",{params:t})}function r(t){return i.get("/quests",{params:t})}function o(t){return i.get("/quests/newest",{params:t})}function l(t){return t=Object.assign(t,{type:"quest"}),Object(s["b"])().get("/api/wiki/posts/waiting",{params:t})}function u(t){return t=Object.assign(t,{type:"quest"}),Object(s["b"])().get("/api/wiki/posts/counter",{params:t})}},a3ec:function(t,e,a){"use strict";a("d737")},c8d2:function(t,e,a){"use strict";var s=a("5e77").PROPER,i=a("d039"),n=a("5899"),c="​᠎";t.exports=function(t){return i((function(){return!!n[t]()||c[t]()!==c||s&&n[t].name!==t}))}},cbfa:function(t,e,a){"use strict";a("b0c0"),a("b680");var s=function(){var t=this,e=t._self._c;return e("router-link",{attrs:{to:{name:"waiting"}}},[e("i",{staticClass:"el-icon-edit-outline"}),e("span",[t._v("待攻略"+t._s(t.name))]),e("span",{staticClass:"u-waiting",style:t.waitingColorStyle()},[t._v("（"+t._s(t.solveRate.toFixed(2))+"%）")])])},i=[],n=a("c7eb"),c=a("1da1"),r=a("500d"),o=a("9622"),l={name:"WikiCounter",props:{type:{type:String,default:"achievement"}},data:function(){return{solveRate:0}},computed:{name:function(){var t="成就";return"item"===this.type&&(t="物品"),"quest"===this.type&&(t="任务"),t}},methods:{waitingColorStyle:function(){return this.solveRate>95?"color: #8dfa58":this.solveRate>60?"color: #e2d849":"color: #ff3838"},getWaiting:function(){var t=this;return Object(c["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(o["f"])({client:t.client}).then((function(e){var a,s=null!==(a=e.data.data)&&void 0!==a?a:{},i=s.wiki_count,n=s.source_count;t.solveRate=i/n*100}));case 1:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;"quest"===this.type?this.getWaiting():r["a"].counter({type:this.type}).then((function(e){var a,s=null!==(a=e.data.data)&&void 0!==a?a:{},i=s.wiki_count,n=s.source_count;t.solveRate=i/n*100}))}},u=l,d=a("2877"),p=Object(d["a"])(u,s,i,!1,null,null,null);e["a"]=p.exports},cf45:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("ac1f"),a("5319"),a("498a"),a("fb6a");var s=function(t){return t=t?t.trim().replace(/<[^>]*>/g,""):"",t.length>100?t.slice(0,100)+"...":t}},d737:function(t,e,a){}}]);
//# sourceMappingURL=chunk-8fcf811a.9693cc96.js.map