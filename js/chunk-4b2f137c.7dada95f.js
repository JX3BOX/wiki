(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b2f137c"],{5033:function(o,f,e){"use strict";e.d(f,"a",(function(){return a})),e.d(f,"e",(function(){return n})),e.d(f,"c",(function(){return i})),e.d(f,"d",(function(){return s})),e.d(f,"b",(function(){return d}));var c=e("5530"),r=e("b85c"),l=(e("99af"),e("d81d"),e("14d9"),e("b0c0"),e("e9f5"),e("ab43"),e("d3b7"),e("ac1f"),e("5319"),e("01ea")),t=e("70e3"),a=function(o){var f,e,l,t={},a=function(o,f){t[o]||(t[o]=[]),t[o].push(f)};if(o.start.guides.length>0){var n,i=o.start,s={Types:"Start",ObjectName:i.name,ObjectID:i.id,ObjectType:i.type},d=Object(r["a"])(i.guides);try{for(d.s();!(n=d.n()).done;){var u=n.value;if(u.coordinates){var p,b=Object(r["a"])(u.coordinates);try{for(b.s();!(p=b.n()).done;){var m=p.value;a(u.map,Object(c["a"])(Object(c["a"])({},s),{},{Coordinates:m}))}}catch(oo){b.e(oo)}finally{b.f()}}else u.coordinate&&a(u.map,Object(c["a"])(Object(c["a"])({},s),{},{Coordinates:u.coordinate}))}}catch(oo){d.e(oo)}finally{d.f()}}if(o.end.guides.length>0){var v,y=o.end,h={Types:"End",ObjectName:y.name,ObjectID:y.id,ObjectType:y.type},g=Object(r["a"])(y.guides);try{for(g.s();!(v=g.n()).done;){var O=v.value;if(O.coordinates){var j,_=Object(r["a"])(O.coordinates);try{for(_.s();!(j=_.n()).done;){var C=j.value;a(O.map,Object(c["a"])(Object(c["a"])({},h),{},{Coordinates:C}))}}catch(oo){_.e(oo)}finally{_.f()}}else O.coordinate&&a(O.map,Object(c["a"])(Object(c["a"])({},h),{},{Coordinates:O.coordinate}))}}catch(oo){g.e(oo)}finally{g.f()}}if((null===(f=o.questValues)||void 0===f?void 0:f.length)>0)for(var k in o.questValues){var N,w=o.questValues[k];if((null===(N=w.guides)||void 0===N?void 0:N.length)>0){var I,x=Object(r["a"])(w.guides);try{for(x.s();!(I=x.n()).done;){var S=I.value,T={Types:"State".concat(parseInt(k)+1),ObjectName:S.name,ObjectID:S.id,ObjectType:S.type};if(S.coordinates){var E,L=Object(r["a"])(S.coordinates);try{for(L.s();!(E=L.n()).done;){var q=E.value;a(S.map,Object(c["a"])(Object(c["a"])({},T),{},{Coordinates:q}))}}catch(oo){L.e(oo)}finally{L.f()}}else S.coordinate&&a(S.map,Object(c["a"])(Object(c["a"])({},T),{},{Coordinates:S.coordinate}))}}catch(oo){x.e(oo)}finally{x.f()}}}if((null===(e=o.needItems)||void 0===e?void 0:e.length)>0)for(var D in o.needItems){var B,A=o.needItems[D];if((null===(B=A.guides)||void 0===B?void 0:B.length)>0){var P,V=Object(r["a"])(A.guides);try{for(V.s();!(P=V.n()).done;){var $=P.value,Q={Types:"NeedItem".concat(parseInt(D)+1),ObjectName:$.name,ObjectID:$.id,ObjectType:$.type};if($.coordinates){var R,M=Object(r["a"])($.coordinates);try{for(M.s();!(R=M.n()).done;){var G=R.value;a($.map,Object(c["a"])(Object(c["a"])({},Q),{},{Coordinates:G}))}}catch(oo){M.e(oo)}finally{M.f()}}else $.coordinate&&a($.map,Object(c["a"])(Object(c["a"])({},Q),{},{Coordinates:$.coordinate}))}}catch(oo){V.e(oo)}finally{V.f()}}}if((null===(l=o.killNpcs)||void 0===l?void 0:l.length)>0)for(var z in o.killNpcs){var W,F=o.killNpcs[z];if((null===(W=F.guides)||void 0===W?void 0:W.length)>0){var H,J=Object(r["a"])(F.guides);try{for(J.s();!(H=J.n()).done;){var Y=H.value,U={Types:"KillNpc".concat(parseInt(z)+1),ObjectName:Y.name,ObjectID:Y.id,ObjectType:Y.type};if(Y.coordinates){var K,X=Object(r["a"])(Y.coordinates);try{for(X.s();!(K=X.n()).done;){var Z=K.value;a(Y.map,Object(c["a"])(Object(c["a"])({},U),{},{Coordinates:Z}))}}catch(oo){X.e(oo)}finally{X.f()}}else Y.coordinate&&a(Y.map,Object(c["a"])(Object(c["a"])({},U),{},{Coordinates:Y.coordinate}))}}catch(oo){J.e(oo)}finally{J.f()}}}return t},n=function(o){var f={"万灵山庄":"万灵","北天药宗":"药宗","凌雪阁":"凌雪","衍天宗":"衍天"};return f[o]&&(o=f[o]),"".concat(l["e"],"/image/school/").concat(o,".png")},i=function(o){var f=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=d(),c=e.playerName,r=e.playerBody;if(o){var l=o.replace(/\\n/g,"\n").replace(/\<G\>/g,"&emsp;&emsp;").replace(/\<N\>/g,c).replace(/\<C\>/g,r).replace(/\<CMD NPC_NAME (.+?)\>/g,'<strong class="u-dialog-name">$1</strong><br /><div class="u-dialog-desc">').replace(/\<CMD PLAYER_NAME >/g,'<strong class="u-dialog-name">'.concat(c,'</strong><br /></div class="u-dialog-desc">')).replace(/\<H(\d+)\>/g,'<div style="height: calc($1px - 1.5rem)"></div></div>');while(1){var a=/\<F(\d+) (.+?)\>/.exec(l);if(!a)break;var n=t[a[1]],i='style="color: '.concat(n.color,'99"');l=l.replace(a[0],"<span ".concat(f?"":i,">").concat(a[2],"</span>"))}return l}return""},s=function(o){return o?o.replace(/\\n/g,"\n").replace(/\<G\>/g,"&emsp;&emsp;").replace(/\<C\>/g,"侠士").replace(/\<N\>/g,"侠士").replace(/\<F\d+ (.+?)\>/g,"$1"):""},d=function(){var o=localStorage.getItem("QuestWiki:playerName")||"侠士",f=localStorage.getItem("QuestWiki:playerBody")||"少侠";return{playerName:o,playerBody:f}}},"6acb":function(o,f,e){"use strict";e("a5b8")},"70e3":function(o){o.exports=JSON.parse('{"0":{"color":"#ffffff"},"1":{"color":"#000000"},"2":{"color":"#ffffff"},"3":{"color":"#ffffff"},"4":{"color":"#282828"},"5":{"color":"#ffffff"},"6":{"color":"#000000"},"7":{"color":"#ffffff"},"8":{"color":"#ffff00"},"9":{"color":"#ffffff"},"10":{"color":"#ffffff"},"11":{"color":"#ffff00"},"12":{"color":"#ff7e7e"},"13":{"color":"#ffffff"},"14":{"color":"#ffff00"},"15":{"color":"#ffffff"},"16":{"color":"#ffff00"},"17":{"color":"#ff7e7e"},"18":{"color":"#ffffff"},"19":{"color":"#a3b06a"},"20":{"color":"#ff0000"},"21":{"color":"#00c848"},"22":{"color":"#ffffff"},"23":{"color":"#ffff00"},"24":{"color":"#ff9600"},"25":{"color":"#adadad"},"26":{"color":"#ffffff"},"27":{"color":"#ffff00"},"28":{"color":"#ffffff"},"29":{"color":"#000000"},"30":{"color":"#adadad"},"31":{"color":"#ffff00"},"32":{"color":"#ff9600"},"33":{"color":"#ff0000"},"34":{"color":"#df12c9"},"35":{"color":"#007eff"},"36":{"color":"#00c848"},"37":{"color":"#ffffff"},"38":{"color":"#000000"},"39":{"color":"#a3b06a"},"40":{"color":"#ffffff"},"41":{"color":"#ffffff"},"42":{"color":"#ffffff"},"43":{"color":"#000000"},"44":{"color":"#ffffff"},"45":{"color":"#cfcfcf"},"46":{"color":"#969696"},"47":{"color":"#04d1b6"},"48":{"color":"#ffff00"},"49":{"color":"#fff78e"},"50":{"color":"#636363"},"51":{"color":"#ff7e7e"},"52":{"color":"#ff7e7e"},"53":{"color":"#ff7e7e"},"54":{"color":"#ff7e7e"},"55":{"color":"#ff7e7e"},"56":{"color":"#ff7e7e"},"57":{"color":"#ff7e7e"},"58":{"color":"#ff7e7e"},"59":{"color":"#ffff00"},"60":{"color":"#cfcfcf"},"61":{"color":"#adadad"},"62":{"color":"#969696"},"63":{"color":"#636363"},"64":{"color":"#ffffbb"},"65":{"color":"#ffff00"},"66":{"color":"#a3b06a"},"67":{"color":"#ffca7e"},"68":{"color":"#ff9600"},"69":{"color":"#a96300"},"70":{"color":"#ff7e7e"},"71":{"color":"#ff0000"},"72":{"color":"#a90000"},"73":{"color":"#ca7eff"},"74":{"color":"#df12c9"},"75":{"color":"#5e1ba0"},"76":{"color":"#7e7eff"},"77":{"color":"#007eff"},"78":{"color":"#0000a9"},"79":{"color":"#7ee3a3"},"80":{"color":"#00c848"},"81":{"color":"#00842f"},"82":{"color":"#e68c00"},"83":{"color":"#dc1e00"},"84":{"color":"#968c00"},"85":{"color":"#ff7e7e"},"86":{"color":"#ff7e7e"},"87":{"color":"#ff7e7e"},"88":{"color":"#ff7e7e"},"89":{"color":"#ff7e7e"},"90":{"color":"#ff7e7e"},"91":{"color":"#ff7e7e"},"92":{"color":"#ff7e7e"},"93":{"color":"#ff7e7e"},"94":{"color":"#ff7e7e"},"95":{"color":"#ff7e7e"},"96":{"color":"#ff7e7e"},"97":{"color":"#ff7e7e"},"98":{"color":"#ff7e7e"},"99":{"color":"#ffff00"},"100":{"color":"#ffff00"},"101":{"color":"#ff9600"},"102":{"color":"#ff0000"},"103":{"color":"#df12c9"},"104":{"color":"#007eff"},"105":{"color":"#00c848"},"106":{"color":"#ffffff"},"107":{"color":"#cfcfcf"},"108":{"color":"#adadad"},"109":{"color":"#969696"},"110":{"color":"#636363"},"111":{"color":"#ff7e7e"},"112":{"color":"#ca7eff"},"113":{"color":"#7e7eff"},"114":{"color":"#ff7e7e"},"115":{"color":"#ff7e7e"},"116":{"color":"#ff7e7e"},"117":{"color":"#ff7e7e"},"118":{"color":"#ff7e7e"},"119":{"color":"#ff7e7e"},"120":{"color":"#ff7e7e"},"121":{"color":"#ff7e7e"},"122":{"color":"#ff7e7e"},"123":{"color":"#ff7e7e"},"124":{"color":"#ff7e7e"},"125":{"color":"#ff7e7e"},"126":{"color":"#ff7e7e"},"127":{"color":"#ff7e7e"},"128":{"color":"#ff7e7e"},"129":{"color":"#ff7e7e"},"130":{"color":"#ff7e7e"},"131":{"color":"#cfcfcf"},"132":{"color":"#adadad"},"133":{"color":"#969696"},"134":{"color":"#636363"},"135":{"color":"#ffffff"},"136":{"color":"#ffff00"},"137":{"color":"#ff0000"},"138":{"color":"#00842f"},"139":{"color":"#7ee3a3"},"140":{"color":"#ff7e7e"},"141":{"color":"#ff7e7e"},"142":{"color":"#ff7e7e"},"143":{"color":"#ff7e7e"},"144":{"color":"#ff7e7e"},"145":{"color":"#ff7e7e"},"146":{"color":"#ff7e7e"},"147":{"color":"#ff7e7e"},"148":{"color":"#ff7e7e"},"149":{"color":"#ff7e7e"},"150":{"color":"#ff7e7e"},"151":{"color":"#ff7e7e"},"152":{"color":"#ff7e7e"},"153":{"color":"#ff7e7e"},"154":{"color":"#ff7e7e"},"155":{"color":"#fff78e"},"156":{"color":"#000000"},"157":{"color":"#ffca7e"},"158":{"color":"#a96300"},"159":{"color":"#ff0000"},"160":{"color":"#000000"},"161":{"color":"#adadad"},"162":{"color":"#ffffff"},"163":{"color":"#ffff00"},"164":{"color":"#ff9600"},"165":{"color":"#00c848"},"166":{"color":"#ff0000"},"167":{"color":"#00c848"},"168":{"color":"#ff9600"},"169":{"color":"#adadad"},"170":{"color":"#606000"},"171":{"color":"#1e366c"},"172":{"color":"#8b2e1c"},"173":{"color":"#105830"},"174":{"color":"#45544b"},"175":{"color":"#ffffff"},"176":{"color":"#7ee3a3"},"177":{"color":"#ffffbb"},"178":{"color":"#ff7e7e"},"179":{"color":"#ff7e7e"},"180":{"color":"#000000"},"181":{"color":"#5e1ba0"},"182":{"color":"#ffffbb"},"183":{"color":"#1e68fe"},"184":{"color":"#ef370c"},"185":{"color":"#ffffbb"},"186":{"color":"#4cdf15"},"187":{"color":"#ffff00"},"188":{"color":"#ffff00"},"189":{"color":"#cfcfcf"},"190":{"color":"#ffffff"},"191":{"color":"#000000"},"192":{"color":"#7ee3a3"},"193":{"color":"#7e7eff"},"194":{"color":"#7ee3a3"},"195":{"color":"#ca7eff"},"196":{"color":"#ff0012"},"197":{"color":"#ffffff"},"198":{"color":"#4fff6c"},"199":{"color":"#ff0012"},"200":{"color":"#ffff00"},"201":{"color":"#ffff00"},"202":{"color":"#33f3ff"},"203":{"color":"#ffffff"},"204":{"color":"#ffff00"},"205":{"color":"#33f3ff"},"206":{"color":"#30bdd6"},"207":{"color":"#ffffff"},"208":{"color":"#ef370c"},"209":{},"210":{"color":"#ffffff"},"211":{"color":"#ffffff"},"212":{"color":"#ffffff"},"213":{"color":"#ffffff"},"214":{"color":"#ffffff"},"215":{"color":"#cfcfcf"},"216":{"color":"#ffffff"},"217":{"color":"#ff0000"},"218":{"color":"#969696"},"219":{"color":"#ff0000"},"220":{"color":"#adadad"},"221":{"color":"#cfcfcf"},"222":{"color":"#00c848"},"223":{"color":"#cfcfcf"},"224":{"color":"#fbeab7"},"225":{"color":"#000000"},"226":{"color":"#00c848"},"227":{"color":"#ffffff"},"228":{"color":"#ffffff"},"229":{"color":"#4cdf15"},"230":{"color":"#ffffff"},"231":{"color":"#ffffff"},"232":{"color":"#ffffff"},"233":{"color":"#ffffff"},"234":{"color":"#ffffff"},"235":{"color":"#ef370c"},"236":{"color":"#ffff00"},"237":{"color":"#ff9600"},"238":{"color":"#ffffff"},"239":{"color":"#ffffbb"},"240":{"color":"#a96300"},"241":{"color":"#ffff00"},"242":{"color":"#453d2a"},"243":{"color":"#bafbdf"},"244":{"color":"#ffffff"},"245":{"color":"#ffffff"},"246":{"color":"#bafbdf"},"247":{"color":"#ffffff"},"248":{"color":"#ffffff"},"249":{"color":"#bafbdf"},"250":{"color":"#ffffff"},"251":{"color":"#ffde00"},"252":{"color":"#33f3ff"},"253":{"color":"#33f3ff"},"254":{"color":"#ffffff"},"255":{"color":"#bafbdf"},"256":{"color":"#ff9600"},"257":{"color":"#ffffff"},"258":{"color":"#ffff00"},"259":{"color":"#ffffff"},"260":{"color":"#000000"},"261":{"color":"#cfcfcf"},"262":{"color":"#33f3ff"},"263":{"color":"#ffffff"},"264":{"color":"#ffffff"},"265":{"color":"#96cedf"},"266":{"color":"#ffca7e"},"267":{"color":"#fab07e"},"268":{"color":"#e8c368"},"269":{"color":"#000000"},"270":{"color":"#ff0000"},"271":{"color":"#ffde00"},"272":{"color":"#ffffff"},"273":{"color":"#ffffff"},"274":{"color":"#fbeab7"},"275":{"color":"#fbeab7"},"276":{"color":"#ffffff"},"277":{"color":"#99452b"},"278":{"color":"#ca7eff"},"279":{"color":"#ff7e7e"},"280":{"color":"#ffde00"},"281":{"color":"#30bdd6"},"282":{"color":"#7ee3a3"},"283":{"color":"#cfcfcf"},"284":{"color":"#0b0b0b"},"285":{"color":"#007eff"},"286":{"color":"#df11c9"},"287":{"color":"#00c848"},"288":{"color":"#000000"},"289":{"color":"#ffff00"},"290":{"color":"#3e281b"},"291":{"color":"#3e281b"},"292":{"color":"#ffffff"},"293":{"color":"#8b2e1c"},"294":{"color":"#e68c00"},"295":{"color":"#e68c00"},"296":{"color":"#282828"},"297":{"color":"#493c23"},"298":{"color":"#493c23"},"299":{"color":"#8b2e1c"},"300":{"color":"#ffffff"},"301":{"color":"#ffffff"},"302":{"color":"#46332b"},"303":{"color":"#ffffff"},"304":{"color":"#ffffff"},"305":{"color":"#ca7eff"},"306":{"color":"#ffff00"},"307":{"color":"#a96300"},"308":{"color":"#ff0000"},"309":{"color":"#105830"},"310":{"color":"#ffffff"},"311":{"color":"#fbeab7"},"312":{"color":"#282828"},"313":{"color":"#636363"},"314":{"color":"#46332b"},"315":{"color":"#ffff00"},"316":{"color":"#00c848"},"317":{"color":"#ff0000"},"318":{"color":"#ff9600"},"319":{"color":"#adadad"},"320":{"color":"#ff7e7e"},"321":{"color":"#ffca7e"},"322":{"color":"#92de5f"},"323":{"color":"#007eff"},"324":{"color":"#ffffff"},"325":{"color":"#e68c00"},"326":{"color":"#000000"},"327":{"color":"#ffffff"},"328":{"color":"#ffff00"},"329":{"color":"#ffffff"},"330":{"color":"#ffff00"},"331":{"color":"#ffffff"},"332":{"color":"#ffffff"},"333":{"color":"#adadad"},"334":{"color":"#ffff00"},"335":{"color":"#ff9600"},"336":{"color":"#ffffff"},"337":{"color":"#a90000"},"338":{"color":"#a90000"},"339":{"color":"#ffffff"},"340":{"color":"#a90000"},"341":{"color":"#453d2a"},"342":{"color":"#fbeab7"},"343":{"color":"#ffffff"},"344":{"color":"#ffffff"},"345":{"color":"#776859"},"346":{"color":"#735c3c"},"347":{"color":"#735c3c"},"348":{"color":"#615044"},"349":{"color":"#46332b"},"350":{"color":"#513301"},"351":{"color":"#ece4cc"},"352":{"color":"#776859"},"353":{"color":"#fef9e7"},"354":{"color":"#513301"},"355":{"color":"#735c3c"},"356":{"color":"#735c3c"},"357":{"color":"#513301"},"358":{"color":"#92bcb4"},"359":{"color":"#6fa497"},"360":{"color":"#bce5db"},"361":{"color":"#e3d7c7"},"362":{"color":"#ffffff"},"363":{"color":"#95b9ba"},"364":{"color":"#a9a7a3"},"365":{"color":"#00c848"},"366":{"color":"#ff9600"},"367":{"color":"#df12c9"},"368":{"color":"#007eff"},"369":{"color":"#00c848"},"370":{"color":"#ff7e7e"},"371":{"color":"#ffffff"},"372":{"color":"#ffff00"},"373":{"color":"#3e281b"},"374":{"color":"#cfcfcf"},"375":{"color":"#ffffbb"}}')},"85f4":function(o){o.exports=JSON.parse('{"BIRTH":"新手村","SCHOOL":"门派","CITY":"主城","OLD_CITY":"老主城","VILLAGE":"野外","OLD_VILLAGE":"老野外","DUNGEON":"小队秘境","CAMP":"阵营","BATTLE_FIELD":"战场","RAID":"团队秘境","ARENA":"竞技场","OTHER":"其他","TONG":"帮会","TONG_BATTLE_FIELD":"帮会战场"}')},9622:function(o,f,e){"use strict";e.d(f,"e",(function(){return l})),e.d(f,"g",(function(){return t})),e.d(f,"d",(function(){return a})),e.d(f,"h",(function(){return n})),e.d(f,"f",(function(){return i})),e.d(f,"c",(function(){return s})),e.d(f,"b",(function(){return d})),e.d(f,"a",(function(){return u})),e.d(f,"i",(function(){return p}));e("99af");var c=e("41cb"),r=Object(c["d"])();function l(o){return r.get("/quest/",{params:o})}function t(o,f){return r.post("/quests",f,{params:o})}function a(o){return r.get("/quests/newest",{params:o})}function n(o){return o=Object.assign(o,{type:"quest"}),Object(c["a"])().get("/api/cms/wiki/post/waiting",{params:o})}function i(o){return r.get("/quest/maps",{params:o})}function s(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wiki_quest_ac";return Object(c["a"])().get("/api/cms/breadcrumb/".concat(o)).then((function(o){return o.data.data.html||""}))}function d(o,f){return Object(c["a"])().post("/api/cms/wiki/user-quest/".concat(o,"/").concat(f))}function u(o,f){return Object(c["a"])().delete("/api/cms/wiki/user-quest/".concat(o,"/").concat(f))}function p(o){return Object(c["a"])().get("/api/cms/wiki/user-quest/".concat(o))}},a5b8:function(o,f,e){},aacc:function(o,f,e){"use strict";e("c28c")},b85c:function(o,f,e){"use strict";e.d(f,"a",(function(){return r}));e("a4d3"),e("e01a"),e("d28b"),e("d9e2"),e("d3b7"),e("3ca3"),e("ddb0");var c=e("06c5");function r(o,f){var e="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!e){if(Array.isArray(o)||(e=Object(c["a"])(o))||f&&o&&"number"==typeof o.length){e&&(o=e);var r=0,l=function(){};return{s:l,n:function(){return r>=o.length?{done:!0}:{done:!1,value:o[r++]}},e:function(o){throw o},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,a=!0,n=!1;return{s:function(){e=e.call(o)},n:function(){var o=e.next();return a=o.done,o},e:function(o){n=!0,t=o},f:function(){try{a||null==e["return"]||e["return"]()}finally{if(n)throw t}}}}},c28c:function(o,f,e){},e17d:function(o,f,e){"use strict";e.r(f);e("ac1f"),e("841c");var c=function(){var o=this,f=o._self._c;return f("DefaultLayout",{attrs:{name:"任务百科",slug:"quest",root:"/quest","without-right":"",publishEnable:!0,feedbackEnable:!0,crumbEnable:!1},scopedSlots:o._u([{key:"left",fn:function(){return[f("CommonNav",[f("QuestNav")],1)]},proxy:!0}])},[f("div",{staticClass:"m-search-wrap"},[f("Search",{attrs:{placeholder:o.placeholder},on:{search:o.search}},[f("div",[f("el-tooltip",{attrs:{content:"查看任务链需要键入完整任务名或任务ID哦",placement:"top"}},[f("el-checkbox",{model:{value:o.chain,callback:function(f){o.chain=f},expression:"chain"}},[o._v("查看任务链")])],1),f("el-tooltip",{staticClass:"u-tips",attrs:{effect:"dark",placement:"bottom"}},[f("div",{attrs:{slot:"content"},slot:"content"},[f("span",[o._v("※ 支持任务名称精确或模糊搜索")]),o._v(" "),f("br"),f("span",[o._v("※ 支持任务相关物品名称精确搜索")]),o._v(" "),f("br"),f("span",[o._v("※ 支持成就名称精确搜索")]),o._v(" "),f("br")]),f("el-button",{attrs:{type:"text",icon:"el-icon-question"}})],1)],1)]),f("el-popover",{attrs:{"popper-class":"u-player-setting-popover",placement:"top",width:"160"},model:{value:o.settingVisible,callback:function(f){o.settingVisible=f},expression:"settingVisible"}},[f("el-input",{attrs:{placeholder:"称呼",size:"mini"},on:{input:o.handlePlayerInfoChange},scopedSlots:o._u([{key:"prepend",fn:function(){return[o._v("称呼")]},proxy:!0}]),model:{value:o.playerName,callback:function(f){o.playerName=f},expression:"playerName"}}),f("el-input",{attrs:{placeholder:"体型",size:"mini"},on:{input:o.handlePlayerInfoChange},scopedSlots:o._u([{key:"prepend",fn:function(){return[o._v("体型")]},proxy:!0}]),model:{value:o.playerBody,callback:function(f){o.playerBody=f},expression:"playerBody"}}),f("div",{staticStyle:{"text-align":"right",margin:"0"}},[f("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(f){o.settingVisible=!1}}},[o._v("确定")])],1),f("div",{staticClass:"u-player",attrs:{slot:"reference"},slot:"reference"},[f("span",{staticClass:"u-player-name"},[o._v(o._s(o.playerName))]),o._v("| "),f("span",{staticClass:"u-player-body"},[o._v(o._s(o.playerBody))]),f("el-button",{attrs:{type:"text",icon:"el-icon-setting"}})],1)],1)],1),f("router-view")],1)},r=[],l=(e("14d9"),e("9b18")),t=e("3a01"),a=(e("99af"),e("b0c0"),function(){var o=this,f=o._self._c;return f("nav",{staticClass:"m-nav"},[f("role-select",{on:{"list-loaded":o.onRolesLoaded},scopedSlots:o._u([{key:"tip",fn:function(){return[f("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"虚拟角色即为魔盒账号本身，可自定义进度",placement:"top"}},[f("a",{attrs:{href:"/tool/74559",target:"_blank"}},[f("i",{staticClass:"el-icon-warning-outline"})])])]},proxy:!0}]),model:{value:o.role,callback:function(f){o.role=f},expression:"role"}}),f("el-input",{staticClass:"u-keyword",attrs:{size:"small",placeholder:"输入关键字"},model:{value:o.keyword,callback:function(f){o.keyword=f},expression:"keyword"}}),o.role?f("div",{staticClass:"m-filters"},[f("el-checkbox",{attrs:{label:"只看未完成",border:"",size:"mini"},model:{value:o.uncompleted,callback:function(f){o.uncompleted=f},expression:"uncompleted"}}),f("div",{staticClass:"u-total"},[f("b",{staticClass:"u-completed-num"},[o._v(o._s(o.uncompleted?o.total-o.completedNum:o.completedNum))]),f("span",{staticClass:"u-total-num"},[o._v(" / "+o._s(o.total))])])],1):o._e(),f("div",{staticClass:"m-menus-panel"},[f("el-tree",{ref:"tree",attrs:{data:o.maps,props:o.defaultProps,"filter-node-method":o.filterNode,"node-key":"id",indent:42},on:{"node-click":o.clickNode},scopedSlots:o._u([{key:"default",fn:function(e){var c=e.node,r=e.data;return[c.isLeaf?f("router-link",{staticClass:"el-tree-node__label",attrs:{to:o.menuLink(r,c)}},[f("span",{staticClass:"u-name",domProps:{textContent:o._s(r.name)}}),r.count?f("em",{staticClass:"u-count",domProps:{textContent:o._s("(".concat(o.uncompleted?r.count-r.completed:r.completed,"/").concat(r.count,")"))}}):o._e()]):f("span",{staticClass:"el-tree-node__label"},[f("span",{staticClass:"u-name",domProps:{textContent:o._s(r.name)}}),r.count?f("em",{staticClass:"u-count",domProps:{textContent:o._s("(".concat(o.uncompleted?r.count-r.completed:r.completed,"/").concat(r.count,")"))}}):o._e()])]}}])})],1)],1)}),n=[],i=e("5530"),s=(e("4de4"),e("7db0"),e("caad"),e("d81d"),e("13d5"),e("e9f5"),e("910d"),e("f665"),e("7d54"),e("ab43"),e("9485"),e("d3b7"),e("2532"),e("159b"),e("36ec")),d=e("9622"),u=e("85f4"),p=e("76ea"),b=e("2f62"),m={name:"Nav",components:{RoleSelect:s["a"]},data:function(){return{keyword:"",maps:[],questType:u,defaultProps:{children:"children",label:"name"},role:"",uncompleted:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(b["b"])({completed:function(o){return o.completedQuests}})),{},{client:function(){return this.$store.state.client},total:function(){return this.maps.reduce((function(o,f){return o+f.count}),0)},completedNum:function(){return this.completed.length}}),watch:{uncompleted:function(o){this.$store.commit("SET_STATE",{onlyNotCompleted:o})},keyword:function(o){this.$refs.tree.filter(o)},role:function(o){var f=this;this.$store.commit("SET_ROLE",o),Object(d["i"])(this.role.ID).then((function(o){var e,c=(null===(e=o.data)||void 0===e?void 0:e.data)||[];f.$store.commit("SET_COMPLETED_QUESTS",c),localStorage.setItem("quests_last_sync",f.role.jx3id)}))},completed:function(){this.updateNav()}},methods:{filterNode:function(o,f){return!o||-1!==f.name.indexOf(o)},menuLink:function(o,f){return{name:"result",query:o.id?{map_id:o.id}:{}}},updateNav:function(){var o=this;this.maps.forEach((function(f){var e=0;f.children&&(f.children.forEach((function(f){f.quests&&(f.completed=f.quests.filter((function(f){return o.completed.includes(f)})).length,e+=f.completed)})),f.completed=e)}))},loadMaps:function(){var o=this;Object(d["f"])({client:this.client}).then((function(f){var e,c=(null===(e=f.data)||void 0===e?void 0:e.data)||{},r=[];for(var l in c)if(u[l]){var t={id:l,name:u[l],children:c[l].filter((function(o){return o.count>0})).map((function(o){return Object(i["a"])(Object(i["a"])({},o),{},{completed:0})})),count:c[l].map((function(o){return o.count})).reduce((function(o,f){return o+f})),completed:0};t.count>0&&r.push(t)}o.maps=r}))},clickNode:function(o,f){window.innerWidth<1024&&f.isLeaf&&p["a"].$emit("toggleLeftSide",!1)},onRolesLoaded:function(o,f){var e=localStorage.getItem("quests_last_sync");this.role=e&&"0"!==e?o.find((function(o){return o.jx3id==e}))||"":f}},mounted:function(){this.loadMaps()}},v=m,y=(e("6acb"),e("2877")),h=Object(y["a"])(v,a,n,!1,null,null,null),g=h.exports,O=e("7575"),j=e("5033"),_={name:"Quest",components:{QuestNav:g,CommonNav:t["a"],DefaultLayout:O["a"],Search:l["a"]},data:function(){return{placeholder:"输入任务关键字（可包括中括号），「回车」进行搜索",chain:!1,settingVisible:!1,playerName:"侠士",playerBody:"少侠"}},methods:{search:function(o){this.$router.push({name:"result",query:{keyword:o,chain:this.chain}})},handlePlayerInfoChange:function(){localStorage.setItem("QuestWiki:playerName",this.playerName),localStorage.setItem("QuestWiki:playerBody",this.playerBody)}},mounted:function(){var o=Object(j["b"])(),f=o.playerName,e=o.playerBody;this.playerName=f,this.playerBody=e}},C=_,k=(e("aacc"),Object(y["a"])(C,c,r,!1,null,null,null));f["default"]=k.exports}}]);
//# sourceMappingURL=chunk-4b2f137c.7dada95f.js.map