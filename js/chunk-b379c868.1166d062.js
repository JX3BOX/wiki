(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b379c868"],{"18a0":function(e,t){!function(t,o){e.exports=o(t)}("object"===typeof window&&window,(function(e,t){var o,n,r,i,c,a,s,l,f,u,d,p,m,v,g,h,b,_,y,w,C,k;if(e)return e.jWeixin?e.jWeixin:(o={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},n=function(){var e,t={};for(e in o)t[o[e]]=e;return t}(),r=e.document,i=r.title,c=navigator.userAgent.toLowerCase(),p=navigator.platform.toLowerCase(),a=!(!p.match("mac")&&!p.match("win")),s=-1!=c.indexOf("wxdebugger"),l=-1!=c.indexOf("micromessenger"),f=-1!=c.indexOf("android"),u=-1!=c.indexOf("iphone")||-1!=c.indexOf("ipad"),d=(p=c.match(/micromessenger\/(\d+\.\d+\.\d+)/)||c.match(/micromessenger\/(\d+\.\d+)/))?p[1]:"",m={initStartTime:D(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},v={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:u?1:f?2:-1,clientVersion:d,url:encodeURIComponent(location.href)},g={},h={_completes:[]},b={state:0,data:{}},N((function(){m.initEndTime=D()})),_=!1,y=[],w={config:function(t){A("config",g=t);var n=!1!==g.check;N((function(){if(n)S(o.config,{verifyJsApiList:T(g.jsApiList),verifyOpenTagList:T(g.openTagList)},(h._complete=function(e){m.preVerifyEndTime=D(),b.state=1,b.data=e},h.success=function(e){v.isPreVerifyOk=0},h.fail=function(e){h._fail?h._fail(e):b.state=-1},(i=h._completes).push((function(){M()})),h.complete=function(e){for(var t=0,o=i.length;t<o;++t)i[t]();h._completes=[]},h)),m.preVerifyStartTime=D();else{b.state=1;for(var e=h._completes,t=0,r=e.length;t<r;++t)e[t]();h._completes=[]}var i})),w.invoke||(w.invoke=function(t,o,n){e.WeixinJSBridge&&WeixinJSBridge.invoke(t,I(o),n)},w.on=function(t,o){e.WeixinJSBridge&&WeixinJSBridge.on(t,o)})},ready:function(e){(0!=b.state||(h._completes.push(e),!l&&g.debug))&&e()},error:function(e){d<"6.0.2"||(-1==b.state?e(b.data):h._fail=e)},checkJsApi:function(e){S("checkJsApi",{jsApiList:T(e.jsApiList)},(e._complete=function(e){f&&(o=e.checkResult)&&(e.checkResult=JSON.parse(o));var t,o=e,r=o.checkResult;for(t in r){var i=n[t];i&&(r[i]=r[t],delete r[t])}},e))},onMenuShareTimeline:function(e){O(o.onMenuShareTimeline,{complete:function(){S("shareTimeline",{title:e.title||i,desc:e.title||i,img_url:e.imgUrl||"",link:e.link||location.href,type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareAppMessage:function(e){O(o.onMenuShareAppMessage,{complete:function(t){"favorite"===t.scene?S("sendAppMessage",{title:e.title||i,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""}):S("sendAppMessage",{title:e.title||i,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){O(o.onMenuShareQQ,{complete:function(){S("shareQQ",{title:e.title||i,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){O(o.onMenuShareWeibo,{complete:function(){S("shareWeiboApp",{title:e.title||i,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){O(o.onMenuShareQZone,{complete:function(){S("shareQZone",{title:e.title||i,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},updateTimelineShareData:function(e){S("updateTimelineShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl},e)},updateAppMessageShareData:function(e){S("updateAppMessageShareData",{title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl},e)},startRecord:function(e){S("startRecord",{},e)},stopRecord:function(e){S("stopRecord",{},e)},onVoiceRecordEnd:function(e){O("onVoiceRecordEnd",e)},playVoice:function(e){S("playVoice",{localId:e.localId},e)},pauseVoice:function(e){S("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){S("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){O("onVoicePlayEnd",e)},uploadVoice:function(e){S("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){S("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){S("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){S("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},(e._complete=function(e){if(f){var t=e.localIds;try{t&&(e.localIds=JSON.parse(t))}catch(e){}}},e))},getLocation:function(e){e=e||{},S(o.getLocation,{type:e.type||"wgs84"},(e._complete=function(e){delete e.type},e))},previewImage:function(e){S(o.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){S("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){S("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getLocalImgData:function(e){!1===_?(_=!0,S("getLocalImgData",{localId:e.localId},(e._complete=function(e){var t;_=!1,0<y.length&&(t=y.shift(),wx.getLocalImgData(t))},e))):y.push(e)},getNetworkType:function(e){S("getNetworkType",{},(e._complete=function(e){var t=e,o=(e=t.errMsg,t.errMsg="getNetworkType:ok",t.subtype);if(delete t.subtype,o)t.networkType=o;else{o=e.indexOf(":");var n=e.substring(o+1);switch(n){case"wifi":case"edge":case"wwan":t.networkType=n;break;default:t.errMsg="getNetworkType:fail"}}},e))},openLocation:function(e){S("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)},hideOptionMenu:function(e){S("hideOptionMenu",{},e)},showOptionMenu:function(e){S("showOptionMenu",{},e)},closeWindow:function(e){S("closeWindow",{},e=e||{})},hideMenuItems:function(e){S("hideMenuItems",{menuList:e.menuList},e)},showMenuItems:function(e){S("showMenuItems",{menuList:e.menuList},e)},hideAllNonBaseMenuItem:function(e){S("hideAllNonBaseMenuItem",{},e)},showAllNonBaseMenuItem:function(e){S("showAllNonBaseMenuItem",{},e)},scanQRCode:function(e){S("scanQRCode",{needResult:(e=e||{}).needResult||0,scanType:e.scanType||["qrCode","barCode"]},(e._complete=function(e){var t;u&&(t=e.resultStr)&&(t=JSON.parse(t),e.resultStr=t&&t.scan_code&&t.scan_code.scan_result)},e))},openAddress:function(e){S(o.openAddress,{},(e._complete=function(e){(e=e).postalCode=e.addressPostalCode,delete e.addressPostalCode,e.provinceName=e.proviceFirstStageName,delete e.proviceFirstStageName,e.cityName=e.addressCitySecondStageName,delete e.addressCitySecondStageName,e.countryName=e.addressCountiesThirdStageName,delete e.addressCountiesThirdStageName,e.detailInfo=e.addressDetailInfo,delete e.addressDetailInfo},e))},openProductSpecificView:function(e){S(o.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)},addCard:function(e){for(var t=e.cardList,n=[],r=0,i=t.length;r<i;++r){var c=t[r];c={card_id:c.cardId,card_ext:c.cardExt};n.push(c)}S(o.addCard,{card_list:n},(e._complete=function(e){if(t=e.card_list){for(var t,o=0,n=(t=JSON.parse(t)).length;o<n;++o){var r=t[o];r.cardId=r.card_id,r.cardExt=r.card_ext,r.isSuccess=!!r.is_succ,delete r.card_id,delete r.card_ext,delete r.is_succ}e.cardList=t,delete e.card_list}},e))},chooseCard:function(e){S("chooseCard",{app_id:g.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},(e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e))},openCard:function(e){for(var t=e.cardList,n=[],r=0,i=t.length;r<i;++r){var c=t[r];c={card_id:c.cardId,code:c.code};n.push(c)}S(o.openCard,{card_list:n},e)},consumeAndShareCard:function(e){S(o.consumeAndShareCard,{consumedCardId:e.cardId,consumedCode:e.code},e)},chooseWXPay:function(e){S(o.chooseWXPay,x(e),e),M({jsApiName:"chooseWXPay"})},openEnterpriseRedPacket:function(e){S(o.openEnterpriseRedPacket,x(e),e)},startSearchBeacons:function(e){S(o.startSearchBeacons,{ticket:e.ticket},e)},stopSearchBeacons:function(e){S(o.stopSearchBeacons,{},e)},onSearchBeacons:function(e){O(o.onSearchBeacons,e)},openEnterpriseChat:function(e){S("openEnterpriseChat",{useridlist:e.userIds,chatname:e.groupName},e)},launchMiniProgram:function(e){S("launchMiniProgram",{targetAppId:e.targetAppId,path:function(e){var t;if("string"==typeof e&&0<e.length)return t=e.split("?")[0],t+=".html",void 0!==(e=e.split("?")[1])?t+"?"+e:t}(e.path),envVersion:e.envVersion},e)},openBusinessView:function(e){S("openBusinessView",{businessType:e.businessType,queryString:e.queryString||"",envVersion:e.envVersion},(e._complete=function(e){if(f){var t=e.extraData;if(t)try{e.extraData=JSON.parse(t)}catch(t){e.extraData={}}}},e))},miniProgram:{navigateBack:function(e){e=e||{},N((function(){S("invokeMiniProgramAPI",{name:"navigateBack",arg:{delta:e.delta||1}},e)}))},navigateTo:function(e){N((function(){S("invokeMiniProgramAPI",{name:"navigateTo",arg:{url:e.url}},e)}))},redirectTo:function(e){N((function(){S("invokeMiniProgramAPI",{name:"redirectTo",arg:{url:e.url}},e)}))},switchTab:function(e){N((function(){S("invokeMiniProgramAPI",{name:"switchTab",arg:{url:e.url}},e)}))},reLaunch:function(e){N((function(){S("invokeMiniProgramAPI",{name:"reLaunch",arg:{url:e.url}},e)}))},postMessage:function(e){N((function(){S("invokeMiniProgramAPI",{name:"postMessage",arg:e.data||{}},e)}))},getEnv:function(t){N((function(){t({miniprogram:"miniprogram"===e.__wxjs_environment})}))}}},C=1,k={},r.addEventListener("error",(function(e){var t,o,n;f||(n=(t=e.target).tagName,o=t.src,"IMG"!=n&&"VIDEO"!=n&&"AUDIO"!=n&&"SOURCE"!=n)||-1!=o.indexOf("wxlocalresource://")&&(e.preventDefault(),e.stopPropagation(),(n=t["wx-id"])||(n=C++,t["wx-id"]=n),k[n]||(k[n]=!0,wx.ready((function(){wx.getLocalImgData({localId:o,success:function(e){t.src=e.localData}})}))))}),!0),r.addEventListener("load",(function(e){var t;f||(t=(e=e.target).tagName,e.src,"IMG"!=t&&"VIDEO"!=t&&"AUDIO"!=t&&"SOURCE"!=t)||(t=e["wx-id"])&&(k[t]=!1)}),!0),t&&(e.wx=e.jWeixin=w),w);function S(t,o,n){e.WeixinJSBridge?WeixinJSBridge.invoke(t,I(o),(function(e){j(t,e,n)})):A(t,n)}function O(t,o,n){e.WeixinJSBridge?WeixinJSBridge.on(t,(function(e){n&&n.trigger&&n.trigger(e),j(t,e,o)})):A(t,n||o)}function I(e){return(e=e||{}).appId=g.appId,e.verifyAppId=g.appId,e.verifySignType="sha1",e.verifyTimestamp=g.timestamp+"",e.verifyNonceStr=g.nonceStr,e.verifySignature=g.signature,e}function x(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||"SHA1"}}function j(e,t,o){"openEnterpriseChat"!=e&&"openBusinessView"!==e||(t.errCode=t.err_code),delete t.err_code,delete t.err_desc,delete t.err_detail;var r=t.errMsg;r||(r=t.err_msg,delete t.err_msg,r=function(e,t){var o,r=n[e];return r&&(e=r),r="ok",t&&(o=t.indexOf(":"),"access denied"!=(r=(r=(r=-1!=(r=-1!=(r="failed"==(r="confirm"==(r=t.substring(o+1))?"ok":r)?"fail":r).indexOf("failed_")?r.substring(7):r).indexOf("fail_")?r.substring(5):r).replace(/_/g," ")).toLowerCase())&&"no permission to execute"!=r||(r="permission denied"),""==(r="config"==e&&"function not exist"==r?"ok":r))&&(r="fail"),e+":"+r}(e,r),t.errMsg=r),(o=o||{})._complete&&(o._complete(t),delete o._complete),r=t.errMsg||"",g.debug&&!o.isInnerInvoke&&alert(JSON.stringify(t)),e=r.indexOf(":");switch(r.substring(e+1)){case"ok":o.success&&o.success(t);break;case"cancel":o.cancel&&o.cancel(t);break;default:o.fail&&o.fail(t)}o.complete&&o.complete(t)}function T(e){if(e){for(var t=0,n=e.length;t<n;++t){var r=e[t];r=o[r];r&&(e[t]=r)}return e}}function A(e,t){var o;!g.debug||t&&t.isInnerInvoke||((o=n[e])&&(e=o),t&&t._complete&&delete t._complete,console.log('"'+e+'",',t||""))}function M(e){var t;a||s||g.debug||d<"6.0.2"||v.systemType<0||(t=new Image,v.appId=g.appId,v.initTime=m.initEndTime-m.initStartTime,v.preVerifyTime=m.preVerifyEndTime-m.preVerifyStartTime,w.getNetworkType({isInnerInvoke:!0,success:function(o){v.networkType=o.networkType,o="https://open.weixin.qq.com/sdk/report?v="+v.version+"&o="+v.isPreVerifyOk+"&s="+v.systemType+"&c="+v.clientVersion+"&a="+v.appId+"&n="+v.networkType+"&i="+v.initTime+"&p="+v.preVerifyTime+"&u="+v.url+"&jsapi_name="+(e?e.jsApiName:""),t.src=o}}))}function D(){return(new Date).getTime()}function N(t){l&&(e.WeixinJSBridge?t():r.addEventListener&&r.addEventListener("WeixinJSBridgeReady",t,!1))}console.warn("can't use weixin-js-sdk in server side")}))},"1b3e":function(e,t,o){},"2bab":function(e,t,o){"use strict";o("6fb8")},"304b":function(e,t,o){"use strict";o("1b3e")},5033:function(e,t,o){"use strict";o.d(t,"a",(function(){return a})),o.d(t,"e",(function(){return s})),o.d(t,"c",(function(){return l})),o.d(t,"d",(function(){return f})),o.d(t,"b",(function(){return u}));var n=o("5530"),r=o("b85c"),i=(o("99af"),o("d81d"),o("14d9"),o("b0c0"),o("e9f5"),o("ab43"),o("d3b7"),o("ac1f"),o("5319"),o("01ea")),c=o("70e3"),a=function(e){var t,o,i,c={},a=function(e,t){c[e]||(c[e]=[]),c[e].push(t)};if(e.start.guides.length>0){var s,l=e.start,f={Types:"Start",ObjectName:l.name,ObjectID:l.id,ObjectType:l.type},u=Object(r["a"])(l.guides);try{for(u.s();!(s=u.n()).done;){var d=s.value;if(d.coordinates){var p,m=Object(r["a"])(d.coordinates);try{for(m.s();!(p=m.n()).done;){var v=p.value;a(d.map,Object(n["a"])(Object(n["a"])({},f),{},{Coordinates:v}))}}catch(ee){m.e(ee)}finally{m.f()}}else d.coordinate&&a(d.map,Object(n["a"])(Object(n["a"])({},f),{},{Coordinates:d.coordinate}))}}catch(ee){u.e(ee)}finally{u.f()}}if(e.end.guides.length>0){var g,h=e.end,b={Types:"End",ObjectName:h.name,ObjectID:h.id,ObjectType:h.type},_=Object(r["a"])(h.guides);try{for(_.s();!(g=_.n()).done;){var y=g.value;if(y.coordinates){var w,C=Object(r["a"])(y.coordinates);try{for(C.s();!(w=C.n()).done;){var k=w.value;a(y.map,Object(n["a"])(Object(n["a"])({},b),{},{Coordinates:k}))}}catch(ee){C.e(ee)}finally{C.f()}}else y.coordinate&&a(y.map,Object(n["a"])(Object(n["a"])({},b),{},{Coordinates:y.coordinate}))}}catch(ee){_.e(ee)}finally{_.f()}}if((null===(t=e.questValues)||void 0===t?void 0:t.length)>0)for(var S in e.questValues){var O,I=e.questValues[S];if((null===(O=I.guides)||void 0===O?void 0:O.length)>0){var x,j=Object(r["a"])(I.guides);try{for(j.s();!(x=j.n()).done;){var T=x.value,A={Types:"State".concat(parseInt(S)+1),ObjectName:T.name,ObjectID:T.id,ObjectType:T.type};if(T.coordinates){var M,D=Object(r["a"])(T.coordinates);try{for(D.s();!(M=D.n()).done;){var N=M.value;a(T.map,Object(n["a"])(Object(n["a"])({},A),{},{Coordinates:N}))}}catch(ee){D.e(ee)}finally{D.f()}}else T.coordinate&&a(T.map,Object(n["a"])(Object(n["a"])({},A),{},{Coordinates:T.coordinate}))}}catch(ee){j.e(ee)}finally{j.f()}}}if((null===(o=e.needItems)||void 0===o?void 0:o.length)>0)for(var P in e.needItems){var L,q=e.needItems[P];if((null===(L=q.guides)||void 0===L?void 0:L.length)>0){var V,B=Object(r["a"])(q.guides);try{for(B.s();!(V=B.n()).done;){var E=V.value,R={Types:"NeedItem".concat(parseInt(P)+1),ObjectName:E.name,ObjectID:E.id,ObjectType:E.type};if(E.coordinates){var F,J=Object(r["a"])(E.coordinates);try{for(J.s();!(F=J.n()).done;){var U=F.value;a(E.map,Object(n["a"])(Object(n["a"])({},R),{},{Coordinates:U}))}}catch(ee){J.e(ee)}finally{J.f()}}else E.coordinate&&a(E.map,Object(n["a"])(Object(n["a"])({},R),{},{Coordinates:E.coordinate}))}}catch(ee){B.e(ee)}finally{B.f()}}}if((null===(i=e.killNpcs)||void 0===i?void 0:i.length)>0)for(var Q in e.killNpcs){var H,W=e.killNpcs[Q];if((null===(H=W.guides)||void 0===H?void 0:H.length)>0){var z,X=Object(r["a"])(W.guides);try{for(X.s();!(z=X.n()).done;){var Y=z.value,Z={Types:"KillNpc".concat(parseInt(Q)+1),ObjectName:Y.name,ObjectID:Y.id,ObjectType:Y.type};if(Y.coordinates){var G,K=Object(r["a"])(Y.coordinates);try{for(K.s();!(G=K.n()).done;){var $=G.value;a(Y.map,Object(n["a"])(Object(n["a"])({},Z),{},{Coordinates:$}))}}catch(ee){K.e(ee)}finally{K.f()}}else Y.coordinate&&a(Y.map,Object(n["a"])(Object(n["a"])({},Z),{},{Coordinates:Y.coordinate}))}}catch(ee){X.e(ee)}finally{X.f()}}}return c},s=function(e){var t={"万灵山庄":"万灵","北天药宗":"药宗","凌雪阁":"凌雪","衍天宗":"衍天"};return t[e]&&(e=t[e]),"".concat(i["e"],"/image/school/").concat(e,".png")},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=u(),n=o.playerName,r=o.playerBody;if(e){var i=e.replace(/\\n/g,"\n").replace(/\<G\>/g,"&emsp;&emsp;").replace(/\<N\>/g,n).replace(/\<C\>/g,r).replace(/\<CMD NPC_NAME (.+?)\>/g,'<strong class="u-dialog-name">$1</strong><br /><div class="u-dialog-desc">').replace(/\<CMD PLAYER_NAME >/g,'<strong class="u-dialog-name">'.concat(n,'</strong><br /></div class="u-dialog-desc">')).replace(/\<H(\d+)\>/g,'<div style="height: calc($1px - 1.5rem)"></div></div>');while(1){var a=/\<F(\d+) (.+?)\>/.exec(i);if(!a)break;var s=c[a[1]],l='style="color: '.concat(s.color,'99"');i=i.replace(a[0],"<span ".concat(t?"":l,">").concat(a[2],"</span>"))}return i}return""},f=function(e){return e?e.replace(/\\n/g,"\n").replace(/\<G\>/g,"&emsp;&emsp;").replace(/\<C\>/g,"侠士").replace(/\<N\>/g,"侠士").replace(/\<F\d+ (.+?)\>/g,"$1"):""},u=function(){var e=localStorage.getItem("QuestWiki:playerName")||"侠士",t=localStorage.getItem("QuestWiki:playerBody")||"少侠";return{playerName:e,playerBody:t}}},"581d":function(e,t,o){"use strict";o.r(t);o("b0c0");var n=function(){var e,t,n,r,i,c,a,s,l,f,u,d,p,m,v,g,h,b,_,y,w,C,k,S,O,I,x,j,T,A,M,D,N,P,L,q,V,B,E,R,F,J,U,Q,H,W,z,X,Y,Z,G=this,K=G._self._c;return K("div",{staticClass:"c-var p-mobile-quest-detail"},[K("div",{staticClass:"m-page-container"},[K("fold-card",{staticClass:"m-quest-info",attrs:{title:G.sourceName,fixed:!0}},[K("div",{staticClass:"u-target"},[K("p",{domProps:{innerHTML:G._s(G.targetDesc)}}),(null===(e=G.source)||void 0===e||null===(t=e.killNpcs)||void 0===t?void 0:t.length)>0?G._l(null===(n=G.source)||void 0===n?void 0:n.killNpcs,(function(e,t){return K("div",{key:"kn"+t,staticClass:"u-target-sub"},[K("span",[G._v("击杀")]),K("span",[G._v(G._s(e.name))]),e.share?K("el-tooltip",{attrs:{content:"该目标可共享击杀",placement:"top"}},[K("img",{attrs:{src:o("e610"),alt:""}})]):G._e(),K("span",[G._v(" x "+G._s(e.amount))])],1)})):G._e(),(null===(r=G.source)||void 0===r||null===(i=r.needItems)||void 0===i?void 0:i.length)>0?G._l(G.source.needItems,(function(e,t){return K("div",{key:"ni"+t,staticClass:"u-target-sub"},[K("span",[G._v("收集")]),K("item-icon",{attrs:{item_id:e.id,has_title:!0,size:18}}),K("span",[G._v("x "+G._s(e.amount))])],1)})):G._e(),G._l((null===(c=G.source)||void 0===c?void 0:c.questValues)||[],(function(e,t){return K("div",{key:e+t,staticClass:"u-target-sub"},[K("span",[G._v(G._s(e.str)+" x "+G._s(e.value))])])}))],2),K("div",{staticClass:"u-pos"},[K("div",{staticClass:"u-pos-item"},[K("span",{staticClass:"u-label"},[G._v("任务起点：")]),"npc"===(null===(a=G.source)||void 0===a||null===(s=a.start)||void 0===s?void 0:s.type)?[K("span",{staticClass:"u-map"},[G._v(" "+G._s((null===(l=G.source)||void 0===l||null===(f=l.start)||void 0===f?void 0:f.mapName)||"未知地图")+" ")]),G._v(" - "),K("span",{staticClass:"u-npc"},[G._v(" "+G._s((null===(u=G.source)||void 0===u||null===(d=u.start)||void 0===d?void 0:d.name)||"未知NPC")+" ")]),K("span",{staticClass:"u-id"},[G._v("(ID: "+G._s(null===(p=G.source)||void 0===p||null===(m=p.start)||void 0===m?void 0:m.id)+")")])]:G._e(),"item"===(null===(v=G.source)||void 0===v||null===(g=v.start)||void 0===g?void 0:g.type)?[K("item-icon",{staticClass:"u-item",attrs:{size:18,item_id:null===(h=G.source)||void 0===h||null===(b=h.start)||void 0===b?void 0:b.id,has_title:""}}),K("span",{staticClass:"u-id"},[G._v("(ID: "+G._s(null===(_=G.source)||void 0===_||null===(y=_.start)||void 0===y?void 0:y.id)+")")])]:G._e()],2),K("div",{staticClass:"u-pos-item"},[K("span",{staticClass:"u-label"},[G._v("任务终点：")]),"npc"===(null===(w=G.source)||void 0===w||null===(C=w.start)||void 0===C?void 0:C.type)?[K("span",{staticClass:"u-map"},[G._v(" "+G._s((null===(k=G.source)||void 0===k||null===(S=k.start)||void 0===S?void 0:S.mapName)||"未知地图")+" ")]),G._v(" - "),K("span",{staticClass:"u-npc"},[G._v(" "+G._s((null===(O=G.source)||void 0===O||null===(I=O.start)||void 0===I?void 0:I.name)||"未知NPC")+" ")]),K("span",{staticClass:"u-id"},[G._v("(ID: "+G._s(null===(x=G.source)||void 0===x||null===(j=x.start)||void 0===j?void 0:j.id)+")")])]:G._e(),"item"===(null===(T=G.source)||void 0===T||null===(A=T.start)||void 0===A?void 0:A.type)?[K("item-icon",{staticClass:"u-item",attrs:{size:18,item_id:null===(M=G.source)||void 0===M||null===(D=M.start)||void 0===D?void 0:D.id,has_title:""}}),K("span",{staticClass:"u-id"},[G._v("(ID: "+G._s(null===(N=G.source)||void 0===N||null===(P=N.start)||void 0===P?void 0:P.id)+")")])]:G._e()],2)])]),K("button",{staticClass:"m-confirm",class:{complete:G.isCompleted},on:{click:G.toggleConfirmShow}},[G._v(" "+G._s(G.isCompleted?"设为未完成":"设为已完成")+" ")]),K("fold-card",{staticClass:"m-quest-info",attrs:{title:"任务描述"}},[K("p",{staticClass:"u-desc",domProps:{innerHTML:G._s(G.questDesc)}})]),K("fold-card",{attrs:{title:"任务文案"}},[K("div",{staticClass:"m-quest-dialog"},[null!==(L=G.source)&&void 0!==L&&null!==(q=L.desc)&&void 0!==q&&null!==(V=q.AcceptRpgID)&&void 0!==V&&null!==(B=V.dialogues)&&void 0!==B&&B.length?K("div",{staticClass:"u-dialog"},[K("p",{staticClass:"u-subtitle2"},[K("span",[G._v("接任务对话")])]),G._l(G.source.desc.AcceptRpgID.dialogues,(function(e,t){return K("p",{key:t,staticClass:"u-dialog-content",domProps:{innerHTML:G._s(G.questDescFormat(e[0]))}})}))],2):G._e(),null!==(E=G.source)&&void 0!==E&&null!==(R=E.desc)&&void 0!==R&&null!==(F=R.FinishRpgID)&&void 0!==F&&null!==(J=F.dialogues)&&void 0!==J&&J.length?K("div",{staticClass:"u-dialog"},[K("p",{staticClass:"u-subtitle2"},[K("span",[G._v("任务完成对话")])]),G._l(G.source.desc.FinishRpgID.dialogues,(function(e,t){return K("p",{key:t,staticClass:"u-dialog-content",domProps:{innerHTML:G._s(G.questDescFormat(e[0]))}})}))],2):G._e(),null!==(U=G.source)&&void 0!==U&&null!==(Q=U.desc)&&void 0!==Q&&Q.DunningDialogue?K("div",{staticClass:"u-dialog"},[K("p",{staticClass:"u-subtitle2"},[K("span",[G._v("任务进行中")])]),K("p",{staticClass:"u-dialog-content",domProps:{innerHTML:G._s(G.questDescFormat(G.source.desc.DunningDialogue))}})]):G._e(),null!==(H=G.source)&&void 0!==H&&null!==(W=H.desc)&&void 0!==W&&W.FinishedDialogue?K("div",{staticClass:"u-dialog"},[K("p",{staticClass:"u-subtitle2"},[K("span",[G._v("任务完成")])]),K("p",{staticClass:"u-dialog-content",domProps:{innerHTML:G._s(G.questDescFormat(G.source.desc.FinishedDialogue))}})]):G._e()])]),G.post_id?K("fold-card",{attrs:{title:"任务攻略"}},[K("div",{staticClass:"m-wiki"},[K("div",{staticClass:"m-wiki-header"},[K("div",{staticClass:"u-avatar-list"},G._l(G.authors,(function(e){return K("div",{key:e.user_id,staticClass:"u-avatar"},[K("img",{attrs:{src:G.showAvatar(e.user_avatar)}})])})),0),K("div",{staticClass:"u-time"},[G._v(" "+G._s(G.updated_at)+" ")])]),K("div",{staticClass:"m-content-box"},[K("Article",{attrs:{id:"wikiArticle",content:G.clearContent(null===(z=G.wiki_post)||void 0===z||null===(X=z.post)||void 0===X?void 0:X.content)}})],1)])]):G._e(),null!==(Y=G.source)&&void 0!==Y&&Y.chain?K("fold-card",{attrs:{title:"任务链"}},[K("quest-chain",{attrs:{data:null===(Z=G.source)||void 0===Z?void 0:Z.chain,current:G.id}})],1):G._e(),K("div",{staticClass:"m-comments"},[K("miniprogram-comment-list",{attrs:{"source-id":G.id,type:"quest"}})],1)],1),G.isFromTarget?G._e():K("suspend-common",{ref:"suspendCommon",staticClass:"u-suspend-common",staticStyle:{width:"100%"},attrs:{"btn-options":{showHome:!0,showIcon:!1,showMore:!0},"drawer-options":G.drawerOptions},on:{search:G.onSearch},scopedSlots:G._u([{key:"default",fn:function(){var e,t;return[K("div",{staticClass:"m-more-action"},[K("div",{staticClass:"u-action",on:{click:function(){return G.userSelectShow=!0}}},[K("svg",{attrs:{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[K("path",{attrs:{d:"M17.5 12a2.25 2.25 0 012.25 2.25V15c0 2.956-2.79 6-7.5 6s-7.5-3.044-7.5-6v-.75A2.25 2.25 0 017 12h10.5zm-5.25-9.75a4.125 4.125 0 110 8.25 4.125 4.125 0 010-8.25z",fill:"#FEDAA3"}})])]),K("div",{staticClass:"u-action",on:{click:function(){return G.$refs.suspendCommon.clickDrawer({type:"collect",text:"收藏"},1)}}},[null!==(e=G.$refs.suspendCommon)&&void 0!==e&&e.isCollect?K("svg",{staticClass:"icon",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[K("path",{attrs:{d:"M467.584 153.568c11.136-13.312 26.208-25.952 44.544-25.632 21.76-.064 38.016 16.992 50.272 33.056 23.968 32.576 42.336 68.768 62.368 103.808 10.112 17.472 18.944 35.776 30.944 52.096 8.48 11.616 22.08 17.824 35.712 21.056 41.6 10.4 83.744 18.528 125.152 29.792 21.6 6.304 44.192 12.64 61.952 27.136 15.04 12.096 20.992 33.408 15.552 51.776-6.752 23.456-22.208 42.976-36.832 62.048-23.584 29.536-48.576 57.92-72.992 86.784C662.688 473.28 540.384 351.904 418.88 229.664c15.072-26.048 29.408-52.8 48.704-76.096zm-261.696 10.688c2.624.128 7.872.32 10.464.448l-.384 2.816c9.92.928 18.688 6.432 25.568 13.376 39.424 39.488 78.976 78.848 118.304 118.4 45.024 42.464 87.808 87.232 131.904 130.656C577.6 515.808 663.36 601.728 749.312 687.488c38.24 40.672 78.656 79.232 117.76 119.04 9.824 10.336 22.208 19.36 27.2 33.216 3.552 14.464 1.76 31.328-9.568 42.016-14.528 17.792-44.448 19.168-60.544 2.816-18.272-17.984-36.544-36.032-54.336-54.496-.384 20.736-4.704 44.672-22.784 57.536-17.76 12.8-41.184 8.64-60.704 2.72-38.56-12.352-74.752-30.816-111.648-47.296-17.632-7.616-34.624-17.312-53.44-21.792-14.848-3.392-29.472 2.72-42.848 8.544-38.368 17.12-76.128 35.648-115.072 51.456C344.32 888.544 324.672 896 304 896.032c-15.68.16-31.328-7.968-39.296-21.632-10.368-17.44-10.88-38.528-11.072-58.304 1.088-50.336 7.936-100.288 11.968-150.432 1.088-14.304 1.504-29.568-5.568-42.56-8.832-16.032-21.952-29.024-33.472-43.072-26.752-31.968-55.168-62.752-78.816-97.184-12.576-18.88-24.896-42.016-17.568-65.248 6.176-20.832 26.688-32.352 45.664-39.648 36.256-13.536 74.496-20.544 112.032-29.536-35.2-34.912-70.08-70.144-105.248-105.12-7.616-7.424-14.272-16.544-15.264-27.424l-2.848.608.384-13.696 2.656.896c2.624-18.88 19.616-34.656 38.496-36.608l-.16-2.816z",fill:"#FEDAA3"}})]):K("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[K("path",{attrs:{d:"M10.288 4.836c.778-1.289 2.646-1.289 3.424 0l1.15 1.903a2 2 0 001.257.914l2.166.505c1.465.341 2.043 2.119 1.058 3.256l-1.455 1.681a2 2 0 00-.48 1.48l.188 2.215c.128 1.5-1.384 2.598-2.77 2.012l-2.049-.864a2 2 0 00-1.554 0l-2.049.864c-1.387.585-2.898-.513-2.77-2.012l.189-2.216a2 2 0 00-.48-1.479l-1.456-1.68c-.985-1.138-.407-2.916 1.058-3.257l2.166-.505a2 2 0 001.258-.914l1.149-1.903z",fill:"#FEDAA3",stroke:"#FEDAA3","stroke-width":"1.5"}})])]),K("div",{staticClass:"u-action",on:{click:function(){return G.$refs.suspendCommon.clickDrawer({type:"pin",text:"固定按钮"},1)}}},[null!==(t=G.$refs.suspendCommon)&&void 0!==t&&t.fixIsActive?K("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[K("path",{attrs:{d:"M15 4.5l-4 4L7 10l-1.5 1.5 7 7L14 17l1.5-4 4-4M9 15l-4.5 4.5M14.5 4L20 9.5",stroke:"#FEDAA3","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})]):K("svg",{staticClass:"icon",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[K("path",{attrs:{d:"M624.864 119.424c6.144-7.872 13.696-16.928 24.672-16.64 7.68-.736 14.24 3.808 19.2 9.184 81.984 82.304 164.32 164.192 246.08 246.688 7.776 5.92 7.456 16.416 6.016 25.088-2.304 7.488-9.152 11.968-14.848 16.736-58.272 49.504-116.512 99.072-174.784 148.544-4.48 4.416-10.912 5.44-16.768 6.912-5.696 40.8-13.376 81.28-18.08 122.208 6.528 16.32 5.28 34.368 8.16 51.488 1.984 8.864-1.728 17.792-7.84 24.128-24.608 23.552-47.776 48.544-72.544 71.936-8.96 9.056-24.864 6.912-32.96-2.272-51.136-51.008-101.92-102.368-153.056-153.312-71.616 70.784-142.272 142.624-213.632 213.664-11.424 11.008-21.44 24.384-35.968 31.424-14.144 4.8-31.008 4.512-43.84-3.776-10.336-7.616-19.36-18.144-21.76-31.072-3.808-16.288 2.208-33.984 14.592-45.056 77.344-78.144 155.424-155.616 232.768-233.728-56.736-56.032-112.64-113.024-169.216-169.248-8.128-9.088-7.648-26.016 2.368-33.632 24.416-24.672 48.992-49.12 73.44-73.696 3.808-3.424 9.056-4.16 13.984-4.096 18.112.192 36.064 2.944 53.984 5.408 41.824-4.8 83.744-8.992 125.408-15.264.608-6.048 2.624-11.904 6.528-16.64 49.44-58.24 98.848-116.544 148.096-174.976z",fill:"#D9D9D9"}})])])])]},proxy:!0}],null,!1,2717940665)}),K("user-select-drawer",{attrs:{visible:G.userSelectShow,"current-role":G.currentRole},on:{"update:visible":function(e){G.userSelectShow=e},change:G.setRole}}),K("confirm-ok-drawer",{attrs:{visible:G.conformShow,current:G.isCompleted},on:{"update:visible":function(e){G.conformShow=e},confirm:G.toggleCompleted}})],1)},r=[],i=o("c14f"),c=o("1da1"),a=o("5530"),s=(o("99af"),o("4de4"),o("caad"),o("d81d"),o("e9f5"),o("910d"),o("ab43"),o("a9e3"),o("d3b7"),o("ac1f"),o("2532"),o("5319"),o("5b81"),o("2f62")),l=o("c1cc"),f=o("06da"),u=o("3aef"),d=o("c404"),p=o("b29a"),m=o("b96b"),v=o("a974"),g=function(){var e=this,t=e._self._c;return t("div",{staticClass:"u-chain"},[e.showCurrent?t("div",{staticClass:"list"},e._l(e.display_data.current,(function(o,n){return t("div",{key:o.id,staticClass:"u-chain-name"},[void 0!==o.logic?t("span",e._l(o.quests,(function(n){return t("span",{key:n.id,class:{all:o.logic,one:!o.logic}},[e._v(" 「"),t("router-link",{staticClass:"u-chain-link",class:{current:e.current==n.id},attrs:{to:{name:"view",params:{quest_id:n.id}}}},[e._v(e._s(n.name))]),e._v("」 ")],1)})),0):t("span",[e._v(" 「"),t("router-link",{staticClass:"u-chain-link",class:{current:e.current==o.id},attrs:{to:{name:"view",params:{quest_id:o.id}}}},[e._v(e._s(o.name))]),e._v("」 ")],1),n!=e.display_data.current.length-1?t("span",[e._v(" > ")]):e._e()])})),0):e._e(),e.showBranch?t("div",{staticClass:"branch"},[t("div",{staticClass:"u-more-branch"},[e._v("任务分支")]),e._l(e.display_data.branch,(function(o){return t("span",{key:o.id,staticClass:"u-chain-name"},[e._v(" 「"),t("router-link",{staticClass:"u-chain-link",attrs:{to:{name:"view",params:{quest_id:o.id}}}},[e._v(e._s(o.name))]),e._v("」 ")],1)}))],2):e._e()])},h=[],b=o("2909"),_=(o("14d9"),o("2ca0"),{name:"QuestChain",props:{data:{type:Object},current:{type:Number}},computed:{display_data:function(){var e,t,o,n=this.data.current;null!==(e=n)&&void 0!==e&&null!==(t=e[0])&&void 0!==t&&null!==(o=t.id)&&void 0!==o&&o.startsWith("b_")&&(n[0].quests=n[0].quests.filter((function(e){return e.visible})),1==n[0].quests.length&&(n[0]=n[0].quests[0])),n=n.filter((function(e){return e.hasOwnProperty("logic")||e.visible}));var r,i=this.data.branch.filter((function(e){return e.visible}));i&&1==i.length&&((r=n).push.apply(r,Object(b["a"])(i)),i=[]);return{current:n,branch:i}},showBranch:function(){return this.display_data.branch.length>0},showCurrent:function(){return this.display_data.current.length>1}}}),y=_,w=(o("2bab"),o("2877")),C=Object(w["a"])(y,g,h,!1,null,"4f090607",null),k=C.exports,S=o("9622"),O=o("7720"),I=o("85e4"),x=o("5033"),j=o("500d"),T=o("9616"),A=o("c9d2"),M={name:"MobileQuestDetail",components:{FoldCard:m["a"],ItemIcon:p["a"],SuspendCommon:l["a"],UserSelectDrawer:f["a"],ConfirmOkDrawer:u["a"],MiniprogramCommentList:d["a"],QuestChain:k,Article:v["a"]},data:function(){return{loading:!0,source:"",wiki_post:"",userSelectShow:!1,conformShow:!1,confirmLoading:!1}},computed:Object(a["a"])(Object(a["a"])({},Object(s["b"])({onlyNotCompleted:function(e){return e.onlyNotCompleted},completedQuests:function(e){return e.completedQuests},currentRole:function(e){return e.currentRole},client:function(e){return e.client}})),{},{isCompleted:function(){return this.completedQuests.includes(Number(this.id))},targetDesc:function(){var e,t;return Object(x["d"])(null===(e=this.source)||void 0===e||null===(t=e.desc)||void 0===t?void 0:t.Objective).replaceAll("&emsp;","")},questDesc:function(){var e,t;return Object(x["c"])(null===(e=this.source)||void 0===e||null===(t=e.desc)||void 0===t?void 0:t.Description,!0).replace(/^&emsp;&emsp;\n/,"")},id:function(){return Number(this.$route.params.quest_id)},post_id:function(){var e,t;return(null===(e=this.wiki_post)||void 0===e||null===(t=e.post)||void 0===t?void 0:t.id)||void 0},author_id:function(){var e;return~~(null===(e=this.wiki_post.post)||void 0===e?void 0:e.user_id)},user_name:function(){var e,t;return null===(e=this.wiki_post)||void 0===e||null===(t=e.post)||void 0===t?void 0:t.user_nickname},user_avatar:function(){var e,t;return null===(e=this.wiki_post)||void 0===e||null===(t=e.post)||void 0===t?void 0:t.user_avatar},updated_at:function(){var e,t;return Object(I["t"])(null===(e=this.wiki_post)||void 0===e||null===(t=e.post)||void 0===t?void 0:t.updated)},authors:function(){var e,t,o;return(null===(e=this.wiki_post)||void 0===e||null===(t=e.users)||void 0===t||null===(o=t.filter((function(e){return e.id})))||void 0===o?void 0:o.map((function(e){return{user_id:e.id,user_avatar:e.avatar,display_name:e.nickname}})))||[]},sourceName:function(){var e,t,o;return(null===(e=this.source)||void 0===e||null===(t=e.desc)||void 0===t?void 0:t.QuestName)||(null===(o=this.source)||void 0===o?void 0:o.name)},isFromTarget:function(){return!1},drawerOptions:function(){return{hideType:["report"],direction:"btt",drawerTitle:this.sourceName,author:{name:this.user_name,avatar:this.user_avatar,author_id:this.author_id},subscribeType:"wiki",postType:"quest",id:this.post_id,title:this.sourceName||document.title||"",url:window.location.href,laterOn:{author_id:this.author_id||0,content_meta_id:this.post_id}}}}),methods:{showAvatar:I["r"],questDescFormat:function(e){return Object(x["c"])(e,!0)},questTargetDescFormat:x["d"],ts2str:I["t"],onSearch:function(){Object(O["a"])()?wx.miniProgram.navigateTo({url:"/pages/search/search-detail/search-detail?app=wiki&filter_category=成就"}):this.$message({message:"非小程序环境，不支持跳转搜索页",type:"warning"})},toggleConfirmShow:function(){this.conformShow=!0},toggleCompleted:function(){var e,t=this;this.confirmLoading=!0;var o=null===(e=this.currentRole)||void 0===e?void 0:e.ID,n=Number(this.id),r=this.isCompleted?Object(S["a"])(o,n):Object(S["b"])(o,n);r.then((function(){t.$store.commit(t.isCompleted?"REMOVE_COMPLETED_QUEST":"ADD_COMPLETED_QUEST",n)})).finally((function(){t.confirmLoading=!1}))},setRole:function(e){this.$store.commit("SET_ROLE",e),this.userSelectShow=!1},clearContent:function(e){return(e||"").replace(/ style="[^"]*"/g,"").replace(/<i?frame.*?src="(.*?)".*?>/g,(function(e,t){return'<a href="'.concat(t,'" target="_blank">').concat(t,"</a>")})).replace(/<i?frame.*?src="(.*?)".*?>.*?<\/i?frame>/g,(function(e,t){return'<a href="'.concat(t,'" target="_blank">').concat(t,"</a>")}))},loadInitData:function(){var e=this;return Object(c["a"])(Object(i["a"])().m((function t(){return Object(i["a"])().w((function(t){while(1)switch(t.n){case 0:if(e.id){t.n=1;break}return t.a(2);case 1:return e.loading=!0,t.n=2,Object(S["e"])({id:e.id,client:e.client}).then((function(t){e.source=t.data}));case 2:return t.n=3,j["a"].mix({type:"quest",id:e.id,client:e.client}).then((function(t){var o=t.post,n=t.source,r=t.compatible,i=t.isEmpty,c=t.users;e.wiki_post={post:o,source:n,users:c},e.is_empty=i,e.compatible=r,o&&A["a"].isLogin()&&Object(T["c"])({source_type:"origin"==e.client?"origin_quest":"quest",source_id:~~e.id,link:location.href,title:o.title})})).finally((function(){e.loading=!1}));case 3:e.triggerStat();case 4:return t.a(2)}}),t)})))()},triggerStat:function(){Object(T["d"])("origin"==this.client?"origin_quest":"quest",this.id)}},watch:{currentRole:{deep:!0,handler:function(e){var t=this;e&&Object(S["i"])(this.currentRole.ID).then((function(e){var o,n=(null===(o=e.data)||void 0===o?void 0:o.data)||[];t.$store.commit("SET_COMPLETED_QUESTS",n),localStorage.setItem("quests_last_sync",t.currentRole.jx3id)}))}},id:{immediate:!0,handler:function(e){e&&this.loadInitData()}}}},D=M,N=(o("9ace"),Object(w["a"])(D,n,r,!1,null,null,null));t["default"]=N.exports},"5b81":function(e,t,o){"use strict";var n=o("23e7"),r=o("c65b"),i=o("e330"),c=o("1d80"),a=o("1626"),s=o("861d"),l=o("44e7"),f=o("577e"),u=o("dc4a"),d=o("90d8"),p=o("0cb2"),m=o("b622"),v=o("c430"),g=m("replace"),h=TypeError,b=i("".indexOf),_=i("".replace),y=i("".slice),w=Math.max;n({target:"String",proto:!0},{replaceAll:function(e,t){var o,n,i,m,C,k,S,O,I,x,j=c(this),T=0,A="";if(s(e)){if(o=l(e),o&&(n=f(c(d(e))),!~b(n,"g")))throw new h("`.replaceAll` does not allow non-global regexes");if(i=u(e,g),i)return r(i,e,j,t);if(v&&o)return _(f(j),e,t)}m=f(j),C=f(e),k=a(t),k||(t=f(t)),S=C.length,O=w(1,S),I=b(m,C);while(-1!==I)x=k?f(t(C,I,m)):p(C,m,I,[],void 0,t),A+=y(m,T,I)+x,T=I+S,I=I+O>m.length?-1:b(m,C,I+O);return T<m.length&&(A+=y(m,T)),A}})},"65ed":function(e,t,o){},"6fb8":function(e,t,o){},"70e3":function(e){e.exports=JSON.parse('{"0":{"color":"#ffffff"},"1":{"color":"#000000"},"2":{"color":"#ffffff"},"3":{"color":"#ffffff"},"4":{"color":"#282828"},"5":{"color":"#ffffff"},"6":{"color":"#000000"},"7":{"color":"#ffffff"},"8":{"color":"#ffff00"},"9":{"color":"#ffffff"},"10":{"color":"#ffffff"},"11":{"color":"#ffff00"},"12":{"color":"#ff7e7e"},"13":{"color":"#ffffff"},"14":{"color":"#ffff00"},"15":{"color":"#ffffff"},"16":{"color":"#ffff00"},"17":{"color":"#ff7e7e"},"18":{"color":"#ffffff"},"19":{"color":"#a3b06a"},"20":{"color":"#ff0000"},"21":{"color":"#00c848"},"22":{"color":"#ffffff"},"23":{"color":"#ffff00"},"24":{"color":"#ff9600"},"25":{"color":"#adadad"},"26":{"color":"#ffffff"},"27":{"color":"#ffff00"},"28":{"color":"#ffffff"},"29":{"color":"#000000"},"30":{"color":"#adadad"},"31":{"color":"#ffff00"},"32":{"color":"#ff9600"},"33":{"color":"#ff0000"},"34":{"color":"#df12c9"},"35":{"color":"#007eff"},"36":{"color":"#00c848"},"37":{"color":"#ffffff"},"38":{"color":"#000000"},"39":{"color":"#a3b06a"},"40":{"color":"#ffffff"},"41":{"color":"#ffffff"},"42":{"color":"#ffffff"},"43":{"color":"#000000"},"44":{"color":"#ffffff"},"45":{"color":"#cfcfcf"},"46":{"color":"#969696"},"47":{"color":"#04d1b6"},"48":{"color":"#ffff00"},"49":{"color":"#fff78e"},"50":{"color":"#636363"},"51":{"color":"#ff7e7e"},"52":{"color":"#ff7e7e"},"53":{"color":"#ff7e7e"},"54":{"color":"#ff7e7e"},"55":{"color":"#ff7e7e"},"56":{"color":"#ff7e7e"},"57":{"color":"#ff7e7e"},"58":{"color":"#ff7e7e"},"59":{"color":"#ffff00"},"60":{"color":"#cfcfcf"},"61":{"color":"#adadad"},"62":{"color":"#969696"},"63":{"color":"#636363"},"64":{"color":"#ffffbb"},"65":{"color":"#ffff00"},"66":{"color":"#a3b06a"},"67":{"color":"#ffca7e"},"68":{"color":"#ff9600"},"69":{"color":"#a96300"},"70":{"color":"#ff7e7e"},"71":{"color":"#ff0000"},"72":{"color":"#a90000"},"73":{"color":"#ca7eff"},"74":{"color":"#df12c9"},"75":{"color":"#5e1ba0"},"76":{"color":"#7e7eff"},"77":{"color":"#007eff"},"78":{"color":"#0000a9"},"79":{"color":"#7ee3a3"},"80":{"color":"#00c848"},"81":{"color":"#00842f"},"82":{"color":"#e68c00"},"83":{"color":"#dc1e00"},"84":{"color":"#968c00"},"85":{"color":"#ff7e7e"},"86":{"color":"#ff7e7e"},"87":{"color":"#ff7e7e"},"88":{"color":"#ff7e7e"},"89":{"color":"#ff7e7e"},"90":{"color":"#ff7e7e"},"91":{"color":"#ff7e7e"},"92":{"color":"#ff7e7e"},"93":{"color":"#ff7e7e"},"94":{"color":"#ff7e7e"},"95":{"color":"#ff7e7e"},"96":{"color":"#ff7e7e"},"97":{"color":"#ff7e7e"},"98":{"color":"#ff7e7e"},"99":{"color":"#ffff00"},"100":{"color":"#ffff00"},"101":{"color":"#ff9600"},"102":{"color":"#ff0000"},"103":{"color":"#df12c9"},"104":{"color":"#007eff"},"105":{"color":"#00c848"},"106":{"color":"#ffffff"},"107":{"color":"#cfcfcf"},"108":{"color":"#adadad"},"109":{"color":"#969696"},"110":{"color":"#636363"},"111":{"color":"#ff7e7e"},"112":{"color":"#ca7eff"},"113":{"color":"#7e7eff"},"114":{"color":"#ff7e7e"},"115":{"color":"#ff7e7e"},"116":{"color":"#ff7e7e"},"117":{"color":"#ff7e7e"},"118":{"color":"#ff7e7e"},"119":{"color":"#ff7e7e"},"120":{"color":"#ff7e7e"},"121":{"color":"#ff7e7e"},"122":{"color":"#ff7e7e"},"123":{"color":"#ff7e7e"},"124":{"color":"#ff7e7e"},"125":{"color":"#ff7e7e"},"126":{"color":"#ff7e7e"},"127":{"color":"#ff7e7e"},"128":{"color":"#ff7e7e"},"129":{"color":"#ff7e7e"},"130":{"color":"#ff7e7e"},"131":{"color":"#cfcfcf"},"132":{"color":"#adadad"},"133":{"color":"#969696"},"134":{"color":"#636363"},"135":{"color":"#ffffff"},"136":{"color":"#ffff00"},"137":{"color":"#ff0000"},"138":{"color":"#00842f"},"139":{"color":"#7ee3a3"},"140":{"color":"#ff7e7e"},"141":{"color":"#ff7e7e"},"142":{"color":"#ff7e7e"},"143":{"color":"#ff7e7e"},"144":{"color":"#ff7e7e"},"145":{"color":"#ff7e7e"},"146":{"color":"#ff7e7e"},"147":{"color":"#ff7e7e"},"148":{"color":"#ff7e7e"},"149":{"color":"#ff7e7e"},"150":{"color":"#ff7e7e"},"151":{"color":"#ff7e7e"},"152":{"color":"#ff7e7e"},"153":{"color":"#ff7e7e"},"154":{"color":"#ff7e7e"},"155":{"color":"#fff78e"},"156":{"color":"#000000"},"157":{"color":"#ffca7e"},"158":{"color":"#a96300"},"159":{"color":"#ff0000"},"160":{"color":"#000000"},"161":{"color":"#adadad"},"162":{"color":"#ffffff"},"163":{"color":"#ffff00"},"164":{"color":"#ff9600"},"165":{"color":"#00c848"},"166":{"color":"#ff0000"},"167":{"color":"#00c848"},"168":{"color":"#ff9600"},"169":{"color":"#adadad"},"170":{"color":"#606000"},"171":{"color":"#1e366c"},"172":{"color":"#8b2e1c"},"173":{"color":"#105830"},"174":{"color":"#45544b"},"175":{"color":"#ffffff"},"176":{"color":"#7ee3a3"},"177":{"color":"#ffffbb"},"178":{"color":"#ff7e7e"},"179":{"color":"#ff7e7e"},"180":{"color":"#000000"},"181":{"color":"#5e1ba0"},"182":{"color":"#ffffbb"},"183":{"color":"#1e68fe"},"184":{"color":"#ef370c"},"185":{"color":"#ffffbb"},"186":{"color":"#4cdf15"},"187":{"color":"#ffff00"},"188":{"color":"#ffff00"},"189":{"color":"#cfcfcf"},"190":{"color":"#ffffff"},"191":{"color":"#000000"},"192":{"color":"#7ee3a3"},"193":{"color":"#7e7eff"},"194":{"color":"#7ee3a3"},"195":{"color":"#ca7eff"},"196":{"color":"#ff0012"},"197":{"color":"#ffffff"},"198":{"color":"#4fff6c"},"199":{"color":"#ff0012"},"200":{"color":"#ffff00"},"201":{"color":"#ffff00"},"202":{"color":"#33f3ff"},"203":{"color":"#ffffff"},"204":{"color":"#ffff00"},"205":{"color":"#33f3ff"},"206":{"color":"#30bdd6"},"207":{"color":"#ffffff"},"208":{"color":"#ef370c"},"209":{},"210":{"color":"#ffffff"},"211":{"color":"#ffffff"},"212":{"color":"#ffffff"},"213":{"color":"#ffffff"},"214":{"color":"#ffffff"},"215":{"color":"#cfcfcf"},"216":{"color":"#ffffff"},"217":{"color":"#ff0000"},"218":{"color":"#969696"},"219":{"color":"#ff0000"},"220":{"color":"#adadad"},"221":{"color":"#cfcfcf"},"222":{"color":"#00c848"},"223":{"color":"#cfcfcf"},"224":{"color":"#fbeab7"},"225":{"color":"#000000"},"226":{"color":"#00c848"},"227":{"color":"#ffffff"},"228":{"color":"#ffffff"},"229":{"color":"#4cdf15"},"230":{"color":"#ffffff"},"231":{"color":"#ffffff"},"232":{"color":"#ffffff"},"233":{"color":"#ffffff"},"234":{"color":"#ffffff"},"235":{"color":"#ef370c"},"236":{"color":"#ffff00"},"237":{"color":"#ff9600"},"238":{"color":"#ffffff"},"239":{"color":"#ffffbb"},"240":{"color":"#a96300"},"241":{"color":"#ffff00"},"242":{"color":"#453d2a"},"243":{"color":"#bafbdf"},"244":{"color":"#ffffff"},"245":{"color":"#ffffff"},"246":{"color":"#bafbdf"},"247":{"color":"#ffffff"},"248":{"color":"#ffffff"},"249":{"color":"#bafbdf"},"250":{"color":"#ffffff"},"251":{"color":"#ffde00"},"252":{"color":"#33f3ff"},"253":{"color":"#33f3ff"},"254":{"color":"#ffffff"},"255":{"color":"#bafbdf"},"256":{"color":"#ff9600"},"257":{"color":"#ffffff"},"258":{"color":"#ffff00"},"259":{"color":"#ffffff"},"260":{"color":"#000000"},"261":{"color":"#cfcfcf"},"262":{"color":"#33f3ff"},"263":{"color":"#ffffff"},"264":{"color":"#ffffff"},"265":{"color":"#96cedf"},"266":{"color":"#ffca7e"},"267":{"color":"#fab07e"},"268":{"color":"#e8c368"},"269":{"color":"#000000"},"270":{"color":"#ff0000"},"271":{"color":"#ffde00"},"272":{"color":"#ffffff"},"273":{"color":"#ffffff"},"274":{"color":"#fbeab7"},"275":{"color":"#fbeab7"},"276":{"color":"#ffffff"},"277":{"color":"#99452b"},"278":{"color":"#ca7eff"},"279":{"color":"#ff7e7e"},"280":{"color":"#ffde00"},"281":{"color":"#30bdd6"},"282":{"color":"#7ee3a3"},"283":{"color":"#cfcfcf"},"284":{"color":"#0b0b0b"},"285":{"color":"#007eff"},"286":{"color":"#df11c9"},"287":{"color":"#00c848"},"288":{"color":"#000000"},"289":{"color":"#ffff00"},"290":{"color":"#3e281b"},"291":{"color":"#3e281b"},"292":{"color":"#ffffff"},"293":{"color":"#8b2e1c"},"294":{"color":"#e68c00"},"295":{"color":"#e68c00"},"296":{"color":"#282828"},"297":{"color":"#493c23"},"298":{"color":"#493c23"},"299":{"color":"#8b2e1c"},"300":{"color":"#ffffff"},"301":{"color":"#ffffff"},"302":{"color":"#46332b"},"303":{"color":"#ffffff"},"304":{"color":"#ffffff"},"305":{"color":"#ca7eff"},"306":{"color":"#ffff00"},"307":{"color":"#a96300"},"308":{"color":"#ff0000"},"309":{"color":"#105830"},"310":{"color":"#ffffff"},"311":{"color":"#fbeab7"},"312":{"color":"#282828"},"313":{"color":"#636363"},"314":{"color":"#46332b"},"315":{"color":"#ffff00"},"316":{"color":"#00c848"},"317":{"color":"#ff0000"},"318":{"color":"#ff9600"},"319":{"color":"#adadad"},"320":{"color":"#ff7e7e"},"321":{"color":"#ffca7e"},"322":{"color":"#92de5f"},"323":{"color":"#007eff"},"324":{"color":"#ffffff"},"325":{"color":"#e68c00"},"326":{"color":"#000000"},"327":{"color":"#ffffff"},"328":{"color":"#ffff00"},"329":{"color":"#ffffff"},"330":{"color":"#ffff00"},"331":{"color":"#ffffff"},"332":{"color":"#ffffff"},"333":{"color":"#adadad"},"334":{"color":"#ffff00"},"335":{"color":"#ff9600"},"336":{"color":"#ffffff"},"337":{"color":"#a90000"},"338":{"color":"#a90000"},"339":{"color":"#ffffff"},"340":{"color":"#a90000"},"341":{"color":"#453d2a"},"342":{"color":"#fbeab7"},"343":{"color":"#ffffff"},"344":{"color":"#ffffff"},"345":{"color":"#776859"},"346":{"color":"#735c3c"},"347":{"color":"#735c3c"},"348":{"color":"#615044"},"349":{"color":"#46332b"},"350":{"color":"#513301"},"351":{"color":"#ece4cc"},"352":{"color":"#776859"},"353":{"color":"#fef9e7"},"354":{"color":"#513301"},"355":{"color":"#735c3c"},"356":{"color":"#735c3c"},"357":{"color":"#513301"},"358":{"color":"#92bcb4"},"359":{"color":"#6fa497"},"360":{"color":"#bce5db"},"361":{"color":"#e3d7c7"},"362":{"color":"#ffffff"},"363":{"color":"#95b9ba"},"364":{"color":"#a9a7a3"},"365":{"color":"#00c848"},"366":{"color":"#ff9600"},"367":{"color":"#df12c9"},"368":{"color":"#007eff"},"369":{"color":"#00c848"},"370":{"color":"#ff7e7e"},"371":{"color":"#ffffff"},"372":{"color":"#ffff00"},"373":{"color":"#3e281b"},"374":{"color":"#cfcfcf"},"375":{"color":"#ffffbb"}}')},7720:function(e,t,o){"use strict";o.d(t,"a",(function(){return a})),o.d(t,"c",(function(){return l})),o.d(t,"b",(function(){return f}));var n=o("3835"),r=(o("99af"),o("a15b"),o("d81d"),o("e9f5"),o("ab43"),o("c1f9"),o("b64b"),o("d3b7"),o("3ca3"),o("ddb0"),o("9861"),o("88a7"),o("271a"),o("5494"),o("18a0")),i=o.n(r),c=o("85e4");function a(){return window&&"miniprogram"===window.__wxjs_environment}var s=function(e){return Object.keys(e).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))})).join("&")};function l(e){a()||(location.href=e);var t=e.split("?"),o=Object(n["a"])(t,2),r=o[0],c=o[1],l=c?Object.fromEntries(new URLSearchParams(c)):{};l.path=r;var f="/pages/webview/webview?"+s(l);i.a.miniProgram.navigateTo({url:f})}function f(e){Object(c["m"])()?(console.log(e),l(e)):location.href=e}},"78a6":function(e,t,o){"use strict";o("65ed")},"7db5":function(e,t,o){"use strict";o("a94b")},9622:function(e,t,o){"use strict";o.d(t,"e",(function(){return i})),o.d(t,"g",(function(){return c})),o.d(t,"d",(function(){return a})),o.d(t,"h",(function(){return s})),o.d(t,"f",(function(){return l})),o.d(t,"c",(function(){return f})),o.d(t,"b",(function(){return u})),o.d(t,"a",(function(){return d})),o.d(t,"i",(function(){return p}));o("99af");var n=o("41cb"),r=Object(n["d"])();function i(e){return r.get("/quest/",{params:e})}function c(e,t){return r.post("/quests",t,{params:e})}function a(e){return r.get("/quests/newest",{params:e})}function s(e){return e=Object.assign(e,{type:"quest"}),Object(n["a"])().get("/api/cms/wiki/post/waiting",{params:e})}function l(e){return r.get("/quest/maps",{params:e})}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wiki_quest_ac";return Object(n["a"])().get("/api/cms/breadcrumb/".concat(e)).then((function(e){return e.data.data.html||""}))}function u(e,t){return Object(n["a"])().post("/api/cms/wiki/user-quest/".concat(e,"/").concat(t))}function d(e,t){return Object(n["a"])().delete("/api/cms/wiki/user-quest/".concat(e,"/").concat(t))}function p(e){return Object(n["a"])().get("/api/cms/wiki/user-quest/".concat(e))}},"98a6":function(e,t,o){},"9ace":function(e,t,o){"use strict";o("cea3")},a94b:function(e,t,o){},b29a:function(e,t,o){"use strict";o("99af");var n=function(){var e=this,t=e._self._c;return e.source?t("el-popover",{attrs:{placement:"right-start",trigger:e.click_trigger?"click":"hover",disabled:e.dishoverable,"popper-class":"m-item-icon-popup","visible-arrow":!1,transition:"none","close-delay":0},on:{show:e.show}},[t("template",{slot:"reference"},[t("div",{staticClass:"m-item-icon"},[t("div",{staticClass:"u-item-icon",style:"height:".concat(e.size,"px; width:").concat(e.size,"px")},[t("a",{staticClass:"u-item-link",style:"height:".concat(e.size,"px; width:").concat(e.size,"px"),attrs:{target:"_blank",href:e.getLink("item",e.source.id)}},[t("div",{staticClass:"u-border",style:{backgroundImage:e.item_border(e.source),opacity:5==e.source.Quality?.9:1}}),t("div",{staticClass:"u-border-quest",style:{backgroundImage:e.item_border_quest(e.source)}}),t("img",{staticClass:"u-item-icon",attrs:{src:e.icon_url(e.source.IconID)}})])]),e.has_title?t("div",{staticClass:"u-name",class:"quality-".concat(e.source.Quality)},[e._v(e._s(e.source.Name))]):e._e()])]),t("jx3-item",{attrs:{item:e.source}})],2):e._e()},r=[],i=(o("e9c4"),o("a9e3"),o("b64b"),o("5087"),o("c7fa")),c=o("b78a"),a=o("01ea"),s=o("85e4"),l={name:"CommonItemIcon",props:{item:{type:Object,default:function(){}},size:{type:Number,default:36},item_id:{type:String,default:null},amount:{type:Number,default:1},dishoverable:{type:Boolean,default:!1},click_trigger:{type:Boolean,default:!1},has_title:{type:Boolean,default:!1}},data:function(){return{source:null,real_id:null,maybeBook:!1}},computed:{client:function(){return this.$store.state.client},cache_key:function(){return"item-".concat(this.client,"-").concat(this.real_id)},display_amount:function(){return!1===this.maybeBook?this.amount:1}},components:{"jx3-item":i["a"]},methods:{getLink:s["f"],get_data:function(e){var t=this;e&&Object(c["h"])(e,this.client).then((function(e){var o=e.data,n=o.data.item;Object.keys(n).length&&(t.source=n,sessionStorage.setItem(t.cache_key,JSON.stringify(n)))})).catch((function(e){var o;400==(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.code)&&!1===t.maybeBook&&(t.maybeBook=!0,t.real_id="".concat(t.item_id,"_").concat(t.amount))}))},show:function(){this.source&&"undefined"!==typeof this.source.Genre||this.get_data(this.source.id)},item_border:function(e){switch(e.Quality){case 3:return"url(".concat(a["e"],"image/item/blue.png)");case 4:return"url(".concat(a["e"],"image/item/purple.png)");case 5:return"url(".concat(a["e"],"image/item/orange.gif)");default:return""}},item_border_quest:function(e){return e.IsQuest>0?"url(".concat(a["e"],"image/item/renwu.png)"):""},icon_url:function(e){return Object(s["l"])(e)}},watch:{real_id:{immediate:!0,handler:function(){var e=sessionStorage.getItem(this.cache_key);if(e)try{this.source=JSON.parse(e)}catch(t){console.log(t,"[Item]无法解析本地缓存"),this.get_data(this.real_id)}else this.get_data(this.real_id)}},item:{immediate:!0,handler:function(){this.source=this.item}},item_id:{immediate:!0,handler:function(){this.get_data(this.item_id)}}},mounted:function(){this.real_id=this.item_id}},f=l,u=(o("c19b"),o("304b"),o("2877")),d=Object(u["a"])(f,n,r,!1,null,"f55cfca6",null);t["a"]=d.exports},b78a:function(e,t,o){"use strict";o.d(t,"g",(function(){return i})),o.d(t,"a",(function(){return c})),o.d(t,"f",(function(){return a})),o.d(t,"m",(function(){return s})),o.d(t,"i",(function(){return l})),o.d(t,"h",(function(){return f})),o.d(t,"r",(function(){return u})),o.d(t,"j",(function(){return d})),o.d(t,"l",(function(){return p})),o.d(t,"d",(function(){return m})),o.d(t,"p",(function(){return v})),o.d(t,"k",(function(){return g})),o.d(t,"n",(function(){return h})),o.d(t,"o",(function(){return b})),o.d(t,"q",(function(){return _})),o.d(t,"e",(function(){return y})),o.d(t,"c",(function(){return w})),o.d(t,"b",(function(){return C}));o("99af"),o("a15b");var n=o("41cb"),r=Object(n["d"])({mute:!0});function i(e){return Object(n["c"])().get("api/article/favorites/my",{params:e})}function c(e){return Object(n["c"])().delete("api/article/favorites/my/".concat(e))}function a(e){return r.get("api/node/item/menus",{params:e})}function s(e){return r.get("api/node/item/count",{params:e})}function l(e){return r.get("/item/enums",{params:e})}function f(e,t){if(e)return r.get("api/node/item/".concat(e),{params:{client:null!==t&&void 0!==t?t:"std"}})}function u(e,t){if(e)return Object(n["c"])().get("api/item-price/".concat(e,"/detail"),{params:t})}function d(e){if(e.item_id)return Object(n["c"])().post("api/auction/",e)}function p(e){var t,o,n=e.ids instanceof Array?e.ids.join(","):e.ids;return r.get("/item_merged/id/".concat(n),{params:{client:null!==(t=e.client)&&void 0!==t?t:"std",per:null!==(o=e.per)&&void 0!==o?o:20}})}function m(e,t){return r.get("/item_merged/name/".concat(e),{params:t})}function v(e){var t;return r.get("/item/newest",{params:{client:null!==(t=e.client)&&void 0!==t?t:"std"}})}function g(e){return r.get("api/node/item/list",{params:e})}function h(e){return r.get("api/node/item/search",{params:e})}function b(e){return r.get("api/node/item/menu_list",{params:e})}function _(e){return Object(n["a"])().get("/api/cms/wiki/post/waiting",{params:e})}function y(e){return r.get("/manufactures",{params:e})}function w(e){return r.get("/other",{params:e})}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"std";if(e)return r.get("/resource/".concat(t,"/item_merged.").concat(e))}},b96b:function(e,t,o){"use strict";o("c7cd");var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"c-var w-fold-card",class:{"is-fold":e.isFold},style:e.componentStyle},[t("div",{staticClass:"w-fold-card-title"},[e._t("title",(function(){return[e._v(" "+e._s(e.title)+" ")]}))],2),t("div",{ref:"contentContainer",staticClass:"w-fold-card-content"},[e._t("default")],2),!e.fixed&&e.showFold?t("div",{staticClass:"w-fold-card-footer"},[t("el-button",{attrs:{type:"text"},on:{click:e.toggleFold}},[e._v(" "+e._s(e.isFold?"展示全部":"收起全部")+" ")])],1):e._e()])},r=[],i=o("b85c"),c=(o("a9e3"),{name:"FoldCard",props:{title:{type:String,default:""},fixed:{type:Boolean,default:!1},maxHeight:{type:Number,default:200}},data:function(){return{isFold:!0,contentHeight:0,observer:null}},computed:{showFold:function(){return this.contentHeight>this.maxHeight-100},componentStyle:function(){var e={maxHeight:"".concat(this.maxHeight,"px")};return!this.fixed&&this.isFold||delete e.maxHeight,e}},methods:{toggleFold:function(){this.isFold=!this.isFold}},mounted:function(){var e=this,t=this.$refs.contentContainer;this.observer=new ResizeObserver((function(o){var n,r=Object(i["a"])(o);try{for(r.s();!(n=r.n()).done;){var c=n.value;c.target===t&&(e.contentHeight=c.contentRect.height)}}catch(a){r.e(a)}finally{r.f()}})),this.observer.observe(t)},beforeDestroy:function(){this.observer.disconnect(),this.observer=null}}),a=c,s=(o("78a6"),o("2877")),l=Object(s["a"])(a,n,r,!1,null,null,null);t["a"]=l.exports},c19b:function(e,t,o){"use strict";o("98a6")},c1f9:function(e,t,o){"use strict";var n=o("23e7"),r=o("2266"),i=o("8418");n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return r(e,(function(e,o){i(t,e,o)}),{AS_ENTRIES:!0}),t}})},c404:function(e,t,o){"use strict";var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-comment-list",attrs:{id:"macro-comment"}},[e._l(e.comments,(function(o){var n;return t("div",{key:o.id,staticClass:"m-comment-item"},[t("div",{staticClass:"m-main-content"},[t("div",{staticClass:"u-commenter-name",on:{click:function(t){return e.toDetail(o.user_id)}}},[e._v(" "+e._s(o.user_nickname)+" ")]),t("div",{staticClass:"u-comment-content"},[e._v(" "+e._s(o.content)+" ")]),t("div",{staticClass:"u-comment-time"},[e._v(" "+e._s(e.dayjs(null===o||void 0===o?void 0:o.commentDate).format("YYYY-MM-DD"))+" ")])]),null!==(n=o.children)&&void 0!==n&&n.length?t("div",{staticClass:"m-child-comment"},e._l(o.children,(function(o){return t("div",{key:o.id,staticClass:"m-reply-item"},[t("div",{staticClass:"u-replier-name",on:{click:function(t){return e.toDetail(o.user_id)}}},[e._v(" "+e._s(o.user_nickname)+" ")]),t("span",{staticClass:"u-reply"},[e._v("回复")]),t("div",{staticClass:"u-replier-name",on:{click:function(t){o.parent.user_id&&e.toDetail(o.parent.user_id)}}},[e._v(" "+e._s(o.parent.user_nickname)+" ")]),t("span",{staticClass:"u-reply"},[e._v("：")]),t("div",{staticClass:"u-reply-content"},[e._v(" "+e._s(o.content)+" ")])])})),0):e._e()])})),e.loading?t("div",{staticClass:"u-loading-more"},[e._v("加载中...")]):e._e(),e.noMoreData?t("div",{staticClass:"u-no-more"},[e._v("没有更多评论了")]):e._e()],2)},r=[],i=(o("99af"),o("caad"),o("d81d"),o("14d9"),o("b0c0"),o("e9f5"),o("ab43"),o("d3b7"),o("2532"),o("5a0c")),c=o.n(i),a=o("500d"),s=o("c9d2"),l={name:"MiniprogramCommentList",props:["type","sourceId"],data:function(){return{comments:[],reply_form:{content:"",user_nickname:s["a"].getInfo().name},page:1,pageSize:10,total:0,loading:!1}},computed:{isWujie:function(){var e;return(null===(e=this.$route.name)||void 0===e?void 0:e.indexOf("wujie"))>-1},client:function(){return location.href.includes("classic")||location.href.includes("origin")?"origin":"std"},noMoreData:function(){return this.comments.length>=this.total&&this.total>0}},mounted:function(){this._onScroll=this.handleScroll.bind(this),window.addEventListener("scroll",this._onScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this._onScroll)},methods:{dayjs:c.a,handleScroll:function(){if(!this.loading&&!this.noMoreData){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,t=window.innerHeight,o=document.documentElement.scrollHeight;e+t+100>=o&&this.loadMore()}},loadMore:function(){this.loading||this.noMoreData||(this.page++,this.get_comments(!0))},get_comments:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];function o(e,t){var n=[],r=function(){var r=e[i];if(!r)return 1;if(r.parent_id===t){var c=o(r.children,r.id);r.children=c.map((function(e){return e.parent={user_id:r.user_id,user_nickname:r.user_nickname,id:r.id},e.reply_form={show:!1,content:"",user_nickname:s["a"].getInfo().name},e})),n.push(r)}};for(var i in e)r();return n}this.type&&this.sourceId&&(this.loading=!0,a["b"].list({type:this.type,id:this.sourceId},{client:this.client,page:this.page}).then((function(n){n=n.data;for(var r=n.data.list,i=0;i<r.length;i++)r[i]["reply_form"]={show:!1,content:"",user_nickname:s["a"].getInfo().name};e.page=n.data.page,e.total=n.data.total,e.comments=t?e.comments.concat(o(r,0)):o(r,0),e.loading=!1})))},create_comment:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e.content){var n={type:this.type,source_id:String(this.sourceId),parent_id:o,user_nickname:e.user_nickname||s["a"].getInfo().name,content:e.content,client:this.client};a["b"].post(n).then((function(o){o=o.data,e.content="",t.$message({message:"提交成功，请等待审核",type:"success"})})).finally((function(){e.show=!1}))}else this.$message({message:"请先填写评论内容再尝试提交",type:"warning"})},handleCurrentChange:function(e){this.page=e,this.get_comments()},star_comment:function(e,t){var o=this;a["b"].star(e.id,{is_star:t}).then((function(){o.page=1,o.get_comments()}))},top_comment:function(e,t){var o=this;a["b"].top(e.id,{is_top:t}).then((function(){o.page=1,o.get_comments()}))},toDetail:function(){}},watch:{sourceId:{immediate:!0,handler:function(){this.page=1,this.get_comments()}}}},f=l,u=(o("7db5"),o("2877")),d=Object(u["a"])(f,n,r,!1,null,null,null);t["a"]=d.exports},c7cd:function(e,t,o){"use strict";var n=o("23e7"),r=o("857a"),i=o("af03");n({target:"String",proto:!0,forced:i("fixed")},{fixed:function(){return r(this,"tt","","")}})},cea3:function(e,t,o){},e610:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAATuSURBVEhLvZZ/TJR1HMcNBKJRtChxmb/Y2vAf23C51dwYa7aMSF0RKnDHDyU5+WFTftwdcAhHJxeKIHjegQckIsqhyJzVBs4fpVNR80foHDrbtC2zrIZpar77vr/xPDyH51Q2++N1z/e+z+fzfj/f7+fzfPeMAfC/4nPyaaIO+vr6nomIiHguICBgvCA8Ojo6SBv4ODCHudSgFjVHxqiDuLi4QEtBTMy1CwU41p12w8/Pb7q/v/+UJ4E5zKUGtaipNSPqICQkJNTjjq+7dCwXx3dlo82chc3GTHxZuFSy2WjAFjG3tShbwjHnhu9nyhzmUqOjMb6WmlozIn/sdrv/2LFjJx3crh84ujMVO9YmomrJx6OCudQ4sE13XmhOpLaXIfc5LCzseVteTP7hDj2I25yAyrSPRgVzFR1qUltbyzGRkZHBM6dPmLm/LekXBvU2J2NV4jxYFsxD6ULBoqGrwCLwVCZLOFbmlRjmMHev0KAWNalND9WQHXX36nYo9G4y45sNNp8MHK0VOW4Jx75iCDW0mvR4qKEvAaI1exxTraaXYVRU1LOind/44M2peBpQmx6qIX/YTVfO2H76/co6DP5cJ7l5vR53Bl24c5M0qNz+0ynRzskYEcscJZ9a1KS2YqY1nHT1dMXtXweq8MeVGsngtTopdvcvrXADbt1wSLRzSgxzlHxqUZPavgwnX/7O8s+PhyxwF+vhyEtS2bCSJOLytyXg/az5M2CYGyXHnOO96pIMlNcYYW4oh7HJhqJGKxo7K3C4p/S+OIGm6XS6gJGGEwf2F/1GEZcxGTXLF2BdrjfnekzSZP7MCCTMel2O+8VcWdVKGFvXwORxwNy1CYWdLuQ2rcXS2lJk11mQVp7TPe618VMUU2kouij81Nf5ZyjSZkuBNX0uKhYPY03/EO32VGmyKiMGFYZ35PgLhxHG9lqYu5skpl1uZDVWwdnTjP7b38PV24LsjVYsteftFh7jPB6PnzQMDQ19wbMh0XnxgFG8sJ+hJHkOLLr3UaonsSqHti3Hvi2Zkt1b8+XKpJkwyu9wwuCsRNa6Ygzc78dF9EvTTIdNxsUujtfzAJCGXO782ZFvnehKv3V2jwGOgk9QnPTeA9TlxcuVyZXW5KNg63rkNFdjSW0Z0itN6Dy5UxrR8Pyd03KFuS3VcrsNawp7AwMDw6Qhz7qgoKCX2qvntZ7oSsXB1hSU6Ob4NFUodJUhx70Grp4WXLh3dsjoBzTta4XeZkTGeqt8mMLOBlnblQ3W66JXJkhDZZWzZ02dcWS7bvDEDj2OelKxx5mBsrRYFAkD4mXYvFpu14V7Z1SzhaZlSK0qxoq2OllPpbbmbjcKmmx3+YqohlxlcHDwi5+viDb1deruHxemJ3elibrlwCwMiNZUXaHYtnN/n8Kx64dx/MYRrO1yIKu+XK6Q2/nQFZLw8PCQVTlvG85/lYJH4Ww3qTX8tL4CSdZ87L3cK2vXe6lH7dIRNXzZy5Ddurnq3b4d9bF4FC0bFw53qYBdusxlxxK7Ud1mbZfGZSQMd6kCv0H4FNzrkd8rPpiWsXrFzpHvYfZQI3GblfeQcUL3FfU9HA1ssvBJr04WYl0jTxrWVp406/87aRjnddKMForwybldrBEbg93IK/9znvcVM/KAyJPCbWJthkoxgeXglf85z/vaeK/kpw/G/AvLGYoLnK+B3wAAAABJRU5ErkJggg=="}}]);