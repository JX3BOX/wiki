(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a14cf9a8"],{"01ea":function(t,e,i){"use strict";i.d(e,"e",(function(){return o})),i.d(e,"d",(function(){return c})),i.d(e,"f",(function(){return r})),i.d(e,"b",(function(){return l})),i.d(e,"a",(function(){return u})),i.d(e,"c",(function(){return d})),i.d(e,"g",(function(){return _}));var s=i("5530"),n=i("65c2"),a=Object(s["a"])(Object(s["a"])({},n),{},{__dataPath:"https://data.jx3box.com/",__imgPath:"https://img.jx3box.com/",__iconPath:"https://icon.jx3box.com/"}),o=a.__imgPath,c=(a.__dataPath,a.__iconPath),r=(a.__cms,a.__down,a.__node,a.__ossMirror,a.__ossRoot,a.__visibleMap,a.default_avatar),l=a.__Root,u=a.__OriginRoot,d=(a.__Github,a.__Preview,a.__server,a.__sso,a.__spider,a.__spider2,a.__next,a.__pay,a.__team,a.__lua,a.__dbm,a.__helperUrl,a.__os,a.__jx3,a.__cdn),_=(a.__staticPath,a.__clients,a.__postType,a.__wikiType,a.__appType,a.__gameType,a.__sourceType,a.__userGroup,a.__userLevel,a.__userLevelColor,a.__Links,a.feedback)},"06da":function(t,e,i){"use strict";i("b0c0");var s=function(){var t=this,e=t._self._c;return e("div",[e("el-drawer",{staticStyle:{width:"100%"},attrs:{visible:t.show,direction:"btt","show-close":!1,"with-header":!1,"append-to-body":"","custom-class":"user-select-drawer ".concat(t.customClass),size:"400"},on:{"update:visible":function(e){t.show=e},close:t.onClose},scopedSlots:t._u([{key:"default",fn:function(){return[e("div",{staticClass:"c-var m-user-select"},[e("div",{staticClass:"m-user-select__title"},[t._v(" 选择角色 ")]),e("div",{staticClass:"m-user-list"},t._l(t.list,(function(i){return e("div",{key:i.ID,staticClass:"m-user-item",class:[i.ID===t.tmpVal.ID?"active":""],on:{click:function(){return t.selectRole(i)}}},[e("div",{staticClass:"u-user-info"},[e("div",{staticClass:"u-avatar"},[e("img",{attrs:{src:t.getMountAvatar(i.mount||0,i.body_type||1)}})]),e("div",{staticClass:"u-name"},[t._v(" "+t._s(i.name||"虚拟角色")+" ")])]),e("div",{staticClass:"u-area"},[t._v(" "+t._s(i.server)+" ")])])})),0),e("div",{staticClass:"m-op"},[e("button",{staticClass:"u-reset",class:{active:!t.isEmptyVal},on:{click:t.resetVal}},[t._v(" 重置 ")]),e("button",{staticClass:"u-confirm",class:{active:t.changeTmp},on:{click:t.changeValue}},[t._v(" 确定 ")])])])]},proxy:!0}])})],1)},n=[],a=i("2909"),o=i("5530"),c=(i("99af"),i("d81d"),i("e9f5"),i("ab43"),i("d3b7"),i("2ef0")),r=i("c9d2"),l=i("85e4"),u=i("1450"),d=i("cf45"),_={name:"UserSelectDrawer",components:{},emits:["update:visible"],props:{visible:{type:Boolean,default:!1},currentRole:{default:function(){return{}}},customClass:{type:String,default:""}},data:function(){return{tmpVal:null,roleList:[],isLogin:r["a"].isLogin(),virtualRole:Object(o["a"])(Object(o["a"])({name:"虚拟角色"},r["a"].getInfo()),{},{jx3id:0,ID:~~r["a"].getInfo().uid,server:"虚拟角色"})}},watch:{currentRole:{handler:function(t){this.tmpVal=Object(c["cloneDeep"])(t)},immediate:!0}},computed:{show:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}},list:function(){return this.roleList.length>0?[].concat(Object(a["a"])(this.roleList.map((function(t){return Object(o["a"])(Object(o["a"])({},t),{},{avatar:Object(l["s"])(t.mount)})}))),[this.virtualRole]):[this.virtualRole]},changeTmp:function(){return this.tmpVal!==this.currentRole},isEmptyVal:function(){return null===this.tmpVal}},mounted:function(){this.loadRoles()},methods:{getMountAvatar:d["b"],onClose:function(){this.show=!1},resetVal:function(){this.roleList?this.tmpVal=this.roleList[0]:this.tmpVal=this.virtualRole},changeValue:function(){this.$emit("change",this.tmpVal)},selectRole:function(t){this.tmpVal=Object(c["cloneDeep"])(t)},showSchoolIcon:l["s"],loadRoles:function(){var t=this;this.isLogin&&Object(u["a"])().then((function(e){var i,s;t.roleList=(null===(i=e.data)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.list)||[],console.log(t.roleList),Object(c["isEmpty"])(t.currentRole)&&(t.roleList?t.$emit("change",t.roleList[0]):t.$emit("change",t.virtualRole))}))}}},f=_,h=(i("0dd8"),i("2877")),m=Object(h["a"])(f,s,n,!1,null,null,null);e["a"]=m.exports},"0dd8":function(t,e,i){"use strict";i("2d88")},1450:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var s=i("41cb"),n=function(){return Object(s["f"])().get("api/team/my-game-roles?nopage&custom=0")}},"2d88":function(t,e,i){},"3aef":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("el-drawer",{staticStyle:{width:"100%"},attrs:{visible:t.show,direction:"btt","show-close":!1,"with-header":!1,"append-to-body":"","custom-class":"other-filter-drawer",size:"400"},on:{"update:visible":function(e){t.show=e},close:t.onClose},scopedSlots:t._u([{key:"default",fn:function(){return[e("div",{staticClass:"c-var m-confirm-ok"},[e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-icon"},[e("svg",{attrs:{width:"121",height:"120",viewBox:"0 0 121 120",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("path",{attrs:{d:"M104.048 83.182l-33.922-58.91a11.15 11.15 0 00-19.248 0l-33.922 58.91a10.648 10.648 0 000 10.749 10.981 10.981 0 009.624 5.504h67.844a10.981 10.981 0 009.616-5.504 10.64 10.64 0 00.008-10.749zm-8.068 6.09a1.73 1.73 0 01-1.552.853H26.58a1.73 1.73 0 01-1.552-.853 1.381 1.381 0 010-1.447l33.922-58.91a1.85 1.85 0 013.104 0l33.918 58.91a1.38 1.38 0 01.008 1.447zM55.847 63.748V51.335a4.655 4.655 0 119.31 0v12.413a4.655 4.655 0 01-9.31 0zm10.861 15.516a6.206 6.206 0 11-12.413 0 6.206 6.206 0 0112.413 0z",fill:"currentColor"}})])]),t._v(" 确定要将其设为"+t._s(t.current?"未":"已")+"完成吗 ")]),e("div",{staticClass:"m-op"},[e("button",{staticClass:"u-confirm",on:{click:t.confirmResult}},[t._v(" 确认 ")])])])]},proxy:!0}])})],1)},n=[],a={name:"ConfirmOkDrawer",components:{},emits:["update:visible","confirm"],props:{visible:{type:Boolean,default:!1},current:{type:Boolean,default:!1}},data:function(){return{}},watch:{},computed:{show:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}}},methods:{onClose:function(){this.show=!1},confirmResult:function(){this.$emit("confirm"),this.onClose()}}},o=a,c=(i("7453"),i("2877")),r=Object(c["a"])(o,s,n,!1,null,null,null);e["a"]=r.exports},7453:function(t,e,i){"use strict";i("7fda")},"7fda":function(t,e,i){},cf45:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return a}));i("99af"),i("fb6a"),i("ac1f"),i("5319"),i("498a");var s=i("85e4"),n=function(t){return t=t?t.trim().replace(/<[^>]*>/g,""):"",t.length>100?t.slice(0,100)+"...":t};function a(t,e,i,n){return Object(s["i"])("https://cdn.jx3box.com/design/avatar/mini/".concat(t,"-").concat(e,".png"),i,n)}}}]);