(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fed11852"],{"01ea":function(t,i,e){"use strict";e.d(i,"e",(function(){return c})),e.d(i,"d",(function(){return r})),e.d(i,"f",(function(){return o})),e.d(i,"b",(function(){return l})),e.d(i,"a",(function(){return u})),e.d(i,"c",(function(){return d})),e.d(i,"g",(function(){return f}));var s=e("5530"),a=e("65c2"),n=Object(s["a"])(Object(s["a"])({},a),{},{__dataPath:"https://data.jx3box.com/",__imgPath:"https://img.jx3box.com/",__iconPath:"https://icon.jx3box.com/"}),c=n.__imgPath,r=(n.__dataPath,n.__iconPath),o=(n.__cms,n.__down,n.__node,n.__ossMirror,n.__ossRoot,n.__visibleMap,n.default_avatar),l=n.__Root,u=n.__OriginRoot,d=(n.__Github,n.__Preview,n.__server,n.__sso,n.__spider,n.__spider2,n.__next,n.__pay,n.__team,n.__lua,n.__dbm,n.__helperUrl,n.__os,n.__jx3,n.__cdn),f=(n.__staticPath,n.__clients,n.__postType,n.__wikiType,n.__appType,n.__gameType,n.__sourceType,n.__userGroup,n.__userLevel,n.__userLevelColor,n.__Links,n.feedback)},"06da":function(t,i,e){"use strict";e("b0c0");var s=function(){var t=this,i=t._self._c;return i("div",[i("el-drawer",{staticStyle:{width:"100%"},attrs:{visible:t.show,direction:"btt","show-close":!1,"with-header":!1,"append-to-body":"","custom-class":"user-select-drawer ".concat(t.customClass),size:"400"},on:{"update:visible":function(i){t.show=i},close:t.onClose},scopedSlots:t._u([{key:"default",fn:function(){return[i("div",{staticClass:"c-var m-user-select"},[i("div",{staticClass:"m-user-select__title"},[t._v(" 选择角色 ")]),i("div",{staticClass:"m-user-list"},t._l(t.list,(function(e){return i("div",{key:e.ID,staticClass:"m-user-item",class:[e.ID===t.tmpVal.ID?"active":""],on:{click:function(){return t.selectRole(e)}}},[i("div",{staticClass:"u-user-info"},[i("div",{staticClass:"u-avatar"},[i("img",{attrs:{src:t.getMountAvatar(e.mount||0,e.body_type||1)}})]),i("div",{staticClass:"u-name"},[t._v(" "+t._s(e.name||"虚拟角色")+" ")])]),i("div",{staticClass:"u-area"},[t._v(" "+t._s(e.server)+" ")])])})),0),i("div",{staticClass:"m-op"},[i("button",{staticClass:"u-reset",class:{active:!t.isEmptyVal},on:{click:t.resetVal}},[t._v(" 重置 ")]),i("button",{staticClass:"u-confirm",class:{active:t.changeTmp},on:{click:t.changeValue}},[t._v(" 确定 ")])])])]},proxy:!0}])})],1)},a=[],n=e("2909"),c=e("5530"),r=(e("99af"),e("d81d"),e("e9f5"),e("ab43"),e("d3b7"),e("2ef0")),o=e("c9d2"),l=e("85e4"),u=e("1450"),d=e("cf45"),f={name:"UserSelectDrawer",components:{},emits:["update:visible"],props:{visible:{type:Boolean,default:!1},currentRole:{default:function(){return{}}},customClass:{type:String,default:""}},data:function(){return{tmpVal:null,roleList:[],isLogin:o["a"].isLogin(),virtualRole:Object(c["a"])(Object(c["a"])({name:"虚拟角色"},o["a"].getInfo()),{},{jx3id:0,ID:~~o["a"].getInfo().uid,server:"虚拟角色"})}},watch:{currentRole:{handler:function(t){this.tmpVal=Object(r["cloneDeep"])(t)},immediate:!0}},computed:{show:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}},list:function(){return this.roleList.length>0?[].concat(Object(n["a"])(this.roleList.map((function(t){return Object(c["a"])(Object(c["a"])({},t),{},{avatar:Object(l["r"])(t.mount)})}))),[this.virtualRole]):[this.virtualRole]},changeTmp:function(){return this.tmpVal!==this.currentRole},isEmptyVal:function(){return null===this.tmpVal}},mounted:function(){this.loadRoles()},methods:{getMountAvatar:d["b"],onClose:function(){this.show=!1},resetVal:function(){this.roleList?this.tmpVal=this.roleList[0]:this.tmpVal=this.virtualRole},changeValue:function(){this.$emit("change",this.tmpVal)},selectRole:function(t){this.tmpVal=Object(r["cloneDeep"])(t)},showSchoolIcon:l["r"],loadRoles:function(){var t=this;this.isLogin&&Object(u["a"])().then((function(i){var e,s;t.roleList=(null===(e=i.data)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.list)||[],console.log(t.roleList),Object(r["isEmpty"])(t.currentRole)&&(t.roleList?t.$emit("change",t.roleList[0]):t.$emit("change",t.virtualRole))}))}}},h=f,p=(e("0dd8"),e("2877")),v=Object(p["a"])(h,s,a,!1,null,null,null);i["a"]=v.exports},"0dd8":function(t,i,e){"use strict";e("2d88")},1450:function(t,i,e){"use strict";e.d(i,"a",(function(){return a}));var s=e("41cb"),a=function(){return Object(s["f"])().get("api/team/my-game-roles?nopage&custom=0")}},"279f":function(t,i,e){t.exports=e.p+"img/pin_slash_touchbar_40.3e333862.svg"},"2d88":function(t,i,e){},"2f6a":function(t,i,e){t.exports=e.p+"img/pin_touchbar.f8bda0f9.svg"},"3aef":function(t,i,e){"use strict";var s=function(){var t=this,i=t._self._c;return i("div",[i("el-drawer",{staticStyle:{width:"100%"},attrs:{visible:t.show,direction:"btt","show-close":!1,"with-header":!1,"append-to-body":"","custom-class":"other-filter-drawer",size:"400"},on:{"update:visible":function(i){t.show=i},close:t.onClose},scopedSlots:t._u([{key:"default",fn:function(){return[i("div",{staticClass:"c-var m-confirm-ok"},[i("div",{staticClass:"u-content"},[i("div",{staticClass:"u-icon"},[i("svg",{attrs:{width:"121",height:"120",viewBox:"0 0 121 120",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[i("path",{attrs:{d:"M104.048 83.182l-33.922-58.91a11.15 11.15 0 00-19.248 0l-33.922 58.91a10.648 10.648 0 000 10.749 10.981 10.981 0 009.624 5.504h67.844a10.981 10.981 0 009.616-5.504 10.64 10.64 0 00.008-10.749zm-8.068 6.09a1.73 1.73 0 01-1.552.853H26.58a1.73 1.73 0 01-1.552-.853 1.381 1.381 0 010-1.447l33.922-58.91a1.85 1.85 0 013.104 0l33.918 58.91a1.38 1.38 0 01.008 1.447zM55.847 63.748V51.335a4.655 4.655 0 119.31 0v12.413a4.655 4.655 0 01-9.31 0zm10.861 15.516a6.206 6.206 0 11-12.413 0 6.206 6.206 0 0112.413 0z",fill:"currentColor"}})])]),t._v(" 确定要将其设为"+t._s(t.current?"未":"已")+"完成吗 ")]),i("div",{staticClass:"m-op"},[i("button",{staticClass:"u-confirm",on:{click:t.confirmResult}},[t._v(" 确认 ")])])])]},proxy:!0}])})],1)},a=[],n={name:"ConfirmOkDrawer",components:{},emits:["update:visible","confirm"],props:{visible:{type:Boolean,default:!1},current:{type:Boolean,default:!1}},data:function(){return{}},watch:{},computed:{show:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}}},methods:{onClose:function(){this.show=!1},confirmResult:function(){this.$emit("confirm"),this.onClose()}}},c=n,r=(e("7453"),e("2877")),o=Object(r["a"])(c,s,a,!1,null,null,null);i["a"]=o.exports},"500d":function(t,i,e){"use strict";e.d(i,"a",(function(){return c})),e.d(i,"b",(function(){return r}));var s=e("41cb");const a=(t,i)=>Object(s["d"])().get("/pet/"+t,{params:i}),n=location.href.includes("origin")?"origin":"std",c={latest({type:t},i){return Object(s["a"])().get("/api/cms/wiki/post/latest",{params:{client:n,...i,type:t}})},mine(t){return Object(s["a"])().get("/api/cms/wiki/post/mine",{params:t})},counter({type:t},i){return Object(s["a"])().get("/api/cms/wiki/post/counter",{params:{client:n,...i,type:t}})},achievements(t){return Object(s["d"])().get("/achievement/list",{params:{client:n,...t}})},get({type:t,id:i},e){return Object(s["a"])().get(`/api/cms/wiki/post/type/${t}/source/${i}`,{params:{client:n,...e}})},getById(t){return Object(s["a"])().get("/api/cms/wiki/post/id/"+t)},post(t){return Object(s["a"])().post("/api/cms/wiki/post",t)},update(t,i){return Object(s["a"])().put("/api/cms/wiki/post/"+t,i)},remove(t){return Object(s["a"])().delete("/api/cms/wiki/post/"+t)},versions({type:t,id:i},e){return Object(s["a"])().get(`/api/cms/wiki/post/type/${t}/source/${i}/versions`,{params:{client:n,...e}})},async handleMix(t,i,e,s){let a="",n="",c=!0,r=!1,o=[];if("std"===e){const l=await this.get({type:t,id:i},{client:e,...s});return a=l.data.data.post,n=l.data.data.source,o=l.data.data.users,a&&(c=!1),console.log("获取旗舰攻略"),{post:a,source:n,isEmpty:c,compatible:r,type:t,source_id:i,users:o}}{const l=await this.get({type:t,id:i},{client:e,...s});n=l.data.data.source,a=l.data.data.post,o=l.data.data.users,a&&(c=!1),console.log("获取缘起攻略");const u=!!l.data.data.post;return u?{post:a,source:n,isEmpty:c,compatible:r,type:t,source_id:i,users:o}:(console.log("兼容：获取旗舰攻略"),this.get({type:t,id:i},{client:"std",...s}).then(e=>(a=e.data.data.post,n||(n=e.data.data.source),a&&(c=!1),o=e.data.data.users,r=!0,{post:a,source:n,isEmpty:c,compatible:r,type:t,source_id:i,users:o})))}},async mix({type:t,id:i,client:e},s){let n="",c="";if(n="cj"===t?"achievement":"pet"===t?"item":t||"achievement",i){if(c=i,"pet"===t){const t=await a(i,{client:e});let c=t.data,r=c.ItemTabType+"_"+c.ItemTabIndex;return this.handleMix(n,r,e,s)}return this.handleMix(n,c,e,s)}}},r={list({type:t,id:i},e){return Object(s["a"])().get("/api/cms/wiki/comment",{params:{...e,type:t,source_id:i}})},post(t){return Object(s["a"])().post("/api/cms/wiki/comment",t)},delete(t){return Object(s["a"])().delete("/api/cms/wiki/comment/"+t)},myList(t){return Object(s["a"])().get("/api/cms/wiki/comment/mine",{params:t})},star(t,i){return Object(s["a"])().put(`/api/cms/manage/wiki/comment/${t}/star`,i)},top(t,i){return Object(s["a"])().put(`/api/cms/manage/wiki/comment/${t}/top`,i)}}},"52df":function(t,i,e){},"56dd":function(t,i,e){t.exports=e.p+"img/lafter_touchbar.c60ed56e.svg"},6163:function(t,i,e){t.exports=e.p+"img/rss_touchbar.cd37b3d9.svg"},7453:function(t,i,e){"use strict";e("7fda")},"7fda":function(t,i,e){},"861a":function(t,i,e){t.exports=e.p+"img/pin_touchbar_24.893dada9.svg"},9012:function(t,i,e){t.exports=e.p+"img/search_touchbar.5de7b19b.svg"},a732:function(t,i,e){"use strict";var s=e("23e7"),a=e("c65b"),n=e("2266"),c=e("59ed"),r=e("825a"),o=e("46c4"),l=e("2a62"),u=e("f99f"),d=u("some",TypeError);s({target:"Iterator",proto:!0,real:!0,forced:d},{some:function(t){r(this);try{c(t)}catch(s){l(this,"throw",s)}if(d)return a(d,this,t);var i=o(this),e=0;return n(i,(function(i,s){if(t(i,e++))return s()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},c1cc:function(t,i,e){"use strict";e("b0c0"),e("ac1f"),e("466d"),e("841c");var s=function(){var t,i,s=this,a=s._self._c;return a("div",{staticClass:"p-suspend"},[s.btnConfig.showHome?a("div",{staticClass:"m-home-box"},[a("div",{staticClass:"m-base"},[s._t("default")],2),s.btnConfig.showMore?a("div",{staticClass:"m-more",on:{click:s.setMore}},[s._v(" 更多 ")]):s._e()]):s._e(),s.btnConfig.showIcon&&!s.btnConfig.showHome?a("div",{staticClass:"m-icon-box"},[a("div",{staticClass:"m-btn-box"},[s.btnConfig.showSearch?a("div",{staticClass:"u-icon-d",on:{click:s.search}},[a("svg",{class:"u-icon",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{d:"M15.5 14h-.79l-.28-.27A6.47 6.47 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z",fill:"#FEDAA3"}})])]):s._e(),s.btnConfig.showFixed?a("div",{staticClass:"u-icon-d",on:{click:function(t){return s.clickDrawer({type:"pin",text:"固定按钮"},1)}}},[s.fixIsActive?a("svg",{staticClass:"icon",class:"u-icon active",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{d:"M128.64 160.384c-4.864-29.856 24.224-58.912 54.048-54.112 22.432 2.432 35.264 23.072 50.688 36.96C461.312 371.104 689.152 599.04 917.088 826.88c12.064 11.968 27.392 24.8 26.624 43.488 3.584 27.84-23.2 54.56-51.072 50.912-19.584.64-32.544-15.84-45.056-28.384-49.184-48.96-98.048-98.24-147.328-147.136-22.816 22.848-45.696 45.632-68.48 68.512-5.056 4.864-10.112 10.72-17.472 11.872-8.832 1.92-17.44-2.88-23.296-9.152C541.28 766.88 490.976 717.344 441.44 667.04c-76.384 76.736-153.184 153.12-229.632 229.856-13.088 13.568-34.24 19.04-51.968 12-19.52-6.816-33.408-27.552-31.456-48.288.48-12.224 7.008-23.328 15.52-31.776 76.608-76.64 153.28-153.216 229.856-229.92-55.296-53.472-108.8-108.8-163.648-162.752-7.456-6.368-10.976-17.312-7.52-26.656 2.08-8.16 9.44-13.056 14.976-18.752 21.344-21.44 42.72-42.784 64.128-64.128-39.008-38.016-77.088-76.96-115.776-115.296-13.888-15.616-34.752-28.384-37.28-50.944zm511.84-50.592c9.344-5.088 20.896-1.664 27.776 5.92 80.608 80.448 161.024 161.056 241.632 241.504 6.24 5.888 11.392 14.368 9.504 23.296-.896 8.512-8.256 13.76-13.856 19.328-58.56 49.184-116.64 99.008-175.168 148.224-9.824 8.8-25.792 6.976-34.016-3.072C624 473.408 551.84 401.6 479.68 329.856c-8.704-7.808-10.016-22.528-2.112-31.36 42.56-50.368 85.44-100.512 127.872-150.976 12.128-12.128 20.64-28.096 35.04-37.728z",fill:"#FEDAA3"}})]):a("svg",{staticClass:"icon",class:"u-icon active",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{d:"M624.864 119.424c6.144-7.872 13.696-16.928 24.672-16.64 7.68-.736 14.24 3.808 19.2 9.184 81.984 82.304 164.32 164.192 246.08 246.688 7.776 5.92 7.456 16.416 6.016 25.088-2.304 7.488-9.152 11.968-14.848 16.736-58.272 49.504-116.512 99.072-174.784 148.544-4.48 4.416-10.912 5.44-16.768 6.912-5.696 40.8-13.376 81.28-18.08 122.208 6.528 16.32 5.28 34.368 8.16 51.488 1.984 8.864-1.728 17.792-7.84 24.128-24.608 23.552-47.776 48.544-72.544 71.936-8.96 9.056-24.864 6.912-32.96-2.272-51.136-51.008-101.92-102.368-153.056-153.312-71.616 70.784-142.272 142.624-213.632 213.664-11.424 11.008-21.44 24.384-35.968 31.424-14.144 4.8-31.008 4.512-43.84-3.776-10.336-7.616-19.36-18.144-21.76-31.072-3.808-16.288 2.208-33.984 14.592-45.056 77.344-78.144 155.424-155.616 232.768-233.728-56.736-56.032-112.64-113.024-169.216-169.248-8.128-9.088-7.648-26.016 2.368-33.632 24.416-24.672 48.992-49.12 73.44-73.696 3.808-3.424 9.056-4.16 13.984-4.096 18.112.192 36.064 2.944 53.984 5.408 41.824-4.8 83.744-8.992 125.408-15.264.608-6.048 2.624-11.904 6.528-16.64 49.44-58.24 98.848-116.544 148.096-174.976z",fill:"#FEDAA3"}})])]):s._e(),s.btnConfig.showCollect?a("div",{staticClass:"u-icon-d",on:{click:function(t){return s.clickDrawer({type:"collect",text:"收藏"},1)}}},[s.isCollect?a("svg",{staticClass:"icon",class:"u-icon active",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{d:"M467.584 153.568c11.136-13.312 26.208-25.952 44.544-25.632 21.76-.064 38.016 16.992 50.272 33.056 23.968 32.576 42.336 68.768 62.368 103.808 10.112 17.472 18.944 35.776 30.944 52.096 8.48 11.616 22.08 17.824 35.712 21.056 41.6 10.4 83.744 18.528 125.152 29.792 21.6 6.304 44.192 12.64 61.952 27.136 15.04 12.096 20.992 33.408 15.552 51.776-6.752 23.456-22.208 42.976-36.832 62.048-23.584 29.536-48.576 57.92-72.992 86.784C662.688 473.28 540.384 351.904 418.88 229.664c15.072-26.048 29.408-52.8 48.704-76.096zm-261.696 10.688c2.624.128 7.872.32 10.464.448l-.384 2.816c9.92.928 18.688 6.432 25.568 13.376 39.424 39.488 78.976 78.848 118.304 118.4 45.024 42.464 87.808 87.232 131.904 130.656C577.6 515.808 663.36 601.728 749.312 687.488c38.24 40.672 78.656 79.232 117.76 119.04 9.824 10.336 22.208 19.36 27.2 33.216 3.552 14.464 1.76 31.328-9.568 42.016-14.528 17.792-44.448 19.168-60.544 2.816-18.272-17.984-36.544-36.032-54.336-54.496-.384 20.736-4.704 44.672-22.784 57.536-17.76 12.8-41.184 8.64-60.704 2.72-38.56-12.352-74.752-30.816-111.648-47.296-17.632-7.616-34.624-17.312-53.44-21.792-14.848-3.392-29.472 2.72-42.848 8.544-38.368 17.12-76.128 35.648-115.072 51.456C344.32 888.544 324.672 896 304 896.032c-15.68.16-31.328-7.968-39.296-21.632-10.368-17.44-10.88-38.528-11.072-58.304 1.088-50.336 7.936-100.288 11.968-150.432 1.088-14.304 1.504-29.568-5.568-42.56-8.832-16.032-21.952-29.024-33.472-43.072-26.752-31.968-55.168-62.752-78.816-97.184-12.576-18.88-24.896-42.016-17.568-65.248 6.176-20.832 26.688-32.352 45.664-39.648 36.256-13.536 74.496-20.544 112.032-29.536-35.2-34.912-70.08-70.144-105.248-105.12-7.616-7.424-14.272-16.544-15.264-27.424l-2.848.608.384-13.696 2.656.896c2.624-18.88 19.616-34.656 38.496-36.608l-.16-2.816z",fill:"#FEDAA3"}})]):a("svg",{staticClass:"icon",class:"u-icon active",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{d:"M402.678 258.867C451.328 171.622 475.635 128 512 128c36.365 0 60.672 43.622 109.322 130.867l12.595 22.58c13.824 24.806 20.736 37.209 31.488 45.388 10.752 8.18 24.192 11.213 51.072 17.28l24.419 5.53c94.464 21.389 141.654 32.067 152.906 68.201 11.212 36.096-20.967 73.767-85.36 149.07l-16.666 19.468c-18.278 21.389-27.456 32.102-31.565 45.312-4.109 13.248-2.726 27.533.039 56.064l2.534 25.997c9.715 100.493 14.592 150.72-14.822 173.033-29.412 22.31-73.648 1.959-162.045-38.748l-22.922-10.522c-25.113-11.597-37.67-17.357-50.995-17.357s-25.882 5.76-50.995 17.357l-22.883 10.522c-88.436 40.707-132.672 61.059-162.048 38.787-29.45-22.352-24.576-72.58-14.858-173.072l2.534-25.959c2.765-28.57 4.148-42.854 0-56.064-4.07-13.248-13.248-23.961-31.526-45.312l-16.666-19.507c-64.393-75.264-96.576-112.934-85.36-149.069 11.213-36.134 58.48-46.85 152.944-68.201l24.423-5.53c26.838-6.067 40.24-9.1 51.03-17.28 10.79-8.179 17.664-20.582 31.488-45.389l12.595-22.579z",fill:"#FEDAA3"}})])]):s._e(),s.btnConfig.showLaterOn?a("div",{staticClass:"u-icon-d",on:{click:s.laterOn}},[a("svg",{staticClass:"icon",class:"u-icon",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{d:"M512 85.333c-234.667 0-426.667 192-426.667 426.667s192 426.667 426.667 426.667 426.667-192 426.667-426.667S746.667 85.333 512 85.333zm0 768c-188.16 0-341.333-153.173-341.333-341.333S323.84 170.667 512 170.667 853.333 323.84 853.333 512 700.16 853.333 512 853.333zm21.333-522.666a32 32 0 00-64 0v192.199a56.889 56.889 0 0027.08 48.47l167.196 102.883a32.37 32.37 0 1033.65-55.325l-136.306-81.778a56.889 56.889 0 01-27.62-48.782V330.667z",fill:"#FEDAA3"}})])]):s._e()]),s.btnConfig.showMore?a("div",{staticClass:"m-more",on:{click:s.setMore}},[s._v(" 更多 ")]):s._e()]):s._e(),!s.btnConfig.showPin||s.btnConfig.showHome||s.btnConfig.showIcon?s._e():a("div",{staticClass:"m-pin-box"},[s._l(s.fixList,(function(t,i){var e;return a("div",{key:"fix"+i,staticClass:"u-item"},["text"==t.type?a("div",{staticClass:"u-text-r"},[s._v(" "+s._s((null===(e=t.title.match(/[\u3400-\u9FFF\uF900-\uFAFF]/))||void 0===e?void 0:e[0])||"固")+" ")]):a("img",{staticClass:"u-icon",attrs:{src:t.imgUrl}})])})),s._l(3-s.fixList.length,(function(t,i){return a("div",{key:"fix_no"+i,staticClass:"u-item"},[a("svg",{class:"u-icon",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("g",{attrs:{opacity:".2",stroke:"#FEDAA3","stroke-width":"2"}},[a("circle",{attrs:{cx:"12",cy:"12",r:"11","stroke-dasharray":"4 4"}}),a("path",{attrs:{d:"M8 12h8M12 8v8"}})])])])}))],2),a("el-drawer",{staticClass:"p-drawer-suspend",attrs:{title:s.drawerConfig.drawerTitle,visible:s.drawer,direction:s.drawerConfig.direction,"with-header":!1,"custom-class":"u-drawer","modal-append-to-body":!1,"append-to-body":""},on:{"update:visible":function(t){s.drawer=t},close:function(t){s.areaKey="home"}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:"home"===s.areaKey,expression:"areaKey === 'home'"}],staticClass:"p-drawer-suspend_box p-bt-transition"},[a("div",{staticClass:"u-drawer-box"},s._l(s.drawerFiltration(s.drawerType.one),(function(t){var i,e,n,c,r,o,l,u;return a("div",{key:t.type,staticClass:"u-item top",on:{click:function(i){return s.clickDrawer(t)}}},[t.icon||t.icon_slash?a("div",{staticClass:"u-icon"},[a("img",{attrs:{src:"pin"==t.type&&s.fixIsActive?t.icon_slash:t.icon,"svg-inline":""}})]):s._e(),t.isSlot?a("div",{staticClass:"u-self"},[a("div",{staticClass:"u-circle-top"},[null!==(i=s.fixList)&&void 0!==i&&i[0]?a("div",["text"==(null===(e=s.fixList)||void 0===e||null===(n=e[0])||void 0===n?void 0:n.type)?a("div",{staticClass:"u-text-r"},[s._v(" "+s._s((null===(c=s.fixList)||void 0===c||null===(r=c[0])||void 0===r||null===(o=r.title.match(/[\u3400-\u9FFF\uF900-\uFAFF]/))||void 0===o?void 0:o[0])||"固")+" ")]):a("img",{staticClass:"u-icon",attrs:{src:null===(l=s.fixList)||void 0===l||null===(u=l[0])||void 0===u?void 0:u.imgUrl}})]):a("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("g",{attrs:{opacity:".2",stroke:"#FEDAA3","stroke-width":"2"}},[a("circle",{attrs:{cx:"12",cy:"12",r:"11","stroke-dasharray":"4 4"}}),a("path",{attrs:{d:"M8 12h8M12 8v8"}})])])]),a("div",{staticClass:"u-circle-bottom"},s._l(2,(function(t,i){var e,n,c,r,o,l;return a("div",{key:t,staticClass:"u-circle"},[null!==(e=s.fixList)&&void 0!==e&&e[i+1]?a("div",["text"==(null===(n=s.fixList)||void 0===n||null===(c=n[i+1])||void 0===c?void 0:c.type)?a("div",{staticClass:"u-text-r"},[s._v(" "+s._s((null===(r=s.fixList)||void 0===r||null===(o=r[i+1].title.match(/[\u3400-\u9FFF\uF900-\uFAFF]/))||void 0===o?void 0:o[0])||"固")+" ")]):a("img",{staticClass:"u-icon",attrs:{src:null===(l=s.fixList)||void 0===l?void 0:l[i+1].imgUrl}})]):a("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("g",{attrs:{opacity:".2",stroke:"#FEDAA3","stroke-width":"2"}},[a("circle",{attrs:{cx:"12",cy:"12",r:"11","stroke-dasharray":"4 4"}}),a("path",{attrs:{d:"M8 12h8M12 8v8"}})])])])})),0)]):s._e(),a("div",{staticClass:"u-text",class:t.type},[s._v(" "+s._s("pin"==t.type&&s.fixIsActive?t.text_slash:t.text)+" ")])])})),0),a("div",{staticClass:"u-drawer-box"},s._l(s.drawerFiltration(s.drawerType.two),(function(t){return a("div",{key:t.type,staticClass:"u-item",on:{click:function(i){return s.clickDrawer(t)}}},[t.icon?a("div",{staticClass:"u-icon"},[a("img",{attrs:{src:t.icon,"svg-inline":""}})]):s._e(),a("div",{staticClass:"u-text",class:t.type},[s._v(" "+s._s(t.text)+" ")])])})),0),a("div",{staticClass:"u-drawer-box"},s._l(s.drawerFiltration(s.drawerType.three),(function(t){return a("div",{key:t.type,staticClass:"u-item",class:t.type,on:{click:function(i){return s.clickDrawer(t)}}},[t.isSlot?a("div",{staticClass:"u-author"},[a("div",{staticClass:"u-avatar"},[a("img",{attrs:{src:s.drawerConfig.author.avatar}})]),a("div",{staticClass:"u-author-name"},[s._v(" "+s._s(s.drawerConfig.author.name)+" ")])]):s._e(),t.isSlot?s._e():a("div",{staticClass:"u-text"},[s._v(" "+s._s(t.text)+" ")])])})),0)]),a("transition",{attrs:{name:"slide-up"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:"collect"===s.areaKey||"rss"===s.areaKey,expression:"areaKey === 'collect' || areaKey === 'rss'"}],staticClass:"p-drawer-collect p-bt-transition"},[a("div",{staticClass:"u-collect-icon"},["collect"!==s.areaKey||s.isCollect?s._e():a("svg",{staticClass:"icon",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{d:"M402.678 258.867C451.328 171.622 475.635 128 512 128c36.365 0 60.672 43.622 109.322 130.867l12.595 22.58c13.824 24.806 20.736 37.209 31.488 45.388 10.752 8.18 24.192 11.213 51.072 17.28l24.419 5.53c94.464 21.389 141.654 32.067 152.906 68.201 11.212 36.096-20.967 73.767-85.36 149.07l-16.666 19.468c-18.278 21.389-27.456 32.102-31.565 45.312-4.109 13.248-2.726 27.533.039 56.064l2.534 25.997c9.715 100.493 14.592 150.72-14.822 173.033-29.412 22.31-73.648 1.959-162.045-38.748l-22.922-10.522c-25.113-11.597-37.67-17.357-50.995-17.357s-25.882 5.76-50.995 17.357l-22.883 10.522c-88.436 40.707-132.672 61.059-162.048 38.787-29.45-22.352-24.576-72.58-14.858-173.072l2.534-25.959c2.765-28.57 4.148-42.854 0-56.064-4.07-13.248-13.248-23.961-31.526-45.312l-16.666-19.507c-64.393-75.264-96.576-112.934-85.36-149.069 11.213-36.134 58.48-46.85 152.944-68.201l24.423-5.53c26.838-6.067 40.24-9.1 51.03-17.28 10.79-8.179 17.664-20.582 31.488-45.389l12.595-22.579z",fill:"#D9D9D9"}})]),"collect"===s.areaKey&&s.isCollect?a("svg",{staticClass:"icon",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{d:"M467.584 153.568c11.136-13.312 26.208-25.952 44.544-25.632 21.76-.064 38.016 16.992 50.272 33.056 23.968 32.576 42.336 68.768 62.368 103.808 10.112 17.472 18.944 35.776 30.944 52.096 8.48 11.616 22.08 17.824 35.712 21.056 41.6 10.4 83.744 18.528 125.152 29.792 21.6 6.304 44.192 12.64 61.952 27.136 15.04 12.096 20.992 33.408 15.552 51.776-6.752 23.456-22.208 42.976-36.832 62.048-23.584 29.536-48.576 57.92-72.992 86.784C662.688 473.28 540.384 351.904 418.88 229.664c15.072-26.048 29.408-52.8 48.704-76.096zm-261.696 10.688c2.624.128 7.872.32 10.464.448l-.384 2.816c9.92.928 18.688 6.432 25.568 13.376 39.424 39.488 78.976 78.848 118.304 118.4 45.024 42.464 87.808 87.232 131.904 130.656C577.6 515.808 663.36 601.728 749.312 687.488c38.24 40.672 78.656 79.232 117.76 119.04 9.824 10.336 22.208 19.36 27.2 33.216 3.552 14.464 1.76 31.328-9.568 42.016-14.528 17.792-44.448 19.168-60.544 2.816-18.272-17.984-36.544-36.032-54.336-54.496-.384 20.736-4.704 44.672-22.784 57.536-17.76 12.8-41.184 8.64-60.704 2.72-38.56-12.352-74.752-30.816-111.648-47.296-17.632-7.616-34.624-17.312-53.44-21.792-14.848-3.392-29.472 2.72-42.848 8.544-38.368 17.12-76.128 35.648-115.072 51.456C344.32 888.544 324.672 896 304 896.032c-15.68.16-31.328-7.968-39.296-21.632-10.368-17.44-10.88-38.528-11.072-58.304 1.088-50.336 7.936-100.288 11.968-150.432 1.088-14.304 1.504-29.568-5.568-42.56-8.832-16.032-21.952-29.024-33.472-43.072-26.752-31.968-55.168-62.752-78.816-97.184-12.576-18.88-24.896-42.016-17.568-65.248 6.176-20.832 26.688-32.352 45.664-39.648 36.256-13.536 74.496-20.544 112.032-29.536-35.2-34.912-70.08-70.144-105.248-105.12-7.616-7.424-14.272-16.544-15.264-27.424l-2.848.608.384-13.696 2.656.896c2.624-18.88 19.616-34.656 38.496-36.608l-.16-2.816z",fill:"#D9D9D9"}})]):s._e(),"rss"!==s.areaKey||s.isSubscribe?s._e():a("svg",{staticClass:"icon",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{d:"M224.096 703.952A95.994 95.994 0 00128 799.856a96.003 96.003 0 00163.814 68.045 95.997 95.997 0 00-67.718-163.949zM224 128a96 96 0 100 192c264.672 0 480 215.328 480 480a96 96 0 00192 0c0-370.56-301.44-672-672-672zm0 288a96 96 0 000 192c105.84 0 192 86.112 192 192a96 96 0 00192 0c0-211.728-172.272-384-384-384z",fill:"#D9D9D9"}})]),"rss"===s.areaKey&&s.isSubscribe?a("svg",{staticClass:"icon",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{d:"M469.115 105.196c11.807-2.171 23.654-4.69 35.727-4.588 40.878-1.25 82.146 13.312 112.835 40.438 16.435 13.967 29.092 31.774 39.342 50.626C747.489 348.436 838.01 505.16 928.47 661.914c5.857 10.188 12.022 20.224 16.845 30.965 8.694 20.07 14.152 41.872 13.814 63.837 1.351 42.731-15.924 85.34-45.23 116.264-26.676 28.56-64.031 46.736-102.912 50.35-10.507 1.403-21.115.635-31.673.83-187.71.03-375.408-.061-563.108.051.359-.246 1.076-.747 1.434-.993 195.45-.082 390.953.082 586.435-.072-195.974-.225-391.967.041-587.92-.143l-1.485.573c-12.85-.03-25.712-2.785-38.062-6.328-37.16-10.742-69.734-35.645-90.665-68.065-26.316-40.018-33.986-91.792-19.67-137.564 4.638-15.965 12.564-30.68 21.022-44.893 90.225-156.231 180.398-312.473 270.602-468.705 7.189-12.4 13.978-25.14 23.143-36.229 20.582-25.836 49.234-45.138 80.967-54.385 2.857-.942 5.786-1.822 8.848-1.597-.584-.205-1.168-.41-1.741-.614m27.515 57.958c-12.432 1.608-24.627 5.294-35.707 11.192-17.644 9.175-32.103 23.962-41.718 41.298-94.69 164.045-189.389 328.09-284.098 492.124-8.582 14.818-13.927 31.816-13.947 49.02-1.3 34.825 17.141 69.416 46.151 88.534 16.139 10.722 35.441 16.906 54.866 16.681 191.847-.02 383.693 0 575.54-.02 34.037-.031 66.734-19.61 84.275-48.548 13.752-22.108 18.985-49.551 13.363-75.039-2.632-13.076-8.346-25.303-15.34-36.577-94.29-163.359-188.6-326.687-282.89-490.025-4.157-6.523-8.632-12.923-14.244-18.278-21.627-23.225-54.958-34.325-86.251-30.362z",fill:"#D9D9D9"}}),a("path",{attrs:{d:"M478.484 305.09c.062-15.493 13.968-29.378 29.461-29.398 10.568-.81 21.289 4.7 27.044 13.547 5.243 7.598 5.929 17.234 5.775 26.194 0 104.417-.01 208.845 0 313.272.103 3.339.051 6.677-.614 9.974-1.106 13.783-12.38 25.917-26.133 27.76-17.48 3.329-35.789-11.591-35.533-29.511-.01-110.612-.02-221.225 0-331.837zm24.054 413.574c7.65-1.219 15.872-.676 22.661 3.369 8.459 4.782 14.674 13.64 15.709 23.367 2.068 13.691-6.216 28.089-19.108 33.178-10.486 4.383-23.358 2.662-32.082-4.72-12.514-9.729-15.135-29.43-5.97-42.24 4.198-6.657 11.336-10.896 18.79-12.954z",fill:"#D9D9D9"}})]):s._e(),"collect"===s.areaKey&&!s.isCollect||"rss"===s.areaKey&&!s.isSubscribe?a("div",{staticClass:"u-text"},[s._v(" "+s._s("collect"===s.areaKey?"收藏":"订阅")+"作品 ")]):s._e()]),"collect"===s.areaKey?a("div",{staticClass:"u-collect-tips"},[s._v(" "+s._s(s.isCollect?"你已经收藏该作品":"喜欢程度不够？可以试试添加到稍后再看")+" ")]):s._e(),"rss"===s.areaKey?a("div",{staticClass:"u-collect-tips"},[s._v(" "+s._s(s.isSubscribe?"你已经订阅该作品":"喜欢程度不够？可以试试添加到稍后再看")+" ")]):s._e(),a("div",{staticClass:"u-btn-box"},[a("div",{staticClass:"u-btn collect",on:{click:s.collectOrSubscribe}},[s._v(" "+s._s("collect"===s.areaKey?s.isCollect?"取消收藏":"收藏":s.isSubscribe?"取消订阅":"订阅")+"作品 ")]),a("div",{staticClass:"u-btn",on:{click:s.laterOn}},[s._v("添加到稍后再看")])])])]),a("transition",{attrs:{name:"slide-up"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:"pin"===s.areaKey||"fix"===s.areaKey,expression:"areaKey === 'pin' || areaKey === 'fix'"}],staticClass:"p-drawer-fix p-bt-transition"},[s.fixIsEdit?s._e():a("div",{staticClass:"u-collect-icon"},[s.fixIsActive||s.fixIsFull?s._e():a("svg",{staticClass:"icon",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{d:"M624.864 119.424c6.144-7.872 13.696-16.928 24.672-16.64 7.68-.736 14.24 3.808 19.2 9.184 81.984 82.304 164.32 164.192 246.08 246.688 7.776 5.92 7.456 16.416 6.016 25.088-2.304 7.488-9.152 11.968-14.848 16.736-58.272 49.504-116.512 99.072-174.784 148.544-4.48 4.416-10.912 5.44-16.768 6.912-5.696 40.8-13.376 81.28-18.08 122.208 6.528 16.32 5.28 34.368 8.16 51.488 1.984 8.864-1.728 17.792-7.84 24.128-24.608 23.552-47.776 48.544-72.544 71.936-8.96 9.056-24.864 6.912-32.96-2.272-51.136-51.008-101.92-102.368-153.056-153.312-71.616 70.784-142.272 142.624-213.632 213.664-11.424 11.008-21.44 24.384-35.968 31.424-14.144 4.8-31.008 4.512-43.84-3.776-10.336-7.616-19.36-18.144-21.76-31.072-3.808-16.288 2.208-33.984 14.592-45.056 77.344-78.144 155.424-155.616 232.768-233.728-56.736-56.032-112.64-113.024-169.216-169.248-8.128-9.088-7.648-26.016 2.368-33.632 24.416-24.672 48.992-49.12 73.44-73.696 3.808-3.424 9.056-4.16 13.984-4.096 18.112.192 36.064 2.944 53.984 5.408 41.824-4.8 83.744-8.992 125.408-15.264.608-6.048 2.624-11.904 6.528-16.64 49.44-58.24 98.848-116.544 148.096-174.976z",fill:"#D9D9D9"}})]),s.fixIsActive&&!s.fixIsFull?a("svg",{staticClass:"icon",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{d:"M128.64 160.384c-4.864-29.856 24.224-58.912 54.048-54.112 22.432 2.432 35.264 23.072 50.688 36.96C461.312 371.104 689.152 599.04 917.088 826.88c12.064 11.968 27.392 24.8 26.624 43.488 3.584 27.84-23.2 54.56-51.072 50.912-19.584.64-32.544-15.84-45.056-28.384-49.184-48.96-98.048-98.24-147.328-147.136-22.816 22.848-45.696 45.632-68.48 68.512-5.056 4.864-10.112 10.72-17.472 11.872-8.832 1.92-17.44-2.88-23.296-9.152C541.28 766.88 490.976 717.344 441.44 667.04c-76.384 76.736-153.184 153.12-229.632 229.856-13.088 13.568-34.24 19.04-51.968 12-19.52-6.816-33.408-27.552-31.456-48.288.48-12.224 7.008-23.328 15.52-31.776 76.608-76.64 153.28-153.216 229.856-229.92-55.296-53.472-108.8-108.8-163.648-162.752-7.456-6.368-10.976-17.312-7.52-26.656 2.08-8.16 9.44-13.056 14.976-18.752 21.344-21.44 42.72-42.784 64.128-64.128-39.008-38.016-77.088-76.96-115.776-115.296-13.888-15.616-34.752-28.384-37.28-50.944zm511.84-50.592c9.344-5.088 20.896-1.664 27.776 5.92 80.608 80.448 161.024 161.056 241.632 241.504 6.24 5.888 11.392 14.368 9.504 23.296-.896 8.512-8.256 13.76-13.856 19.328-58.56 49.184-116.64 99.008-175.168 148.224-9.824 8.8-25.792 6.976-34.016-3.072C624 473.408 551.84 401.6 479.68 329.856c-8.704-7.808-10.016-22.528-2.112-31.36 42.56-50.368 85.44-100.512 127.872-150.976 12.128-12.128 20.64-28.096 35.04-37.728z",fill:"#D9D9D9"}})]):s._e(),s.fixIsFull?a("svg",{staticClass:"icon",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{d:"M469.115 105.196c11.807-2.171 23.654-4.69 35.727-4.588 40.878-1.25 82.146 13.312 112.835 40.438 16.435 13.967 29.092 31.774 39.342 50.626C747.489 348.436 838.01 505.16 928.47 661.914c5.857 10.188 12.022 20.224 16.845 30.965 8.694 20.07 14.152 41.872 13.814 63.837 1.351 42.731-15.924 85.34-45.23 116.264-26.676 28.56-64.031 46.736-102.912 50.35-10.507 1.403-21.115.635-31.673.83-187.71.03-375.408-.061-563.108.051.359-.246 1.076-.747 1.434-.993 195.45-.082 390.953.082 586.435-.072-195.974-.225-391.967.041-587.92-.143l-1.485.573c-12.85-.03-25.712-2.785-38.062-6.328-37.16-10.742-69.734-35.645-90.665-68.065-26.316-40.018-33.986-91.792-19.67-137.564 4.638-15.965 12.564-30.68 21.022-44.893 90.225-156.231 180.398-312.473 270.602-468.705 7.189-12.4 13.978-25.14 23.143-36.229 20.582-25.836 49.234-45.138 80.967-54.385 2.857-.942 5.786-1.822 8.848-1.597-.584-.205-1.168-.41-1.741-.614m27.515 57.958c-12.432 1.608-24.627 5.294-35.707 11.192-17.644 9.175-32.103 23.962-41.718 41.298-94.69 164.045-189.389 328.09-284.098 492.124-8.582 14.818-13.927 31.816-13.947 49.02-1.3 34.825 17.141 69.416 46.151 88.534 16.139 10.722 35.441 16.906 54.866 16.681 191.847-.02 383.693 0 575.54-.02 34.037-.031 66.734-19.61 84.275-48.548 13.752-22.108 18.985-49.551 13.363-75.039-2.632-13.076-8.346-25.303-15.34-36.577-94.29-163.359-188.6-326.687-282.89-490.025-4.157-6.523-8.632-12.923-14.244-18.278-21.627-23.225-54.958-34.325-86.251-30.362z",fill:"#D9D9D9"}}),a("path",{attrs:{d:"M478.484 305.09c.062-15.493 13.968-29.378 29.461-29.398 10.568-.81 21.289 4.7 27.044 13.547 5.243 7.598 5.929 17.234 5.775 26.194 0 104.417-.01 208.845 0 313.272.103 3.339.051 6.677-.614 9.974-1.106 13.783-12.38 25.917-26.133 27.76-17.48 3.329-35.789-11.591-35.533-29.511-.01-110.612-.02-221.225 0-331.837zm24.054 413.574c7.65-1.219 15.872-.676 22.661 3.369 8.459 4.782 14.674 13.64 15.709 23.367 2.068 13.691-6.216 28.089-19.108 33.178-10.486 4.383-23.358 2.662-32.082-4.72-12.514-9.729-15.135-29.43-5.97-42.24 4.198-6.657 11.336-10.896 18.79-12.954z",fill:"#D9D9D9"}})]):s._e(),a("div",{staticClass:"u-text"},[s._v(s._s(s.fixIsActive?"取消固定":"固定内容"))])]),s.fixIsActive||s.fixIsEdit?s._e():a("div",{staticClass:"u-collect-tips"},[s._v(" 你可以随时在其他页面查看固定的内容 ")]),s.fixIsEdit?a("div",{staticClass:"u-edit-title"},[s._v("固定内容")]):s._e(),a("div",{staticClass:"u-pin-box"},[s.fixIsEdit?s._e():a("div",{staticClass:"u-item"},["text"==s.fixPageConfig.type?a("div",{staticClass:"u-text-r"},[s._v(" "+s._s((null===(t=s.fixPageConfig.title.match(/[\u3400-\u9FFF\uF900-\uFAFF]/))||void 0===t?void 0:t[0])||"固")+" ")]):a("img",{staticClass:"u-icon",attrs:{src:s.fixPageConfig.imgUrl}}),a("div",{staticClass:"u-text"},[s._v(s._s(s.fixPageConfig.title))])]),s._l(s.fixIsEdit?s.fixList:[],(function(t,i){var e;return a("div",{key:"fix"+i,staticClass:"u-item",on:{click:function(i){return s.fixDataClick(t)}}},["text"==t.type?a("div",{staticClass:"u-text-r"},[s._v(" "+s._s((null===(e=t.title.match(/[\u3400-\u9FFF\uF900-\uFAFF]/))||void 0===e?void 0:e[0])||"固")+" ")]):a("img",{staticClass:"u-icon",attrs:{src:t.imgUrl}}),a("div",{staticClass:"u-text"},[s._v(s._s(t.title))]),s.fixIsEdit?a("div",{staticClass:"u-slash",on:{click:function(i){return s.cancelFix(t)}}},[a("svg",{staticClass:"icon",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{d:"M128.64 160.384c-4.864-29.856 24.224-58.912 54.048-54.112 22.432 2.432 35.264 23.072 50.688 36.96C461.312 371.104 689.152 599.04 917.088 826.88c12.064 11.968 27.392 24.8 26.624 43.488 3.584 27.84-23.2 54.56-51.072 50.912-19.584.64-32.544-15.84-45.056-28.384-49.184-48.96-98.048-98.24-147.328-147.136-22.816 22.848-45.696 45.632-68.48 68.512-5.056 4.864-10.112 10.72-17.472 11.872-8.832 1.92-17.44-2.88-23.296-9.152C541.28 766.88 490.976 717.344 441.44 667.04c-76.384 76.736-153.184 153.12-229.632 229.856-13.088 13.568-34.24 19.04-51.968 12-19.52-6.816-33.408-27.552-31.456-48.288.48-12.224 7.008-23.328 15.52-31.776 76.608-76.64 153.28-153.216 229.856-229.92-55.296-53.472-108.8-108.8-163.648-162.752-7.456-6.368-10.976-17.312-7.52-26.656 2.08-8.16 9.44-13.056 14.976-18.752 21.344-21.44 42.72-42.784 64.128-64.128-39.008-38.016-77.088-76.96-115.776-115.296-13.888-15.616-34.752-28.384-37.28-50.944zm511.84-50.592c9.344-5.088 20.896-1.664 27.776 5.92 80.608 80.448 161.024 161.056 241.632 241.504 6.24 5.888 11.392 14.368 9.504 23.296-.896 8.512-8.256 13.76-13.856 19.328-58.56 49.184-116.64 99.008-175.168 148.224-9.824 8.8-25.792 6.976-34.016-3.072C624 473.408 551.84 401.6 479.68 329.856c-8.704-7.808-10.016-22.528-2.112-31.36 42.56-50.368 85.44-100.512 127.872-150.976 12.128-12.128 20.64-28.096 35.04-37.728z",fill:"#D9D9D9"}})])]):s._e()])})),s._l(s.fixIsEdit?3-s.fixList.length:0,(function(t,i){return a("div",{key:"fix_no"+i,staticClass:"u-item"},[a("svg",{class:"u-icon",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("g",{attrs:{opacity:".2",stroke:"#FEDAA3","stroke-width":"2"}},[a("circle",{attrs:{cx:"12",cy:"12",r:"11","stroke-dasharray":"4 4"}}),a("path",{attrs:{d:"M8 12h8M12 8v8"}})])])])}))],2),s.fixIsEdit?s._e():a("div",{staticClass:"u-btn-box"},[a("div",{staticClass:"u-btn collect",on:{click:s.fixClick}},[s._v("确定")])]),s.fixIsActive&&!s.fixIsEdit?a("div",{staticClass:"u-collect-tips"},[s._v(" 你可以在原页面再次将其固定 ")]):s._e(),s.fixIsEdit?a("div",{staticClass:"u-collect-tips edit"},[s._v(" 在支持固定的页面可以按 "),a("svg",{staticClass:"icon",class:"u-icon",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{d:"M624.864 119.424c6.144-7.872 13.696-16.928 24.672-16.64 7.68-.736 14.24 3.808 19.2 9.184 81.984 82.304 164.32 164.192 246.08 246.688 7.776 5.92 7.456 16.416 6.016 25.088-2.304 7.488-9.152 11.968-14.848 16.736-58.272 49.504-116.512 99.072-174.784 148.544-4.48 4.416-10.912 5.44-16.768 6.912-5.696 40.8-13.376 81.28-18.08 122.208 6.528 16.32 5.28 34.368 8.16 51.488 1.984 8.864-1.728 17.792-7.84 24.128-24.608 23.552-47.776 48.544-72.544 71.936-8.96 9.056-24.864 6.912-32.96-2.272-51.136-51.008-101.92-102.368-153.056-153.312-71.616 70.784-142.272 142.624-213.632 213.664-11.424 11.008-21.44 24.384-35.968 31.424-14.144 4.8-31.008 4.512-43.84-3.776-10.336-7.616-19.36-18.144-21.76-31.072-3.808-16.288 2.208-33.984 14.592-45.056 77.344-78.144 155.424-155.616 232.768-233.728-56.736-56.032-112.64-113.024-169.216-169.248-8.128-9.088-7.648-26.016 2.368-33.632 24.416-24.672 48.992-49.12 73.44-73.696 3.808-3.424 9.056-4.16 13.984-4.096 18.112.192 36.064 2.944 53.984 5.408 41.824-4.8 83.744-8.992 125.408-15.264.608-6.048 2.624-11.904 6.528-16.64 49.44-58.24 98.848-116.544 148.096-174.976z",fill:"#FEDAA3"}})]),s._v(" 将页面固定 ")]):s._e()])]),a("transition",{attrs:{name:"slide-up"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:"fixData"===s.areaKey,expression:"areaKey === 'fixData'"}],staticClass:"p-drawer-fixData p-bt-transition"},[a("div",{staticClass:"u-icon",on:{click:s.openUrl}},[a("img",{attrs:{src:e("861a"),"svg-inline":""}})]),null!==(i=s.iframeInfo)&&void 0!==i&&i.url?a("iframe",{staticClass:"u-iframe",attrs:{src:s.iframeInfo.openurl,frameborder:"0",width:"100%",height:"100%"}}):a("span",[s._v("查找页面失败")])])])],1)],1)},a=[],n=(e("4de4"),e("caad"),e("14d9"),e("e9f5"),e("910d"),e("a732"),e("e9c4"),e("b64b"),e("d3b7"),e("2532"),e("5087"),e("41cb"));function c(t,i){return Object(n["c"])().post("/api/next2/rss/subscribe/author/"+t,i)}function r(t){return Object(n["c"])().delete("/api/next2/rss/subscribe/author/"+t)}function o(t){return Object(n["c"])().get("/api/next2/rss/overview/author/"+t)}function l(t,i){return Object(n["c"])().post("/api/next2/rss/subscribe/community/"+t,i)}function u(t){return Object(n["c"])().delete("/api/next2/rss/subscribe/community/"+t)}function d(t){return Object(n["c"])().get("/api/next2/rss/overview/community/"+t)}function f(t,i,e){return Object(n["c"])().post(`/api/next2/rss/subscribe/posts/${t}/${i}`,e)}function h(t,i){return Object(n["c"])().delete(`/api/next2/rss/subscribe/posts/${t}/${i}`)}function p(t,i){return Object(n["c"])().get(`/api/next2/rss/overview/posts/${t}/${i}`)}function v(t,i,e){return Object(n["c"])().post(`/api/next2/rss/subscribe/wiki/${t}/${i}`,e)}function b(t,i){return Object(n["c"])().delete(`/api/next2/rss/subscribe/wiki/${t}/${i}`)}function m(t,i){return Object(n["c"])().get(`/api/next2/rss/overview/wiki/${t}/${i}`)}function g(t){return Object(n["c"])().post("/api/next2/userdata/watch-later/item",t)}function w(t,i,e){return Object(n["c"])().post(`/api/article/favorites/add/${t}/${i}`,{post_title:e})}function x(t,i){return Object(n["c"])().get(`/api/article/favorites/is-my/${t}/${i}`)}function _(t){return Object(n["c"])().delete("/api/article/favorites/my/"+t)}var C={components:{},props:{btnOptions:{type:Object,default:function(){return{}}},drawerOptions:{type:Object,default:function(){return{}}},fixPageOptions:{type:Object,default:function(){return{}}}},data:function(){return{isDarkModeStatus:!1,drawer:!1,areaKey:"home",drawerType:{one:[{type:"search",text:"搜索内容",icon:e("9012")},{type:"pin",text:"固定本页",icon:e("2f6a"),text_slash:"取消固定",icon_slash:e("279f")},{type:"fix",text:"查看固定",icon:null,isSlot:!0}],two:[{type:"collect",text:"收藏作品",icon:e("f243")},{type:"rss",text:"订阅作品",icon:e("6163")},{type:"laterOn",text:"稍后再看",icon:e("56dd")}],three:[{type:"user",text:"作者",isSlot:!0},{type:"report",text:"举报"}]},fixList:[],fixIsEdit:!1,isCollect:!1,collectInfo:{},isSubscribe:!1,subscribeInfo:{},iframeInfo:{}}},computed:{btnConfig:function(){var t={showHome:!1,showIcon:!0,showPin:!0,showSearch:!0,showFixed:!0,showCollect:!0,showLaterOn:!0,showMore:!0};return Object.assign({},t,this.btnOptions)},drawerConfig:function(){var t={hideType:["report"],direction:"btt",drawerTitle:"",author:{name:"",avatar:"",author_id:""},subscribeType:"",postType:"",id:"",title:document.title||"",url:window.location.href,laterOn:{author_id:0,content_meta_id:0}};return Object.assign({},t,this.drawerOptions)},fixPageConfig:function(){var t={key:"jx3box-common-fixed",type:"text",imgUrl:"",title:document.title||"",url:window.location.href};return Object.assign({},t,this.fixPageOptions)},drawerIsShow:function(){return Object.keys(this.drawerConfig).length>0},drawerIsAuthor:function(){return Object.keys(this.drawerConfig.author).length>0},fixIsFull:function(){return this.fixList.length>=3},fixIsActive:function(){var t=this;return this.fixList.some((function(i){return i.url===t.fixPageConfig.url}))}},created:function(){this.isDarkModeFun(),this.fixList=JSON.parse(localStorage.getItem(this.fixPageConfig.key))||[],this.getCollectInfo(),this.getSubscribeInfo()},methods:{isDarkModeFun:function(){var t=window.matchMedia("(prefers-color-scheme: dark)");this.isDarkModeStatus=t.matches},search:function(){this.$emit("search")},setMore:function(){this.drawer=!0,this.areaKey="home"},drawerFiltration:function(t){var i=this;return this.drawerConfig.hideType.length>0?t.filter((function(t){return!i.drawerConfig.hideType.includes(t.type)})):t},clickDrawer:function(t,i){1==i&&(this.drawer=!0);var e=["collect","rss","pin","fix"];if(e.includes(t.type)&&(this.areaKey=t.type),"search"===t.type&&this.search(),"fix"===t.type?this.fixIsEdit=!0:this.fixIsEdit=!1,"laterOn"===t.type&&this.laterOn(),console.log(t),"user"===t.type){var s="/author/"+this.drawerConfig.author.author_id;this.iframeInfo={url:s,openurl:s},this.areaKey="fixData"}this.$emit("clickBtn",{type:t.type,text:t.text})},fixClick:function(){var t=this;if(!this.fixIsFull){if(this.fixIsActive)this.fixList=this.fixList.filter((function(i){return i.url!==t.fixPageConfig.url})),localStorage.setItem(this.fixPageConfig.key,JSON.stringify(this.fixList));else{var i={type:this.fixPageConfig.type,title:this.fixPageConfig.title,url:this.fixPageConfig.url,imgUrl:this.fixPageConfig.imgUrl};this.fixList.push(i),localStorage.setItem(this.fixPageConfig.key,JSON.stringify(this.fixList))}this.areaKey="home",this.$emit("fixPage")}},cancelFix:function(t){this.fixList=this.fixList.filter((function(i){return i.url!==t.url})),localStorage.setItem(this.fixPageConfig.key,JSON.stringify(this.fixList)),this.areaKey="home",this.$emit("fixCancelIndividually")},fixDataClick:function(t){-1!=t.url.indexOf("?")?t.openurl=t.url+"&disabled=true":t.openurl=t.url+"?disabled=true",this.iframeInfo=t,this.areaKey="fixData",this.$emit("fixDataSwitch")},openUrl:function(){location.href=this.iframeInfo.url},collectOrSubscribe:function(){"collect"==this.areaKey?this.collect():this.subscribe()},collect:function(){var t=this,i=this.drawerConfig;this.isCollect?_(this.collectInfo.id).then((function(i){t.isCollect=!1,t.collectInfo={}})):w(i.id,i.postType,i.title).then((function(i){var e;t.isCollect=!0,t.collectInfo=null===(e=i.data)||void 0===e?void 0:e.data})),this.$emit("collect",{isCollect:this.isCollect})},getCollectInfo:function(){var t=this;(this.drawerConfig.id||this.drawerConfig.postType)&&x(this.drawerConfig.id,this.drawerConfig.postType).then((function(i){var e;t.collectInfo=i.data.data,t.isCollect=(null===(e=t.collectInfo)||void 0===e?void 0:e.id)>0}))},subscribe:function(){var t=this,i=this.drawerConfig;"author"===i.subscribeType&&(this.isSubscribe?r(i.author.author_id).then((function(i){t.isSubscribe=!1,t.subscribeInfo={},t.$emit("subscribe",{isSubscribe:t.isSubscribe})})):c(i.author.author_id,{title:i.title}).then((function(i){var e;t.isSubscribe=!0,t.subscribeInfo=null===(e=i.data)||void 0===e?void 0:e.data,t.$emit("subscribe",{isSubscribe:t.isSubscribe})}))),"community"===i.subscribeType&&(this.isSubscribe?u(i.id).then((function(i){t.isSubscribe=!1,t.subscribeInfo={},t.$emit("subscribe",{isSubscribe:t.isSubscribe})})):l(i.id,{title:i.title}).then((function(i){var e;t.isSubscribe=!0,t.subscribeInfo=null===(e=i.data)||void 0===e?void 0:e.data,t.$emit("subscribe",{isSubscribe:t.isSubscribe})}))),"posts"===i.subscribeType&&(this.isSubscribe?h(i.postType,i.id).then((function(i){t.isSubscribe=!1,t.subscribeInfo={},t.$emit("subscribe",{isSubscribe:t.isSubscribe})})):f(i.postType,i.id,{title:i.title}).then((function(i){var e;t.isSubscribe=!0,t.subscribeInfo=null===(e=i.data)||void 0===e?void 0:e.data,t.$emit("subscribe",{isSubscribe:t.isSubscribe})}))),"wiki"===i.subscribeType&&(this.isSubscribe?b(i.postType,i.id).then((function(i){t.isSubscribe=!1,t.subscribeInfo={},t.$emit("subscribe",{isSubscribe:t.isSubscribe})})):v(i.postType,i.id,{title:i.title}).then((function(i){var e;t.isSubscribe=!0,t.subscribeInfo=null===(e=i.data)||void 0===e?void 0:e.data,t.$emit("subscribe",{isSubscribe:t.isSubscribe})})))},getSubscribeInfo:function(){var t=this,i=this.drawerConfig;"author"===i.subscribeType&&i.author.author_id&&o(i.author.author_id).then((function(i){var e;t.isSubscribe=null===(e=i.data.data)||void 0===e?void 0:e.subscribed,t.subscribeInfo=i.data.data})),"community"===i.subscribeType&&i.id&&d(i.id).then((function(i){var e;t.isSubscribe=null===(e=i.data.data)||void 0===e?void 0:e.subscribed,t.subscribeInfo=i.data.data})),"posts"===i.subscribeType&&i.id&&i.postType&&p(i.postType,i.id).then((function(i){var e;t.isSubscribe=null===(e=i.data.data)||void 0===e?void 0:e.subscribed,t.subscribeInfo=i.data.data})),"wiki"===i.subscribeType&&i.id&&i.postType&&m(i.postType,i.id).then((function(i){var e;t.isSubscribe=null===(e=i.data.data)||void 0===e?void 0:e.subscribed,t.subscribeInfo=i.data.data}))},laterOn:function(){var t=this,i=this.drawerConfig,e={author_id:parseInt(i.laterOn.author_id),banner:"",category:i.postType,content_meta_id:parseInt(i.laterOn.content_meta_id),link:i.url,title:i.title};g(e).then((function(i){console.log(i),t.$message.success("已添加稍后再看"),t.areaKey="home",t.$emit("laterOn")}))}}},y=C,k=(e("fbc7"),e("2877")),O=Object(k["a"])(y,s,a,!1,null,null,null);i["a"]=O.exports},cf45:function(t,i,e){"use strict";e.d(i,"a",(function(){return a})),e.d(i,"b",(function(){return n}));e("99af"),e("fb6a"),e("ac1f"),e("5319"),e("498a");var s=e("85e4"),a=function(t){return t=t?t.trim().replace(/<[^>]*>/g,""):"",t.length>100?t.slice(0,100)+"...":t};function n(t,i,e,a){return Object(s["i"])("https://cdn.jx3box.com/design/avatar/mini/".concat(t,"-").concat(i,".png"),e,a)}},f243:function(t,i,e){t.exports=e.p+"img/collect_touchbar.ae335193.svg"},fbc7:function(t,i,e){"use strict";e("52df")}}]);
//# sourceMappingURL=chunk-fed11852.2c9630af.js.map