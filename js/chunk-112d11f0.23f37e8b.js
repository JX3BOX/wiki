(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-112d11f0"],{"0636":function(t,e,i){t.exports=i.p+"img/tog_15.4fe6939d.svg"},"0768":function(t,e,i){t.exports=i.p+"img/tog_17.6d3efb0a.svg"},"07cb":function(t,e,i){t.exports=i.p+"img/tog_12.3a6210fb.svg"},"0a8a":function(t,e,i){t.exports=i.p+"img/tog_41.6c2337ec.svg"},"0c74":function(t,e,i){t.exports=i.p+"img/tog_9.7b0bd807.svg"},1101:function(t,e,i){},"13d5":function(t,e,i){"use strict";var n=i("23e7"),s=i("d58f").left,o=i("a640"),a=i("1212"),r=i("9adc"),c=!r&&a>79&&a<83,l=c||!o("reduce");n({target:"Array",proto:!0,forced:l},{reduce:function(t){var e=arguments.length;return s(this,t,e,e>1?arguments[1]:void 0)}})},1450:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("41cb"),s=function(){return Object(n["f"])().get("api/team/my-game-roles?nopage&custom=0")}},"1aa3":function(t,e,i){t.exports=i.p+"img/tog_2.8ae213ab.svg"},"1b89":function(t,e,i){t.exports=i.p+"img/tog_17.26e18eff.svg"},2372:function(t,e,i){t.exports=i.p+"img/tog_7.84fc6d85.svg"},2681:function(t,e,i){t.exports=i.p+"img/tog_6.fd7052b7.svg"},"27aa":function(t,e,i){t.exports=i.p+"img/tog_41.867bbf38.svg"},"2cfb":function(t,e,i){t.exports=i.p+"img/tog_13.741ac369.svg"},3822:function(t,e,i){t.exports=i.p+"img/tog_4.b7bda8eb.svg"},3835:function(t,e,i){"use strict";function n(t){if(Array.isArray(t))return t}i.d(e,"a",(function(){return r}));i("a4d3"),i("e01a"),i("d28b"),i("14d9"),i("d3b7"),i("3ca3"),i("ddb0");function s(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,s,o,a,r=[],c=!0,l=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;c=!1}else for(;!(c=(n=o.call(i)).done)&&(r.push(n.value),r.length!==e);c=!0);}catch(t){l=!0,s=t}finally{try{if(!c&&null!=i["return"]&&(a=i["return"](),Object(a)!==a))return}finally{if(l)throw s}}return r}}var o=i("06c5");i("d9e2");function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){return n(t)||s(t,e)||Object(o["a"])(t,e)||a()}},"3ba9":function(t,e,i){var n={"./Dark/count.svg":"ac83","./Dark/shaixuan.svg":"ea5b","./Dark/sum.svg":"7176","./Dark/tog_1.svg":"7a8e","./Dark/tog_10.svg":"852b","./Dark/tog_11.svg":"8029","./Dark/tog_12.svg":"984b","./Dark/tog_13.svg":"2cfb","./Dark/tog_15.svg":"9ca0","./Dark/tog_16.svg":"be26","./Dark/tog_17.svg":"0768","./Dark/tog_2.svg":"1aa3","./Dark/tog_3.svg":"bbdc","./Dark/tog_4.svg":"484b","./Dark/tog_40.svg":"fc87","./Dark/tog_41.svg":"27aa","./Dark/tog_5.svg":"d1be","./Dark/tog_6.svg":"2681","./Dark/tog_7.svg":"b4e8","./Dark/tog_8.svg":"d1e9","./Dark/tog_9.svg":"45e1","./Light/count.svg":"8fe4","./Light/shaixuan.svg":"a106","./Light/sum.svg":"f1ba","./Light/tog_1.svg":"680e","./Light/tog_10.svg":"88a5","./Light/tog_11.svg":"4828","./Light/tog_12.svg":"07cb","./Light/tog_13.svg":"f312","./Light/tog_15.svg":"0636","./Light/tog_16.svg":"d168","./Light/tog_17.svg":"1b89","./Light/tog_2.svg":"63ee","./Light/tog_3.svg":"8c41","./Light/tog_4.svg":"3822","./Light/tog_40.svg":"45f1","./Light/tog_41.svg":"0a8a","./Light/tog_5.svg":"a299","./Light/tog_6.svg":"9edd","./Light/tog_7.svg":"2372","./Light/tog_8.svg":"4ead","./Light/tog_9.svg":"0c74"};function s(t){var e=o(t);return i(e)}function o(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=o,t.exports=s,s.id="3ba9"},"45e1":function(t,e,i){t.exports=i.p+"img/tog_9.b91da4f4.svg"},"45f1":function(t,e,i){t.exports=i.p+"img/tog_40.a3e0adef.svg"},"478d":function(t,e,i){},4828:function(t,e,i){t.exports=i.p+"img/tog_11.c298ebf4.svg"},"484b":function(t,e,i){t.exports=i.p+"img/tog_4.cc4bee1c.svg"},"4c53":function(t,e,i){"use strict";var n=i("23e7"),s=i("857a"),o=i("af03");n({target:"String",proto:!0,forced:o("sub")},{sub:function(){return s(this,"sub","","")}})},"4ead":function(t,e,i){t.exports=i.p+"img/tog_8.c18e2e83.svg"},"4eaf":function(t,e,i){var n={"./Dark/count.svg":"ac83","./Light/count.svg":"8fe4"};function s(t){var e=o(t);return i(e)}function o(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=o,t.exports=s,s.id="4eaf"},"63ee":function(t,e,i){t.exports=i.p+"img/tog_2.08a4201f.svg"},"680e":function(t,e,i){t.exports=i.p+"img/tog_1.3fd6ce12.svg"},7176:function(t,e,i){t.exports=i.p+"img/sum.c055f629.svg"},"7a8e":function(t,e,i){t.exports=i.p+"img/tog_1.ee8ab329.svg"},8029:function(t,e,i){t.exports=i.p+"img/tog_11.fe0a7d76.svg"},"852b":function(t,e,i){t.exports=i.p+"img/tog_10.2f0ed734.svg"},"88a5":function(t,e,i){t.exports=i.p+"img/tog_10.f4e95bb9.svg"},"8c41":function(t,e,i){t.exports=i.p+"img/tog_3.ea65fdfa.svg"},"8fe4":function(t,e,i){t.exports=i.p+"img/count.6033f8f4.svg"},9485:function(t,e,i){"use strict";var n=i("23e7"),s=i("2266"),o=i("59ed"),a=i("825a"),r=i("46c4"),c=i("2a62"),l=i("f99f"),u=i("2ba4"),g=i("d039"),d=TypeError,f=g((function(){[].keys().reduce((function(){}),void 0)})),v=!f&&l("reduce",d);n({target:"Iterator",proto:!0,real:!0,forced:f||v},{reduce:function(t){a(this);try{o(t)}catch(g){c(this,"throw",g)}var e=arguments.length<2,i=e?void 0:arguments[1];if(v)return u(v,this,e?[t]:[t,i]);var n=r(this),l=0;if(s(n,(function(n){e?(e=!1,i=n):i=t(i,n,l),l++}),{IS_RECORD:!0}),e)throw new d("Reduce of empty iterator with no initial value");return i}})},"984b":function(t,e,i){t.exports=i.p+"img/tog_12.f3a07dcf.svg"},"9ca0":function(t,e,i){t.exports=i.p+"img/tog_15.2b6a6cf7.svg"},"9edd":function(t,e,i){t.exports=i.p+"img/tog_6.2f477a0f.svg"},a01f:function(t,e,i){"use strict";var n=function(){var t=this,e=t._self._c;return e("img",{attrs:{src:t.showAvatar(t.mount,t.body_type)}})},s=[],o=i("01ea"),a={name:"roleAvatar",props:["mount","body_type"],components:{},data:function(){return{}},computed:{},methods:{showAvatar:function(t,e){return o["c"]+"design/avatar/xisai/"+t+"-"+e+".png"}},filters:{},created:function(){},mounted:function(){}},r=a,c=i("2877"),l=Object(c["a"])(r,n,s,!1,null,null,null);e["a"]=l.exports},a106:function(t,e,i){t.exports=i.p+"img/shaixuan.39d09294.svg"},a299:function(t,e,i){t.exports=i.p+"img/tog_5.05c771bd.svg"},ac83:function(t,e,i){t.exports=i.p+"img/count.7cbed917.svg"},b4e8:function(t,e,i){t.exports=i.p+"img/tog_7.0dea2d20.svg"},bbdc:function(t,e,i){t.exports=i.p+"img/tog_3.a580ed01.svg"},bc1f:function(t,e,i){"use strict";i("478d")},be26:function(t,e,i){t.exports=i.p+"img/tog_16.ffa7d0d0.svg"},c967:function(t,e,i){"use strict";i.d(e,"j",(function(){return s})),i.d(e,"f",(function(){return o})),i.d(e,"e",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"d",(function(){return c})),i.d(e,"h",(function(){return l})),i.d(e,"a",(function(){return u})),i.d(e,"g",(function(){return g})),i.d(e,"l",(function(){return d})),i.d(e,"b",(function(){return f})),i.d(e,"i",(function(){return v})),i.d(e,"k",(function(){return h}));var n=i("41cb");function s(t){return Object(n["a"])().get("/api/cms/wiki/post/rank",{params:t})}function o(t,e){return Object(n["a"])().get("/api/cms/wiki/post/id/".concat(t),{params:e})}function a(t){return Object(n["a"])({mute:!0}).get("/api/cms/user/".concat(t,"/info"))}function r(t){return Object(n["a"])().get("/api/cms/user/kith/my")}function c(t){return Object(n["a"])().get("/api/cms/user/kith/game-roles/".concat(t))}function l(t){return Object(n["a"])().get("/api/cms/pvx/wiki_achievement_leap_schema",{params:t})}function u(t){return Object(n["a"])().post("/api/cms/pvx/wiki_achievement_leap_schema",t)}function g(t){return Object(n["a"])().get("/api/cms/pvx/wiki_achievement_leap_schema/".concat(t))}function d(t,e){return Object(n["a"])().put("/api/cms/pvx/wiki_achievement_leap_schema/".concat(t),e)}function f(t){return Object(n["a"])().delete("/api/cms/pvx/wiki_achievement_leap_schema/".concat(t))}function v(t){return Object(n["a"])().post("/api/cms/pvx/wiki_achievement_difficulty/list",t)}function h(t){return Object(n["a"])().post("/api/cms/qqbot/picture_task",t)}},d168:function(t,e,i){t.exports=i.p+"img/tog_16.f8a8c484.svg"},d1be:function(t,e,i){t.exports=i.p+"img/tog_5.40c9a70c.svg"},d1e9:function(t,e,i){t.exports=i.p+"img/tog_8.df78604c.svg"},d58f:function(t,e,i){"use strict";var n=i("59ed"),s=i("7b0b"),o=i("44ad"),a=i("07fa"),r=TypeError,c="Reduce of empty array with no initial value",l=function(t){return function(e,i,l,u){var g=s(e),d=o(g),f=a(g);if(n(i),0===f&&l<2)throw new r(c);var v=t?f-1:0,h=t?-1:1;if(l<2)while(1){if(v in d){u=d[v],v+=h;break}if(v+=h,t?v<0:f<=v)throw new r(c)}for(;t?v>=0:f>v;v+=h)v in d&&(u=i(u,d[v],v,g));return u}};t.exports={left:l(!1),right:l(!0)}},dcfe:function(t,e,i){"use strict";i("1101")},e00d:function(t,e,i){var n={"./Dark/sum.svg":"7176","./Light/sum.svg":"f1ba"};function s(t){var e=o(t);return i(e)}function o(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=o,t.exports=s,s.id="e00d"},e256:function(t,e,i){"use strict";i.r(e);i("b0c0"),i("4c53");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mini-program-overview"},[e("div",{staticClass:"user-info-section"},[e("div",{staticClass:"avatar-container"},[e("div",{staticClass:"avatar-bg"},[t.avatar_frame?e("img",{staticClass:"u-avatar-border",attrs:{src:t.avatar_frame,alt:"头像边框"}}):t._e(),e("RoleAvatar",{staticClass:"u-avatar-img",attrs:{mount:t.currentRole.mount,body_type:t.currentRole.body_type}})],1)]),e("div",{staticClass:"user-name",on:{click:t.openRoleDrawer}},[t._v(t._s(t.currentRole.name))]),e("div",{staticClass:"user-detail"},[e("img",{staticClass:"hb-icon",attrs:{width:"30",height:"30",src:t.showSchoolIcon(t.currentRole.mount)}}),e("span",[t._v(" "+t._s(t.currentRole.server)+" ")])])]),e("div",{staticClass:"total-progress"},[e("div",{staticClass:"progress-info"},[e("span",{staticClass:"progress-percentage"},[t._v(t._s(t.totalProgress)),e("span",[t._v("%")])]),e("span",{staticClass:"progress-value"},[t._v(" "+t._s(t.ownPointsCountW)),e("span",[t._v(t._s(t.ownPointsCountOther))])])]),e("div",{staticClass:"progress-bar"},[e("div",{staticClass:"progress-fill",style:{width:t.totalProgress+"%"}})])]),e("div",{staticClass:"progress-overview"},[e("div",{staticClass:"section-header"},[e("div",{staticClass:"section-title"},[t._v("进度概览")]),e("div",{staticClass:"toggle-mode",on:{click:function(e){t.drawerModeVisible=!0,t.isSimpleModeSelect=t.isSimpleMode}}},[t._v(" "+t._s(t.isSimpleMode?"简略模式":"详细模式")+" "),e("i",{staticClass:"el-icon-sort u-switch"})])]),e("div",{staticClass:"category-progress"},t._l(t.list,(function(n,s){return e("div",{key:s,staticClass:"progress-card",on:{click:function(e){return t.handleClick(n)}}},[t.isSimpleMode?e("div",{staticClass:"u-top"},[e("div",{staticClass:"card-icon"},[e("img",{staticClass:"hb-icon",attrs:{src:t.getIconPath(n.sub),alt:"","svg-inline":""}})]),e("div",{staticClass:"u-info"},[e("div",{staticClass:"card-title"},[t._v(t._s(n.name))]),e("div",{staticClass:"progress-percentage-small"},[t._v(" "+t._s(t.getCurrentProgress(n.ownPoints,n.allPoints))+"% ")])])]):e("div",{staticClass:"u-top-detailed"},[e("div",{staticClass:"u-name"},[t._v(t._s(n.name))]),e("div",{staticClass:"u-info"},[e("div",{staticClass:"u-num"},[t._v(" "+t._s(n.ownAchievements.length)+"/"+t._s(n.allAchievements.length)+" "),e("img",{attrs:{width:"14",height:"14",src:i("4eaf")("./".concat(t.isDark?"Dark":"Light","/count.svg")),alt:"成就logo"}})]),e("div",{staticClass:"u-num"},[t._v(" "+t._s(n.ownPoints)+"/"+t._s(n.allPoints)+" "),e("img",{attrs:{width:"14",height:"14",src:i("e00d")("./".concat(t.isDark?"Dark":"Light","/sum.svg")),alt:"资历logo"}})])])]),e("div",{staticClass:"progress-bar-small"},[e("div",{staticClass:"progress-fill",style:{width:t.getCurrentProgress(n.ownPoints,n.allPoints)+"%"}})])])})),0)]),e("el-drawer",{staticClass:"c-mode-list-drawer",attrs:{title:"显示模式",visible:t.drawerModeVisible,direction:"btt",size:"280px"},on:{close:t.handleModeClose}},[e("div",{staticClass:"mode-list-container"},t._l(t.modeType,(function(i,n){return e("div",{key:n,staticClass:"mode-item",class:{selected:t.isSimpleModeSelect==i.value},on:{click:function(e){return t.toggleMode(i.value)}}},[e("div",{staticClass:"mode-name"},[t._v(t._s(i.name))]),e("div",{staticClass:"mode-detail"},[t._v(t._s(i.detail))])])})),0),e("div",{staticClass:"mode-button-group"},[e("el-button",{staticClass:"u-reset",on:{click:t.resetMode}},[t._v("重置")]),e("el-button",{staticClass:"u-submit",on:{click:t.confirmMode}},[t._v("确定")])],1)]),e("RoleListVue",{attrs:{visible:t.drawerVisible,roles:t.roleList,currentRole:t.currentRole},on:{"update:visible":function(e){t.drawerVisible=e},confirmSelection:t.handleConfirmSelection}})],1)},s=[],o=(i("99af"),i("7db0"),i("caad"),i("d81d"),i("14d9"),i("13d5"),i("fb6a"),i("e9f5"),i("f665"),i("7d54"),i("ab43"),i("9485"),i("e9c4"),i("b680"),i("b64b"),i("d3b7"),i("25f0"),i("2532"),i("159b"),i("c9d2")),a=i("85e4"),r=i("262e"),c=i("1450"),l=i("c967"),u=i("01ea"),g=i("a01f"),d=function(){var t=this,e=t._self._c;return e("el-drawer",{staticClass:"c-role-list-drawer",attrs:{title:"选择角色",visible:t.drawerVisible,direction:"btt",size:"420px"},on:{close:t.handleClose}},[e("div",{staticClass:"role-list-wrapper"},[e("div",{ref:"roleListContainer",staticClass:"role-list-container"},[e("div",{staticClass:"role-items"},t._l(t.roles,(function(i,n){return e("div",{key:n,staticClass:"role-item",class:{selected:t.selectedRole.jx3id==i.jx3id},on:{click:function(e){return t.selectRole(i)}}},[e("div",{staticClass:"u-img"},[e("RoleAvatar",{staticClass:"u-avatar-img",attrs:{mount:i.mount,body_type:i.body_type}}),e("div",{staticClass:"role-name"},[t._v(t._s(i.name))])],1),e("div",{staticClass:"role-info",domProps:{innerHTML:t._s("<".concat(i.server,">"))}})])})),0)]),e("div",{staticClass:"role-button-group"},[e("el-button",{staticClass:"u-reset",on:{click:t.resetSelection}},[t._v("重置")]),e("el-button",{staticClass:"u-submit",on:{click:t.confirmSelection}},[t._v("确定")])],1),t.showMask?e("div",{staticClass:"bottom-mask"}):t._e()])])},f=[],v={name:"RoleList",components:{RoleAvatar:g["a"]},props:{visible:{type:Boolean,default:!1},roles:{type:Array,default:function(){return[]}},currentRole:{type:Object,default:function(){return{}}}},computed:{drawerVisible:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}}},data:function(){return{selectedRole:null,showMask:!1}},watch:{drawerVisible:function(t){var e=this;t?this.$nextTick((function(){e.$refs.roleListContainer&&(e.$refs.roleListContainer.addEventListener("scroll",e.checkScrollPosition),e.checkScrollPosition())})):this.removeScrollListener()},currentRole:{handler:function(t){t&&(this.selectedRole=t)},deep:!0,immediate:!0}},beforeDestroy:function(){this.removeScrollListener()},methods:{showSchoolIcon:a["s"],removeScrollListener:function(){this.$refs.roleListContainer&&this.$refs.roleListContainer.removeEventListener("scroll",this.checkScrollPosition)},selectRole:function(t){this.selectedRole=t},resetSelection:function(){this.selectedRole=this.currentRole},confirmSelection:function(){null!==this.selectedRole&&(this.$emit("confirmSelection",this.selectedRole),this.drawerVisible=!1)},handleClose:function(){this.drawerVisible=!1},checkScrollPosition:function(){if(this.$refs.roleListContainer){var t=this.$refs.roleListContainer,e=t.scrollHeight,i=t.clientHeight,n=t.scrollTop,s=e-(i+n);this.showMask=s>40}}}},h=v,m=(i("bc1f"),i("2877")),p=Object(m["a"])(h,d,f,!1,null,null,null),b=p.exports,_=i("7720"),w={name:"OverviewMiniProgram",components:{RoleAvatar:g["a"],RoleListVue:b},data:function(){return{userInfo:{},roleList:[],currentRole:{},drawerVisible:!1,isSimpleMode:!0,isSimpleModeSelect:!0,drawerModeVisible:!1,modeType:[{name:"简略模式",detail:"<只显示百分比进度>",value:!0},{name:"详细模式",detail:"<显示成就数和资历数>",value:!1}],achievementData:[],pointsData:{},list:[],allPointsCount:0,ownPointsCount:0,ownPointsCountW:null,ownPointsCountOther:0}},computed:{isDark:function(){var t=window.matchMedia("(prefers-color-scheme: dark)");return t.matches},avatar_frame:function(){if(this.userInfo){var t=this.userInfo.user_avatar_frame;if(t)return u["e"]+"avatar/images/".concat(t,"/").concat(t,".svg")}return null},totalProgress:function(){return this.ownPointsCount||this.allPointsCount?(this.ownPointsCount/this.allPointsCount*100).toFixed(2):0}},watch:{currentRole:{deep:!0,immediate:!0,handler:function(t){if(t){var e=t.jx3id;e&&(this.$store.commit("SET_STATE",{key:"achievementsVirtual",value:[]}),this.loadRoleAchievements(e))}}}},created:function(){this.getUserInfo()},methods:{showSchoolIcon:a["s"],handleClick:function(t){localStorage.setItem("category_data",JSON.stringify(t||{})),Object(_["b"])(this.$router.resolve({name:"catalogue",query:{}}).href)},getIconPath:function(t){return i("3ba9")("./".concat(this.isDark?"Dark":"Light","/tog_").concat(t,".svg"))},toggleMode:function(t){this.isSimpleModeSelect=t},handleModeClose:function(){this.drawerModeVisible=!1},resetMode:function(){this.isSimpleModeSelect=!0},confirmMode:function(){this.isSimpleMode=this.isSimpleModeSelect,this.drawerModeVisible=!1},getUserInfo:function(){var t=this;if(o["a"].isLogin()){var e=o["a"].getInfo().uid;e&&Object(l["e"])(e).then((function(e){0==e.data.code&&(t.userInfo=e.data.data,t.getList())}))}else this.$confirm("请先登录再使用")},loadUserRoles:function(){var t=this;Object(c["a"])().then((function(e){var i,n;t.roleList=(null===(i=e.data)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.list)||[];var s=localStorage.getItem("wiki_last_sync");s&&"0"!==s?t.currentRole=t.roleList.find((function(t){return t.jx3id==s}))||"":t.roleList.length&&(t.currentRole=t.roleList[0],localStorage.setItem("wiki_last_sync",t.currentRole.jx3id||0),t.$store.commit("SET_STATE",{key:"role",value:t.currentRole}))}))},loadRoleAchievements:function(t){var e=this;Object(r["m"])(t).then((function(t){var i,n,s,o,a=(null===(i=t.data)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.achievements)||"",r=null===(s=t.data)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.jx3id;e.isSync=!!r;var c=a.split(",");e.$store.commit("SET_STATE",{key:"achievements",value:c,isSession:!0}),localStorage.setItem("achievements",JSON.stringify(c||[])),e.getRenderList()}))},openRoleDrawer:function(){this.drawerVisible=!0},handleConfirmSelection:function(t){console.log(t),this.currentRole=t,this.drawerVisible=!1},getList:function(){var t=this;Object(r["i"])({general:1,client:this.$store.state.client}).then((function(e){var i=e.data.data.menus;t.achievementData=i,t.getPoints()}))},getPoints:function(){var t=this;Object(r["b"])().then((function(e){var i=e.data.data.points;t.pointsData=i,localStorage.setItem("points_data",JSON.stringify(i||{})),t.loadUserRoles()}))},getAllAchievementsData:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{allPoints:0,ownPoints:0},o=this.$store.state.achievements;return t.achievements.forEach((function(t){Array.isArray(t)?t.forEach((function(t){e.pointsData[t]&&(s.allPoints+=e.pointsData[t],i.push(t),o.includes(String(t))&&(s.ownPoints+=e.pointsData[t],n.push(t)))})):e.pointsData[t]&&(s.allPoints+=e.pointsData[t],i.push(t),o.includes(String(t))&&(s.ownPoints+=e.pointsData[t],n.push(t)))})),t.children&&t.children.forEach((function(t){e.getAllAchievementsData(t,i,n,s)})),{allAchievements:i,allPoints:s.allPoints,ownAchievements:n,ownPoints:s.ownPoints}},getRenderList:function(t){var e=this;t=t||this.achievementData;var i=Object.keys(t).map((function(i){var n=t[i],s=e.getAllAchievementsData(n);return{sub:n.sub,detail:n.detail,name:n.name,allAchievements:s.allAchievements,ownAchievements:s.ownAchievements,children:n.children,allPoints:s.allPoints,ownPoints:s.ownPoints}}));this.list=i,this.allPointsCount=i.reduce((function(t,e){return t+e.allPoints}),0);var n=this.$store.state.achievements;this.ownPointsCount=n.reduce((function(t,i){return t+(e.pointsData[i]||0)}),0);var s=this.ownPointsCount.toString();s.length>4?(this.ownPointsCountW=s.slice(0,-4),this.ownPointsCountOther=s.slice(-4)):(this.ownPointsCountW="",this.ownPointsCountOther=s)},getCurrentProgress:function(t,e){return(t/e*100).toFixed(2)}}},C=w,k=(i("dcfe"),Object(m["a"])(C,n,s,!1,null,null,null));e["default"]=k.exports},ea5b:function(t,e,i){t.exports=i.p+"img/shaixuan.020dffb3.svg"},f1ba:function(t,e,i){t.exports=i.p+"img/sum.a2f21be4.svg"},f312:function(t,e,i){t.exports=i.p+"img/tog_13.7c7b65a0.svg"},fc87:function(t,e,i){t.exports=i.p+"img/tog_40.ef7c5acf.svg"}}]);
//# sourceMappingURL=chunk-112d11f0.23f37e8b.js.map