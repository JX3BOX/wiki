(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6870c069"],{"0636":function(t,s,o){t.exports=o.p+"img/tog_15.1f7bb44b.svg"},"0768":function(t,s,o){t.exports=o.p+"img/tog_17.6d3efb0a.svg"},"07cb":function(t,s,o){t.exports=o.p+"img/tog_12.eb4b8e89.svg"},"0a8a":function(t,s,o){t.exports=o.p+"img/tog_41.e54c1e63.svg"},"0c74":function(t,s,o){t.exports=o.p+"img/tog_9.63ff7127.svg"},"1aa3":function(t,s,o){t.exports=o.p+"img/tog_2.8ae213ab.svg"},"1b89":function(t,s,o){t.exports=o.p+"img/tog_17.5c8b5a5e.svg"},2372:function(t,s,o){t.exports=o.p+"img/tog_7.d065990e.svg"},2681:function(t,s,o){t.exports=o.p+"img/tog_6.fd7052b7.svg"},"27aa":function(t,s,o){t.exports=o.p+"img/tog_41.867bbf38.svg"},"2cfb":function(t,s,o){t.exports=o.p+"img/tog_13.741ac369.svg"},3822:function(t,s,o){t.exports=o.p+"img/tog_4.ae3c48b4.svg"},3835:function(t,s,o){"use strict";function n(t){if(Array.isArray(t))return t}o.d(s,"a",(function(){return g}));o("a4d3"),o("e01a"),o("d28b"),o("14d9"),o("d3b7"),o("3ca3"),o("ddb0");function i(t,s){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var n,i,e,a,g=[],r=!0,c=!1;try{if(e=(o=o.call(t)).next,0===s){if(Object(o)!==o)return;r=!1}else for(;!(r=(n=e.call(o)).done)&&(g.push(n.value),g.length!==s);r=!0);}catch(t){c=!0,i=t}finally{try{if(!r&&null!=o["return"]&&(a=o["return"](),Object(a)!==a))return}finally{if(c)throw i}}return g}}var e=o("06c5");o("d9e2");function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(t,s){return n(t)||i(t,s)||Object(e["a"])(t,s)||a()}},"3ba9":function(t,s,o){var n={"./Dark/count.svg":"ac83","./Dark/shaixuan.svg":"ea5b","./Dark/sum.svg":"7176","./Dark/tog_1.svg":"7a8e","./Dark/tog_10.svg":"852b","./Dark/tog_11.svg":"8029","./Dark/tog_12.svg":"984b","./Dark/tog_13.svg":"2cfb","./Dark/tog_15.svg":"9ca0","./Dark/tog_16.svg":"be26","./Dark/tog_17.svg":"0768","./Dark/tog_2.svg":"1aa3","./Dark/tog_3.svg":"bbdc","./Dark/tog_4.svg":"484b","./Dark/tog_40.svg":"fc87","./Dark/tog_41.svg":"27aa","./Dark/tog_5.svg":"d1be","./Dark/tog_6.svg":"2681","./Dark/tog_7.svg":"b4e8","./Dark/tog_8.svg":"d1e9","./Dark/tog_9.svg":"45e1","./Light/count.svg":"8fe4","./Light/shaixuan.svg":"a106","./Light/sum.svg":"f1ba","./Light/tog_1.svg":"680e","./Light/tog_10.svg":"88a5","./Light/tog_11.svg":"4828","./Light/tog_12.svg":"07cb","./Light/tog_13.svg":"f312","./Light/tog_15.svg":"0636","./Light/tog_16.svg":"d168","./Light/tog_17.svg":"1b89","./Light/tog_2.svg":"63ee","./Light/tog_3.svg":"8c41","./Light/tog_4.svg":"3822","./Light/tog_40.svg":"45f1","./Light/tog_41.svg":"0a8a","./Light/tog_5.svg":"a299","./Light/tog_6.svg":"9edd","./Light/tog_7.svg":"2372","./Light/tog_8.svg":"4ead","./Light/tog_9.svg":"0c74"};function i(t){var s=e(t);return o(s)}function e(t){if(!o.o(n,t)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=e,t.exports=i,i.id="3ba9"},4238:function(t,s,o){"use strict";o.r(s);o("b0c0"),o("4c53");var n=function(){var t=this,s=t._self._c;return s("div",{staticClass:"mini-program-catalogue"},[s("div",{staticClass:"total-progress"},[s("div",{staticClass:"progress-info"},[s("div",{staticClass:"progress-left"},[s("img",{staticClass:"hb-icon",attrs:{src:t.getIconPath(t.info.sub),alt:"","svg-inline":""}}),s("div",{staticClass:"progress-info-item"},[s("div",{staticClass:"progress-name"},[t._v(t._s(t.info.name))]),s("div",{staticClass:"u-info"},[s("div",{staticClass:"u-num"},[s("img",{attrs:{width:"12",height:"12",src:o("4eaf")("./".concat(t.isDark?"Light":"Dark","/count.svg")),alt:"成就logo"}}),t._v(" "+t._s(t.info.ownAchievements.length)+"/"+t._s(t.info.allAchievements.length)+" ")]),s("div",{staticClass:"u-num"},[s("img",{attrs:{width:"12",height:"12",src:o("e00d")("./".concat(t.isDark?"Light":"Dark","/sum.svg")),alt:"资历logo"}}),t._v(" "+t._s(t.info.ownPoints)+"/"+t._s(t.info.allPoints)+" ")])])])]),s("div",{staticClass:"progress-right"},[s("div",{staticClass:"progress-percentage"},[t._v(t._s(t.totalProgress)),s("span",[t._v("%")])]),s("div",{staticClass:"progress-value"},[t._v(" "+t._s(t.ownPointsCountW)),s("span",[t._v(t._s(t.ownPointsCountOther))])])])]),s("div",{staticClass:"progress-bar"},[s("div",{staticClass:"progress-fill",style:{width:t.totalProgress+"%"}})])]),s("div",{staticClass:"progress-overview"},[s("div",{staticClass:"category-progress"},t._l(t.list,(function(n,i){return s("div",{key:i,staticClass:"progress-card",on:{click:function(s){return t.handleClick(n)}}},[s("div",{staticClass:"u-top-detailed"},[s("div",{staticClass:"u-name"},[t._v(t._s(n.name))]),s("div",{staticClass:"u-info"},[s("div",{staticClass:"u-num"},[t._v(" "+t._s(n.ownAchievements.length)+"/"+t._s(n.allAchievements.length)+" "),s("img",{attrs:{width:"14",height:"14",src:o("4eaf")("./".concat(t.isDark?"Dark":"Light","/count.svg")),alt:"成就logo"}})]),s("div",{staticClass:"u-num"},[t._v(" "+t._s(n.ownPoints)+"/"+t._s(n.allPoints)+" "),s("img",{attrs:{width:"14",height:"14",src:o("e00d")("./".concat(t.isDark?"Dark":"Light","/sum.svg")),alt:"资历logo"}})])])]),s("div",{staticClass:"progress-bar-small"},[s("div",{staticClass:"progress-fill",style:{width:t.getCurrentProgress(n.ownPoints,n.allPoints)+"%"}})])])})),0)])])},i=[],e=(o("99af"),o("caad"),o("d81d"),o("14d9"),o("fb6a"),o("e9f5"),o("7d54"),o("ab43"),o("e9c4"),o("b680"),o("b64b"),o("d3b7"),o("25f0"),o("2532"),o("5087"),o("159b"),o("85e4")),a=(o("01ea"),o("2ef0"),o("7720")),g={name:"CatalogueMiniProgram",components:{},data:function(){return{achievementData:[],pointsData:{},list:[],allPointsCount:0,ownPointsCount:0,ownPointsCountW:null,ownPointsCountOther:0,info:{}}},computed:{isDark:function(){var t=window.matchMedia("(prefers-color-scheme: dark)");return t.matches},totalProgress:function(){return this.ownPointsCount||this.allPointsCount?(this.ownPointsCount/this.allPointsCount*100).toFixed(2):0}},watch:{},created:function(){this.getListInit()},methods:{showSchoolIcon:e["s"],getListInit:function(){this.pointsData=JSON.parse(localStorage.getItem("points_data")||"{}"),this.achievementData=JSON.parse(localStorage.getItem("achievements")||"[]");var t=JSON.parse(localStorage.getItem("category_data")||"[]");if(t){document.title=t.name,this.info=t,this.allPointsCount=t.allPoints,this.ownPointsCount=t.ownPoints;var s=this.ownPointsCount.toString();s.length>4?(this.ownPointsCountW=s.slice(0,-4),this.ownPointsCountOther=s.slice(-4)):(this.ownPointsCountW="",this.ownPointsCountOther=s),this.getRenderList(t.children)}},handleClick:function(t){t.parentName=this.info.name,localStorage.setItem("category_item_data",JSON.stringify(t||{})),Object(a["b"])(this.$router.resolve({name:"list",query:{}}).href)},getIconPath:function(t){return o("3ba9")("./".concat(this.isDark?"Light":"Dark","/tog_").concat(t,".svg"))},getAllAchievementsData:function(t){var s=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{allPoints:0,ownPoints:0},e=this.achievementData;return t.achievements.forEach((function(t){Array.isArray(t)?t.forEach((function(t){s.pointsData[t]&&(i.allPoints+=s.pointsData[t],o.push(t),e.includes(String(t))&&(i.ownPoints+=s.pointsData[t],n.push(t)))})):s.pointsData[t]&&(i.allPoints+=s.pointsData[t],o.push(t),e.includes(String(t))&&(i.ownPoints+=s.pointsData[t],n.push(t)))})),t.children&&t.children.forEach((function(t){s.getAllAchievementsData(t,o,n,i)})),{allAchievements:o,allPoints:i.allPoints,ownAchievements:n,ownPoints:i.ownPoints}},getRenderList:function(t){var s=this,o=Object.keys(t).map((function(o){var n=t[o],i=s.getAllAchievementsData(n);return{sub:n.sub,detail:n.detail,name:n.name,allAchievements:i.allAchievements,ownAchievements:i.ownAchievements,children:n.children,allPoints:i.allPoints,ownPoints:i.ownPoints}}));this.list=o},getCurrentProgress:function(t,s){return(t/s*100).toFixed(2)}}},r=g,c=(o("621e"),o("2877")),l=Object(c["a"])(r,n,i,!1,null,null,null);s["default"]=l.exports},"45e1":function(t,s,o){t.exports=o.p+"img/tog_9.b91da4f4.svg"},"45f1":function(t,s,o){t.exports=o.p+"img/tog_40.8f4e8cc1.svg"},4828:function(t,s,o){t.exports=o.p+"img/tog_11.57cbcc0f.svg"},"484b":function(t,s,o){t.exports=o.p+"img/tog_4.cc4bee1c.svg"},"4ead":function(t,s,o){t.exports=o.p+"img/tog_8.bc15415d.svg"},"621e":function(t,s,o){"use strict";o("c0c7")},"63ee":function(t,s,o){t.exports=o.p+"img/tog_2.6d3d6ed7.svg"},"680e":function(t,s,o){t.exports=o.p+"img/tog_1.93447118.svg"},"7a8e":function(t,s,o){t.exports=o.p+"img/tog_1.ee8ab329.svg"},8029:function(t,s,o){t.exports=o.p+"img/tog_11.fe0a7d76.svg"},"852b":function(t,s,o){t.exports=o.p+"img/tog_10.2f0ed734.svg"},"88a5":function(t,s,o){t.exports=o.p+"img/tog_10.4bea69ad.svg"},"8c41":function(t,s,o){t.exports=o.p+"img/tog_3.e4ec62c3.svg"},"984b":function(t,s,o){t.exports=o.p+"img/tog_12.f3a07dcf.svg"},"9ca0":function(t,s,o){t.exports=o.p+"img/tog_15.2b6a6cf7.svg"},"9edd":function(t,s,o){t.exports=o.p+"img/tog_6.19bcab65.svg"},a299:function(t,s,o){t.exports=o.p+"img/tog_5.b1775791.svg"},b4e8:function(t,s,o){t.exports=o.p+"img/tog_7.0dea2d20.svg"},bbdc:function(t,s,o){t.exports=o.p+"img/tog_3.a580ed01.svg"},be26:function(t,s,o){t.exports=o.p+"img/tog_16.ffa7d0d0.svg"},c0c7:function(t,s,o){},d168:function(t,s,o){t.exports=o.p+"img/tog_16.7901e7f6.svg"},d1be:function(t,s,o){t.exports=o.p+"img/tog_5.40c9a70c.svg"},d1e9:function(t,s,o){t.exports=o.p+"img/tog_8.df78604c.svg"},f312:function(t,s,o){t.exports=o.p+"img/tog_13.5711bcbb.svg"},fc87:function(t,s,o){t.exports=o.p+"img/tog_40.ef7c5acf.svg"}}]);