(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3dee3932"],{1510:function(t,e,n){},"5b81":function(t,e,n){"use strict";var i=n("23e7"),s=n("c65b"),a=n("e330"),r=n("1d80"),c=n("1626"),o=n("861d"),l=n("44e7"),u=n("577e"),d=n("dc4a"),p=n("90d8"),_=n("0cb2"),m=n("b622"),f=n("c430"),v=m("replace"),h=TypeError,b=a("".indexOf),k=a("".replace),g=a("".slice),C=Math.max;i({target:"String",proto:!0},{replaceAll:function(t,e){var n,i,a,m,w,y,q,x,O,j,P=r(this),S=0,W="";if(o(t)){if(n=l(t),n&&(i=u(r(p(t))),!~b(i,"g")))throw new h("`.replaceAll` does not allow non-global regexes");if(a=d(t,v),a)return s(a,t,P,e);if(f&&n)return k(u(P),t,e)}m=u(P),w=u(t),y=c(e),y||(e=u(e)),q=w.length,x=C(1,q),O=b(m,w);while(-1!==O)j=y?u(e(w,O,m)):_(w,m,O,[],void 0,e),W+=g(m,S,O)+j,S=O+q,O=O+x>m.length?-1:b(m,w,O+x);return S<m.length&&(W+=g(m,S)),W}})},"79c7":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-home-view"},[e("WikiPanel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-location-information"}),e("span",[t._v("便捷入口")])]),e("template",{slot:"head-actions"}),e("template",{slot:"body"},[e("ul",{staticClass:"m-qlinks"},[e("li",{staticClass:"qlink"},[e("a",{staticStyle:{"background-color":"#fe7979"},attrs:{target:"_blank",href:"/tool/18151/"}},[e("i",{staticClass:"el-icon-trophy"}),e("span",[t._v("游戏内看百科")])])]),e("li",{staticClass:"qlink"},[e("Counter",{attrs:{type:"item",showCounter:!1}})],1),e("li",{staticClass:"qlink"},[e("router-link",{staticStyle:{"background-color":"#f7b044"},attrs:{to:{name:"search",query:{ids:"5_24423,5_24424,5_24425,5_24426,5_24427,5_24428,5_24429,5_24430"}}}},[e("i",{staticClass:"el-icon-sugar"}),e("span",[t._v("五行石合成")])])],1),e("li",{staticClass:"qlink"},[e("a",{attrs:{target:"_blank",href:"/pvg/manufacture"}},[e("i",{staticClass:"el-icon-grape"}),e("span",[t._v("技艺助手")])])]),e("li",{staticClass:"qlink"},[e("a",{attrs:{target:"_blank",href:"/pvg/price"}},[e("i",{staticClass:"el-icon-watermelon"}),e("span",[t._v("价格走势")])])]),e("li",{staticClass:"qlink"},[e("a",{attrs:{href:"/item/plan_list"}},[e("i",{staticClass:"el-icon-cherry"}),e("span",[t._v("物品清单")])])])])])],2),e("WikiPanel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-notebook-1"}),e("span",[t._v("最新物品")])]),e("template",{slot:"body"},[t.new_plans&&t.new_plans.length?e("el-carousel",{attrs:{height:"66px",direction:"vertical","indicator-position":"none"}},t._l(t.new_plans,(function(n,i){return e("el-carousel-item",{key:i,staticClass:"m-carousel m-hot"},[e("el-row",{attrs:{gutter:20}},[t._l(n,(function(n,i){return[n?e("el-col",{key:i,attrs:{md:8}},[e("WikiItem",{class:"u-item-".concat(i),attrs:{item:n,type:"item"}})],1):t._e()]}))],2)],1)})),1):e("div",{staticStyle:{"text-align":"center"}},[t._v("😂 暂无物品清单")])],1)],2),e("WikiPanel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-notebook-1"}),e("span",[t._v("最热物品")])]),e("template",{slot:"body"},[t.hot_plans&&t.hot_plans.length?e("el-carousel",{attrs:{height:"66px",direction:"vertical","indicator-position":"none"}},t._l(t.hot_plans,(function(n,i){return e("el-carousel-item",{key:i,staticClass:"m-carousel m-carousel-hot"},[e("el-row",{attrs:{gutter:20}},[t._l(n,(function(n,i){return[n?e("el-col",{key:i,attrs:{md:8}},[e("WikiItem",{class:"u-item-".concat(i),attrs:{item:n,type:"item"}})],1):t._e()]}))],2)],1)})),1):e("div",{staticStyle:{"text-align":"center"}},[t._v("😂 暂无物品清单")])],1)],2),e("WikiPanel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-collection"}),e("span",[t._v("最新攻略")])]),e("template",{slot:"body"},[t.newest_posts.length?e("div",{staticClass:"wiki-post-list"},t._l(t.newest_posts,(function(n,i){return e("div",{key:i,staticClass:"wiki-post"},[e("div",{staticClass:"m-about-post"},[e("div",{staticClass:"m-wiki"},[e("div",{staticClass:"u-wiki"},[e("img",{staticClass:"u-icon",attrs:{src:t.icon_url(n.source_icon_id)},on:{"~error":function(e){e.target.src=t.icon_url()}}}),e("router-link",{staticClass:"u-name",attrs:{to:{name:"view",params:{item_id:n.source_id}},target:"_blank"}},[e("span",{domProps:{textContent:t._s(n.title)}})])],1),e("div",{staticClass:"u-level",domProps:{textContent:t._s("综合难度："+t.star(n.level))}}),n.remark?e("div",{staticClass:"u-remark",domProps:{textContent:t._s("📑 "+n.remark)}}):t._e()]),e("div",{staticClass:"m-user"},[e("div",{staticClass:"u-author"},[e("img",{staticClass:"u-icon",attrs:{src:t.showAvatar(n.user),alt:n.user_nickname}}),n.user_id?e("a",{staticClass:"u-name",attrs:{href:t._f("author_url")(n.user_id),target:"_blank"},domProps:{textContent:t._s(n.user_nickname)}}):e("span",{staticClass:"u-name"},[t._v(t._s(n.user_nickname))])]),e("div",{staticClass:"u-updated",domProps:{textContent:t._s(t.date_format(n.updated))}})])]),e("div",{staticClass:"m-excerpt"},[e("router-link",{staticClass:"u-excerpt",attrs:{to:{name:"view",params:{item_id:n.source_id}}}},[e("span",{domProps:{innerHTML:t._s(t.ellipsis(n.content))}})])],1)])})),0):e("div",{staticStyle:{"text-align":"center"}},[t._v("😂 暂无攻略")])])],2)],1)},s=[],a=(n("4de4"),n("d81d"),n("b0c0"),n("e9f5"),n("910d"),n("ab43"),n("d3b7"),n("ac1f"),n("466d"),n("5319"),n("d2a1")),r=n("ac29"),c=n("85e4"),o=n("9616"),l=n("65c2"),u=n("500d"),d=n("b78a"),p=n("8975"),_=n("cf45"),m=n("2ef0"),f=n("cbfa"),v={name:"Home",components:{WikiPanel:a["a"],Counter:f["a"],WikiItem:r["a"]},data:function(){return{newest_posts:[],new_plans:[],hot_plans:[],feedback:l["feedback"],plan_2_icon:l["__iconPath"]+"icon/2410.png",plan_1_icon:l["__iconPath"]+"icon/3089.png"}},computed:{client:function(){return this.$store.state.client}},methods:{icon_url:function(t){return Object(c["l"])(t,this.client)},ellipsis:_["a"],date_format:p["date_format"],star:p["star"],showAvatar:function(t){var e=(null===t||void 0===t?void 0:t.user_avatar)||"";return Object(c["q"])(e)},showItemTrending:function(t){if(t.sub_days_0_price&&t.sub_days_1_price)return t.sub_days_0_price-t.sub_days_1_price>0?"▲":t.sub_days_0_price-t.sub_days_1_price<0?"▼":""},showItemTrendingClass:function(t){if(t.sub_days_0_price&&t.sub_days_1_price)return t.sub_days_0_price-t.sub_days_1_price>0?"up":t.sub_days_0_price-t.sub_days_1_price<0?"down":"keep"}},created:function(){var t=this;u["a"].latest({type:"item"}).then((function(e){var n,i;t.newest_posts=null!==(n=null===(i=e.data.data)||void 0===i?void 0:i.list)&&void 0!==n?n:[]}),(function(){t.newest_posts=[]})),Object(d["o"])({client:this.client}).then((function(e){t.new_plans=Object(m["chunk"])(e.data,3)})),Object(o["b"])("item","views",15).then((function(e){var n=e.data.map((function(t){var e,n;return(null===t||void 0===t||null===(e=t.name)||void 0===e?void 0:e.match(/item-(\d+_\d+)/))&&(null===(n=t.name)||void 0===n?void 0:n.replace(/item-(\d+_\d+)/,"$1"))})).filter((function(t){return t}));Object(d["k"])({ids:n,client:t.client,per:15}).then((function(e){var n;t.hot_plans=Object(m["chunk"])(null===(n=e.data)||void 0===n?void 0:n.list,3)}))})).catch((function(t){console.log(t)}))}},h=v,b=(n("f7d1"),n("2877")),k=Object(b["a"])(h,i,s,!1,null,null,null);e["default"]=k.exports},"90cb":function(t,e,n){"use strict";n("eb62")},9622:function(t,e,n){"use strict";n.d(e,"e",(function(){return a})),n.d(e,"g",(function(){return r})),n.d(e,"d",(function(){return c})),n.d(e,"h",(function(){return o})),n.d(e,"f",(function(){return l})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return p})),n.d(e,"i",(function(){return _}));n("99af");var i=n("41cb"),s=Object(i["d"])();function a(t){return s.get("/quest/",{params:t})}function r(t,e){return s.post("/quests",e,{params:t})}function c(t){return s.get("/quests/newest",{params:t})}function o(t){return t=Object.assign(t,{type:"quest"}),Object(i["a"])().get("/api/cms/wiki/post/waiting",{params:t})}function l(){return s.get("/quest/maps")}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wiki_quest_ac";return Object(i["a"])().get("/api/cms/breadcrumb/".concat(t)).then((function(t){return t.data.data.html||""}))}function d(t,e){return Object(i["a"])().post("/api/cms/wiki/user-quest/".concat(t,"/").concat(e))}function p(t,e){return Object(i["a"])().delete("/api/cms/wiki/user-quest/".concat(t,"/").concat(e))}function _(t){return Object(i["a"])().get("/api/cms/wiki/user-quest/".concat(t))}},ac29:function(t,e,n){"use strict";n("b0c0");var i=function(){var t=this,e=t._self._c;return e("router-link",{staticClass:"u-item u-item-new",attrs:{to:{name:"view",params:t.getViewParams()}}},["quest"!==t.type?e("div",{staticClass:"u-icon"},[e("img",{attrs:{src:t.iconUrl(t.item.IconID)}})]):t._e(),e("div",{staticClass:"m-carousel-content"},[e("div",{staticClass:"u-title"},[e("i",{staticClass:"el-icon-medal"}),e("span",{domProps:{textContent:t._s("".concat("quest"===t.type?t.item.name:t.item.Name))}})]),e("div",{staticClass:"u-desc"},[e("i",{staticClass:"el-icon-mic"}),e("span",{domProps:{innerHTML:t._s("".concat("quest"===t.type?t.item.target:t.parseDesc(t.item.Desc)))}})])])])},s=[],a=(n("ac1f"),n("5319"),n("5b81"),n("85e4")),r={name:"WikiItem",props:{item:{type:Object,required:!0},type:{type:String,default:"achievement"}},computed:{client:function(){return this.$store.state.client}},methods:{iconUrl:function(t){return Object(a["l"])(t,this.client)},getViewParams:function(){var t={source_id:this.item.ID};return"item"===this.type&&(t={item_id:this.item.id}),"quest"===this.type&&(t={quest_id:this.item.id}),t},parseDesc:function(t){return t?t.replaceAll('<Text>text="',"").replace(/\".*?<\/text>/g,"").replaceAll("\\\\\\n",""):"-"}}},c=r,o=(n("90cb"),n("2877")),l=Object(o["a"])(c,i,s,!1,null,null,null);e["a"]=l.exports},cbfa:function(t,e,n){"use strict";n("b0c0"),n("b680");var i=function(){var t=this,e=t._self._c;return e("router-link",{attrs:{to:{name:"waiting"}}},[e("i",{staticClass:"el-icon-edit-outline"}),e("span",[t._v("待攻略"+t._s(t.name))]),t.showCounter?e("span",{staticClass:"u-waiting",style:t.waitingColorStyle()},[t._v("（"+t._s(t.solveRate.toFixed(2))+"%）")]):t._e()])},s=[],a=n("500d"),r=(n("9622"),{name:"WikiCounter",props:{type:{type:String,default:"achievement"},showCounter:{type:Boolean,default:!0}},data:function(){return{solveRate:0}},computed:{name:function(){var t="成就";return"item"===this.type&&(t="物品"),"quest"===this.type&&(t="任务"),t}},methods:{waitingColorStyle:function(){return this.solveRate>95?"color: #8dfa58":this.solveRate>60?"color: #e2d849":"color: #ff3838"}},mounted:function(){var t=this;a["a"].counter({type:this.type}).then((function(e){var n,i=null!==(n=e.data.data)&&void 0!==n?n:{},s=i.wiki_count,a=i.source_count;t.solveRate=s/a*100}))}}),c=r,o=n("2877"),l=Object(o["a"])(c,i,s,!1,null,null,null);e["a"]=l.exports},cf45:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("fb6a"),n("ac1f"),n("5319"),n("498a");var i=function(t){return t=t?t.trim().replace(/<[^>]*>/g,""):"",t.length>100?t.slice(0,100)+"...":t}},eb62:function(t,e,n){},f7d1:function(t,e,n){"use strict";n("1510")}}]);
//# sourceMappingURL=chunk-3dee3932.2767229f.js.map