{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.strike.js","webpack:///./src/components/cj/Relations.vue?12ee","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComments.vue?0877","webpack:///./src/service/relations.js","webpack:///./src/views/cj/Detail.vue?b400","webpack:///./src/views/cj/Detail.vue","webpack:///./src/components/cj/Relations.vue","webpack:///src/components/cj/Relations.vue","webpack:///./src/components/cj/Relations.vue?618c","webpack:///./src/components/cj/Relations.vue?37be","webpack:///src/views/cj/Detail.vue","webpack:///./src/views/cj/Detail.vue?945f","webpack:///./src/views/cj/Detail.vue?026a","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComments.vue","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComment.vue","webpack:///node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComment.vue","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComment.vue?6c0f","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComment.vue?3144","webpack:///node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComments.vue","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComments.vue?8ccb","webpack:///./node_modules/@jx3box/jx3box-common-ui/src/wiki/WikiComments.vue?210a"],"names":["$","createHTML","forcedStringHTMLMethod","target","proto","forced","strike","this","getBossInfo","id","$node","get","concat","render","_vm","_c","_self","staticClass","wiki_post","source","attrs","_e","post","slot","class","_v","publish_url","compatible","content","_s","user_name","updated_at","key","favTitle","author_id","authors","client","is_empty","staticRenderFns","relations","length","npc","on","show_npc","$event","_l","relation","name","params","source_id","ID","icon_url","IconID","src","apply","arguments","domProps","Name","directives","rawName","value","expression","bossInfo","base","item","title","zh","shield","hit","other","props","data","computed","$store","state","methods","iconLink","npcid","_this","then","res","list","components","WikiPanel","watch","sourceId","immediate","handler","_this2","getRelationAchievements","result","boss_id","component","$route","post_id","isRevision","user_id","_this$wiki_post","_this$wiki_post$post","user_nickname","_this$wiki_post2","_this$wiki_post2$post","ts2str","updated","_this$wiki_post3","_this$wiki_post3$user","_this$wiki_post3$user2","users","filter","user","map","user_avatar","avatar","display_name","nickname","_this$wiki_post4","_this$wiki_post4$sour","publishLink","triggerStat","postStat","loadData","wiki","mix","type","supply","isEmpty","loadRevision","getById","_res$data","AchievementSingle","WikiRevisions","WikiComments","Relations","Article","mounted","loading","comments","page","total","pageSize","handleCurrentChange","reply_form","composing","$set","create_comment","comment","author_url","parent_id","parent","show","children","authorLink","form","app","$parent","$message","message","User","getInfo","location","href","includes","get_comments","outputs","_loop","c","index","push","wikiComment","code","i","current_page","undefined","finally","Comment"],"mappings":"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","file":"js/chunk-74f3a2c0.44a29038.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.strike` method\n// https://tc39.es/ecma262/#sec-string.prototype.strike\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('strike') }, {\n  strike: function strike() {\n    return createHTML(this, 'strike', '', '');\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Relations.vue?vue&type=style&index=0&id=444d0bec&prod&lang=less&\"","export * from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./WikiComments.vue?vue&type=style&index=0&id=3ac92298&prod&lang=less&\"","import { $node } from '@jx3box/jx3box-common/js/https'\n\nconst getBossInfo = (id) => {\n    return $node().get(`/npc/id/${id}`)\n}\n\nexport {\n    getBossInfo\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Detail.vue?vue&type=style&index=0&id=b7838fe6&prod&lang=less&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-detail-view\"},[(_vm.wiki_post && _vm.wiki_post.source)?_c('AchievementSingle',{attrs:{\"achievement\":_vm.wiki_post.source,\"show-favorite\":\"true\"}}):_vm._e(),(_vm.wiki_post && _vm.wiki_post.post)?_c('div',{staticClass:\"m-wiki-post-panel\"},[_c('WikiPanel',{attrs:{\"wiki-post\":_vm.wiki_post}},[_c('template',{slot:\"head-title\"},[_c('svg',{class:'u-icon',attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"31.531\",\"height\":\"31.531\",\"viewBox\":\"0 0 31.531 31.531\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"d\":\"M11.872 24.961l-2.539.412a2.59 2.59 0 01-1.961-.468 2.606 2.606 0 01-1.043-1.72l-.223-1.482-4.407 4.407a.835.835 0 00.438 1.413l2.801.523.523 2.801a.838.838 0 001.413.438l5.755-5.755-.422-.427a.471.471 0 00-.335-.142z\"}}),_c('path',{attrs:{\"d\":\"M19.91 23.932l2.458.404a1.554 1.554 0 001.794-1.303l.37-2.458c.075-.492.383-.917.829-1.141l2.224-1.111a1.564 1.564 0 00.686-2.111L27.129 14a1.518 1.518 0 010-1.403l1.144-2.211c.19-.37.227-.802.098-1.199a1.57 1.57 0 00-.785-.911l-2.223-1.112a1.53 1.53 0 01-.829-1.14l-.37-2.458a1.556 1.556 0 00-.624-1.026 1.555 1.555 0 00-1.17-.279l-2.457.405a1.52 1.52 0 01-1.335-.434L16.828.459A1.568 1.568 0 0015.766 0a1.566 1.566 0 00-1.061.459l-1.75 1.773a1.52 1.52 0 01-1.335.434l-2.457-.405a1.554 1.554 0 00-1.17.279 1.556 1.556 0 00-.624 1.026l-.37 2.458a1.532 1.532 0 01-.83 1.14L3.947 8.276a1.568 1.568 0 00-.785.912c-.129.396-.093.829.097 1.199l1.144 2.211c.229.439.229.964 0 1.403l-1.143 2.21a1.563 1.563 0 00.687 2.111l2.224 1.111c.446.224.753.649.829 1.141l.37 2.458c.062.412.288.783.624 1.026a1.55 1.55 0 001.17.277l2.458-.404c.489-.082.987.08 1.335.436l1.75 1.771a1.55 1.55 0 001.059.459 1.55 1.55 0 001.059-.459l1.75-1.771a1.517 1.517 0 011.335-.435zm-4.144-1.39c-5.205-.026-9.431-4.266-9.431-9.477 0-5.21 4.226-9.451 9.431-9.478 5.205.026 9.432 4.268 9.432 9.478-.001 5.211-4.227 9.451-9.432 9.477z\"}}),_c('path',{attrs:{\"d\":\"M15.766 4.955c-4.444.028-8.05 3.648-8.05 8.097 0 4.447 3.606 8.068 8.05 8.096 4.444-.027 8.05-3.648 8.05-8.096-.001-4.448-3.606-8.069-8.05-8.097zM29.833 26.11l-4.407-4.407-.223 1.482a2.615 2.615 0 01-3.004 2.188l-2.539-.412a.468.468 0 00-.335.143l-.422.427 5.755 5.755a.838.838 0 001.413-.438l.522-2.801 2.801-.523a.837.837 0 00.439-1.414z\"}})]),_c('span',{staticClass:\"u-txt\"},[_vm._v(\"成就攻略\")])]),_c('template',{slot:\"head-actions\"},[_c('a',{staticClass:\"el-button el-button--primary\",attrs:{\"href\":_vm.publish_url(`achievement/${_vm.id}`)}},[_c('i',{staticClass:\"el-icon-edit\"}),_c('span',[_vm._v(\"完善成就攻略\")])])]),_c('template',{slot:\"body\"},[(_vm.compatible)?_c('div',{staticClass:\"m-wiki-compatible\"},[_c('i',{staticClass:\"el-icon-warning-outline\"}),_vm._v(\" 暂无缘起攻略，以下为重制攻略，仅作参考，\"),_c('a',{staticClass:\"s-link\",attrs:{\"href\":_vm.publish_url(`achievement/${_vm.id}`)}},[_vm._v(\"参与修订\")]),_vm._v(\"。 \")]):_vm._e(),_c('Article',{attrs:{\"content\":_vm.wiki_post.post.content}}),_c('div',{staticClass:\"m-wiki-signature\"},[_c('i',{staticClass:\"el-icon-edit\"}),_vm._v(\" 本次修订由 \"),_c('b',[_vm._v(_vm._s(_vm.user_name))]),_vm._v(\" 提交于\"+_vm._s(_vm.updated_at)+\" \")]),_c('Thx',{key:'achievement-thx-' + _vm.id,staticClass:\"m-thx\",attrs:{\"postId\":_vm.id,\"postType\":\"achievement\",\"postTitle\":_vm.favTitle,\"userId\":_vm.author_id,\"adminBoxcoinEnable\":true,\"userBoxcoinEnable\":true,\"mode\":\"wiki\",\"authors\":_vm.authors,\"client\":_vm.client}})],1)],2),_c('Relations',{attrs:{\"source-id\":_vm.id}}),_c('WikiRevisions',{attrs:{\"type\":\"achievement\",\"source-id\":_vm.id}}),_c('WikiComments',{attrs:{\"type\":\"achievement\",\"source-id\":_vm.id}})],1):_vm._e(),(_vm.is_empty)?_c('div',{staticClass:\"m-wiki-post-empty\"},[_c('i',{staticClass:\"el-icon-s-opportunity\"}),_c('span',[_vm._v(\"暂无攻略，我要\")]),_c('a',{staticClass:\"s-link\",attrs:{\"href\":_vm.publish_url(`achievement/${_vm.id}`)}},[_vm._v(\"完善攻略\")])]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return ((_vm.relations && _vm.relations.length) || _vm.npc)?_c('WikiPanel',{staticClass:\"m-relations-panel\",attrs:{\"scene\":\"detail\"}},[_c('template',{slot:\"head-title\"},[_c('i',{staticClass:\"el-icon-link\"}),_c('span',[_vm._v(\"关联成就\")]),_c('em',{staticClass:\"u-remark\"},[_vm._v(\"同BOSS下的其它成就\")])]),_c('template',{slot:\"head-actions\"},[_c('el-button',{staticClass:\"u-boss\",class:{ on: _vm.show_npc },attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.show_npc = !_vm.show_npc}}},[_vm._v(\"BOSS属性参考\")])],1),_c('template',{slot:\"body\"},[_c('div',{staticClass:\"m-section\"},[(!_vm.relations || !_vm.relations.length)?_c('div',{staticClass:\"u-empty\"},[(_vm.relations === null)?_c('span',[_vm._v(\"🎉 数据加载中...\")]):_vm._e(),(_vm.relations === false)?_c('span',[_vm._v(\"⚠️ 数据加载异常\")]):_vm._e(),(_vm.relations && !_vm.relations.length)?_c('span',[_vm._v(\"💧 暂无相关成就\")]):_vm._e()]):_vm._e(),(_vm.relations && _vm.relations.length)?_c('div',{staticClass:\"m-relations\"},_vm._l((_vm.relations),function(relation,key){return _c('router-link',{key:key,staticClass:\"u-title\",attrs:{\"to\":{ name: 'view', params: { source_id: relation.ID } }}},[_c('img',{staticClass:\"u-icon\",attrs:{\"src\":_vm.icon_url(relation.IconID)},on:{\"~error\":function($event){return (() => {\n                                $event.target.src = _vm.icon_url();\n                            }).apply(null, arguments)}}}),_c('span',{staticClass:\"u-text\",domProps:{\"textContent\":_vm._s(relation.Name)}})])}),1):_vm._e()]),(_vm.npc)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show_npc),expression:\"show_npc\"}],staticClass:\"m-section m-bossinfos\"},[_c('ul',{staticClass:\"m-bossinfo\"},[_c('li',{staticClass:\"u-id\"},[_vm._v(\" ID: \"),_c('em'),_vm._v(\" \"+_vm._s(_vm.npc.ID)+\" \")]),_c('li',{staticClass:\"u-name\"},[_vm._v(\" 首领: \"),_c('em'),_vm._v(\" \"+_vm._s(_vm.npc.Name)+\" \")]),_vm._l((_vm.bossInfo.base),function(item){return _c('li',{key:item.key,staticClass:\"u-desc\",attrs:{\"title\":item.title}},[_vm._v(\" \"+_vm._s(item.zh)+\" \"),_c('em',[_vm._v(_vm._s(item.key))]),_vm._v(\" \"+_vm._s(_vm.npc[item.key])+\" \")])})],2),_c('ul',{staticClass:\"m-bossinfo\"},_vm._l((_vm.bossInfo.shield),function(item){return _c('li',{key:item.key,staticClass:\"u-desc\",attrs:{\"title\":item.title}},[_vm._v(\" \"+_vm._s(item.zh)+\" \"),_c('em',[_vm._v(_vm._s(item.key))]),_vm._v(\" \"+_vm._s(_vm.npc[item.key])+\" \")])}),0),_c('ul',{staticClass:\"m-bossinfo\"},_vm._l((_vm.bossInfo.strike),function(item){return _c('li',{key:item.key,staticClass:\"u-desc\",attrs:{\"title\":item.title}},[_vm._v(\" \"+_vm._s(item.zh)+\" \"),_c('em',[_vm._v(_vm._s(item.key))]),_vm._v(\" \"+_vm._s(_vm.npc[item.key])+\" \")])}),0),_c('ul',{staticClass:\"m-bossinfo\"},_vm._l((_vm.bossInfo.hit),function(item){return _c('li',{key:item.key,staticClass:\"u-desc\",attrs:{\"title\":item.title}},[_vm._v(\" \"+_vm._s(item.zh)+\" \"),_c('em',[_vm._v(_vm._s(item.key))]),_vm._v(\" \"+_vm._s(_vm.npc[item.key])+\" \")])}),0),_c('ul',{staticClass:\"m-bossinfo\"},_vm._l((_vm.bossInfo.other),function(item){return _c('li',{key:item.key,staticClass:\"u-desc\",attrs:{\"title\":item.title}},[_vm._v(\" \"+_vm._s(item.zh)+\" \"),_c('em',[_vm._v(_vm._s(item.key))]),_vm._v(\" \"+_vm._s(_vm.npc[item.key])+\" \")])}),0)]):_vm._e()])],2):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <WikiPanel class=\"m-relations-panel\" scene=\"detail\" v-if=\"(relations && relations.length) || npc\">\n        <template slot=\"head-title\">\n            <i class=\"el-icon-link\"></i>\n            <span>关联成就</span>\n            <em class=\"u-remark\">同BOSS下的其它成就</em>\n        </template>\n        <template slot=\"head-actions\">\n            <el-button type=\"primary\" class=\"u-boss\" :class=\"{ on: show_npc }\" @click=\"show_npc = !show_npc\">BOSS属性参考</el-button>\n        </template>\n        <template slot=\"body\">\n            <div class=\"m-section\">\n                <div class=\"u-empty\" v-if=\"!relations || !relations.length\">\n                    <span v-if=\"relations === null\">🎉 数据加载中...</span>\n                    <span v-if=\"relations === false\">⚠️ 数据加载异常</span>\n                    <span v-if=\"relations && !relations.length\">💧 暂无相关成就</span>\n                </div>\n                <div class=\"m-relations\" v-if=\"relations && relations.length\">\n                    <router-link class=\"u-title\" v-for=\"(relation, key) in relations\" :key=\"key\" :to=\"{ name: 'view', params: { source_id: relation.ID } }\">\n                        <img\n                            class=\"u-icon\"\n                            :src=\"icon_url(relation.IconID)\"\n                            @error.once=\"\n                                () => {\n                                    $event.target.src = icon_url();\n                                }\n                            \"\n                        />\n                        <span class=\"u-text\" v-text=\"relation.Name\"></span>\n                    </router-link>\n                </div>\n            </div>\n            <div class=\"m-section m-bossinfos\" v-show=\"show_npc\" v-if=\"npc\">\n                <ul class=\"m-bossinfo\">\n                    <li class=\"u-id\">\n                        ID:\n                        <em></em>\n                        {{ npc.ID }}\n                    </li>\n                    <li class=\"u-name\">\n                        首领:\n                        <em></em>\n                        {{ npc.Name }}\n                    </li>\n                    <li v-for=\"item in bossInfo.base\" :key=\"item.key\" class=\"u-desc\" :title=\"item.title\">\n                        {{ item.zh }}\n                        <em>{{ item.key }}</em>\n                        {{ npc[item.key] }}\n                    </li>\n                </ul>\n\n                <ul class=\"m-bossinfo\">\n                    <li v-for=\"item in bossInfo.shield\" :key=\"item.key\" class=\"u-desc\" :title=\"item.title\">\n                        {{ item.zh }}\n                        <em>{{ item.key }}</em>\n                        {{ npc[item.key] }}\n                    </li>\n                </ul>\n\n                <ul class=\"m-bossinfo\">\n                    <li v-for=\"item in bossInfo.strike\" :key=\"item.key\" class=\"u-desc\" :title=\"item.title\">\n                        {{ item.zh }}\n                        <em>{{ item.key }}</em>\n                        {{ npc[item.key] }}\n                    </li>\n                </ul>\n\n                <ul class=\"m-bossinfo\">\n                    <li v-for=\"item in bossInfo.hit\" :key=\"item.key\" class=\"u-desc\" :title=\"item.title\">\n                        {{ item.zh }}\n                        <em>{{ item.key }}</em>\n                        {{ npc[item.key] }}\n                    </li>\n                </ul>\n\n                <ul class=\"m-bossinfo\">\n                    <li v-for=\"item in bossInfo.other\" :key=\"item.key\" class=\"u-desc\" :title=\"item.title\">\n                        {{ item.zh }}\n                        <em>{{ item.key }}</em>\n                        {{ npc[item.key] }}\n                    </li>\n                </ul>\n            </div>\n        </template>\n    </WikiPanel>\n</template>\n\n<script>\nimport WikiPanel from \"@jx3box/jx3box-common-ui/src/wiki/WikiPanel\";\nimport { getRelationAchievements } from \"@/service/achievement\";\nimport { getBossInfo } from \"@/service/relations\";\nimport { iconLink } from \"@jx3box/jx3box-common/js/utils\";\nimport bossInfo from \"@/assets/data/boss.json\";\n\nexport default {\n    name: \"Relation\",\n    props: [\"sourceId\"],\n    data() {\n        return {\n            relations: null,\n            npc: null,\n            show_npc: false,\n\n            bossInfo,\n        };\n    },\n    computed: {\n        client: function() {\n            return this.$store.state.client;\n        },\n    },\n    methods: {\n        icon_url: function(id) {\n            return iconLink(id,this.client);\n        },\n        // 获取boss信息\n        getBossInfo(npcid) {\n            npcid &&\n                getBossInfo(npcid).then((res) => {\n                    res = res.data;\n                    if (res.list && res.list.length) this.npc = res.list[0];\n                });\n        },\n    },\n    components: {\n        WikiPanel,\n    },\n    watch: {\n        sourceId: {\n            immediate: true,\n            handler() {\n                if (this.sourceId) {\n                    getRelationAchievements(this.sourceId).then((res) => {\n                        res = res.data;\n                        let result = res.data;\n                        this.relations = result.relations;\n\n                        // 获取boss信息\n                        this.getBossInfo(result.boss_id);\n                    });\n                }\n            },\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/cj/relation.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Relations.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Relations.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Relations.vue?vue&type=template&id=444d0bec&\"\nimport script from \"./Relations.vue?vue&type=script&lang=js&\"\nexport * from \"./Relations.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Relations.vue?vue&type=style&index=0&id=444d0bec&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"m-detail-view\">\n        <AchievementSingle v-if=\"wiki_post && wiki_post.source\" :achievement=\"wiki_post.source\" show-favorite=\"true\" />\n\n        <div class=\"m-wiki-post-panel\" v-if=\"wiki_post && wiki_post.post\">\n            <WikiPanel :wiki-post=\"wiki_post\">\n                <template slot=\"head-title\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31.531\" height=\"31.531\" viewBox=\"0 0 31.531 31.531\" v-bind:class=\"'u-icon'\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M11.872 24.961l-2.539.412a2.59 2.59 0 01-1.961-.468 2.606 2.606 0 01-1.043-1.72l-.223-1.482-4.407 4.407a.835.835 0 00.438 1.413l2.801.523.523 2.801a.838.838 0 001.413.438l5.755-5.755-.422-.427a.471.471 0 00-.335-.142z\"/><path d=\"M19.91 23.932l2.458.404a1.554 1.554 0 001.794-1.303l.37-2.458c.075-.492.383-.917.829-1.141l2.224-1.111a1.564 1.564 0 00.686-2.111L27.129 14a1.518 1.518 0 010-1.403l1.144-2.211c.19-.37.227-.802.098-1.199a1.57 1.57 0 00-.785-.911l-2.223-1.112a1.53 1.53 0 01-.829-1.14l-.37-2.458a1.556 1.556 0 00-.624-1.026 1.555 1.555 0 00-1.17-.279l-2.457.405a1.52 1.52 0 01-1.335-.434L16.828.459A1.568 1.568 0 0015.766 0a1.566 1.566 0 00-1.061.459l-1.75 1.773a1.52 1.52 0 01-1.335.434l-2.457-.405a1.554 1.554 0 00-1.17.279 1.556 1.556 0 00-.624 1.026l-.37 2.458a1.532 1.532 0 01-.83 1.14L3.947 8.276a1.568 1.568 0 00-.785.912c-.129.396-.093.829.097 1.199l1.144 2.211c.229.439.229.964 0 1.403l-1.143 2.21a1.563 1.563 0 00.687 2.111l2.224 1.111c.446.224.753.649.829 1.141l.37 2.458c.062.412.288.783.624 1.026a1.55 1.55 0 001.17.277l2.458-.404c.489-.082.987.08 1.335.436l1.75 1.771a1.55 1.55 0 001.059.459 1.55 1.55 0 001.059-.459l1.75-1.771a1.517 1.517 0 011.335-.435zm-4.144-1.39c-5.205-.026-9.431-4.266-9.431-9.477 0-5.21 4.226-9.451 9.431-9.478 5.205.026 9.432 4.268 9.432 9.478-.001 5.211-4.227 9.451-9.432 9.477z\"/><path d=\"M15.766 4.955c-4.444.028-8.05 3.648-8.05 8.097 0 4.447 3.606 8.068 8.05 8.096 4.444-.027 8.05-3.648 8.05-8.096-.001-4.448-3.606-8.069-8.05-8.097zM29.833 26.11l-4.407-4.407-.223 1.482a2.615 2.615 0 01-3.004 2.188l-2.539-.412a.468.468 0 00-.335.143l-.422.427 5.755 5.755a.838.838 0 001.413-.438l.522-2.801 2.801-.523a.837.837 0 00.439-1.414z\"/></svg>\n                    <span class=\"u-txt\">成就攻略</span>\n                </template>\n                <template slot=\"head-actions\">\n                    <a class=\"el-button el-button--primary\" :href=\"publish_url(`achievement/${id}`)\">\n                        <i class=\"el-icon-edit\"></i>\n                        <span>完善成就攻略</span>\n                    </a>\n                </template>\n                <template slot=\"body\">\n                    <div class=\"m-wiki-compatible\" v-if=\"compatible\">\n                        <i class=\"el-icon-warning-outline\"></i> 暂无缘起攻略，以下为重制攻略，仅作参考，<a class=\"s-link\" :href=\"publish_url(`achievement/${id}`)\">参与修订</a>。\n                    </div>\n                    <Article :content=\"wiki_post.post.content\" />\n                    <div class=\"m-wiki-signature\">\n                        <i class=\"el-icon-edit\"></i>\n                        本次修订由 <b>{{ user_name }}</b> 提交于{{ updated_at }}\n                    </div>\n                    <Thx class=\"m-thx\" :postId=\"id\" postType=\"achievement\" :postTitle=\"favTitle\" :userId=\"author_id\" :adminBoxcoinEnable=\"true\" :userBoxcoinEnable=\"true\" mode=\"wiki\" :authors=\"authors\" :key=\"'achievement-thx-' + id\" :client=\"client\" />\n                </template>\n            </WikiPanel>\n\n            <Relations :source-id=\"id\" />\n\n            <!-- 历史版本 -->\n            <WikiRevisions type=\"achievement\" :source-id=\"id\" />\n\n            <!-- 百科评论 -->\n            <WikiComments type=\"achievement\" :source-id=\"id\" />\n        </div>\n        <div class=\"m-wiki-post-empty\" v-if=\"is_empty\">\n            <i class=\"el-icon-s-opportunity\"></i>\n            <span>暂无攻略，我要</span>\n            <a class=\"s-link\" :href=\"publish_url(`achievement/${id}`)\">完善攻略</a>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Article from \"@jx3box/jx3box-editor/src/Article.vue\";\nimport WikiPanel from \"@jx3box/jx3box-common-ui/src/wiki/WikiPanel\";\nimport WikiRevisions from \"@jx3box/jx3box-common-ui/src/wiki/WikiRevisions\";\nimport WikiComments from \"@jx3box/jx3box-common-ui/src/wiki/WikiComments\";\nimport AchievementSingle from \"@/components/cj/AchievementSingle.vue\";\nimport Relations from \"@/components/cj/Relations.vue\";\nimport { postStat } from \"@jx3box/jx3box-common/js/stat\";\nimport { wiki } from \"@jx3box/jx3box-common/js/wiki\";\nimport { publishLink } from \"@jx3box/jx3box-common/js/utils\";\nimport { ts2str } from \"@jx3box/jx3box-common/js/utils.js\";\nexport default {\n    name: \"Detail\",\n    data() {\n        return {\n            wiki_post: '',\n            compatible: false,\n            is_empty: true,\n        };\n    },\n    computed: {\n        id() {\n            return this.$route.params.source_id;\n        },\n        post_id: function() {\n            return this.$route.params.post_id;\n        },\n        isRevision: function() {\n            return !!this.$route.params.post_id;\n        },\n        author_id: function() {\n            return ~~this.wiki_post.post.user_id;\n        },\n        client: function() {\n            return this.$store.state.client;\n        },\n        user_name: function() {\n            return this.wiki_post?.post?.user_nickname;\n        },\n        updated_at: function() {\n            return ts2str(this.wiki_post?.post?.updated);\n        },\n        authors: function (){\n            if (!this.isRevision) {\n                return this.wiki_post?.users?.filter(user => user.id)?.map(user => {\n                    return {\n                        user_id: user.id,\n                        user_avatar: user.avatar,\n                        display_name: user.nickname\n                    }\n                }) || []\n            }\n            return []\n        },\n        favTitle : function (){\n            return this.wiki_post?.source?.Name\n        }\n    },\n    methods: {\n        publish_url: publishLink,\n        triggerStat: function() {\n            if (this.client == \"origin\") {\n                postStat(\"origin_cj\", this.id);\n            } else {\n                postStat(\"cj\", this.id);\n            }\n        },\n        loadData: function() {\n            // 获取最新攻略\n            if (this.id) {\n                wiki.mix({ type: 'achievement', id: this.id, client: this.client } , { supply: 1 }).then(res => {\n                    const { post, source, compatible, isEmpty, users } = res;\n                    this.wiki_post = {\n                        post: post,\n                        source: source,\n                        users\n                    }\n                    this.is_empty = isEmpty;\n                    this.compatible = compatible;\n                });\n            }\n            this.triggerStat();\n        },\n        loadRevision: function() {\n            // 获取指定攻略\n            wiki.getById(this.post_id, { type: \"achievement\" }).then((res) => {\n                this.wiki_post = res?.data?.data;\n            });\n            this.triggerStat();\n        },\n        ts2str,\n    },\n    components: {\n        AchievementSingle,\n        WikiPanel,\n        WikiRevisions,\n        WikiComments,\n        Relations,\n        Article,\n    },\n    watch: {\n        id: {\n            handler() {\n                this.loadData();\n            },\n        },\n        post_id: {\n            handler() {\n                this.loadRevision();\n            },\n        },\n    },\n    mounted: function() {\n        if (this.post_id) {\n            this.loadRevision();\n        } else {\n            this.loadData();\n        }\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/cj/detail.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Detail.vue?vue&type=template&id=b7838fe6&\"\nimport script from \"./Detail.vue?vue&type=script&lang=js&\"\nexport * from \"./Detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Detail.vue?vue&type=style&index=0&id=b7838fe6&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('WikiPanel',{staticClass:\"c-wiki-comments\",attrs:{\"scene\":\"detail\"}},[_c('template',{slot:\"head-title\"},[_c('i',{staticClass:\"el-icon-chat-line-round\"}),_c('span',[_vm._v(\"百科评论\")])]),_c('template',{slot:\"body\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"m-comments-panel\"},[(!_vm.comments || !_vm.comments.length)?_c('div',{staticClass:\"u-empty\"},[(_vm.comments === null)?_c('span',[_vm._v(\"🎉 数据加载中...\")]):_vm._e(),(_vm.comments === false)?_c('span',[_vm._v(\"⚠️ 数据加载异常\")]):_vm._e(),(_vm.comments && !_vm.comments.length)?_c('span',[_vm._v(\"💧 暂无评论\")]):_vm._e()]):_vm._e(),_c('Comment',{attrs:{\"comments\":_vm.comments,\"source-id\":_vm.sourceId}}),_c('el-pagination',{staticClass:\"u-pagination-box\",attrs:{\"background\":\"\",\"hide-on-single-page\":\"\",\"current-page\":_vm.page,\"total\":_vm.total,\"page-size\":_vm.pageSize,\"layout\":\"prev, pager, next, total\"},on:{\"current-change\":_vm.handleCurrentChange}}),_c('div',{staticClass:\"m-reply-form\",attrs:{\"id\":\"m-reply-form\"}},[_c('h4',{staticClass:\"u-title\"},[_c('i',{staticClass:\"el-icon-chat-dot-round\"}),_c('span',[_vm._v(\"回复\")])]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reply_form.content),expression:\"reply_form.content\"}],staticClass:\"u-reply-content\",domProps:{\"value\":(_vm.reply_form.content)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.reply_form, \"content\", $event.target.value)}}}),_c('div',{staticClass:\"u-author\"},[_c('span',[_vm._v(\"昵称：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reply_form.user_nickname),expression:\"reply_form.user_nickname\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.reply_form.user_nickname)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.reply_form, \"user_nickname\", $event.target.value)}}})]),_c('el-button',{staticClass:\"u-submit\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.create_comment(_vm.reply_form)}}},[_c('i',{staticClass:\"el-icon-check\"}),_c('span',[_vm._v(\"提交\")])])],1)],1)])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ul',{staticClass:\"u-comments\"},_vm._l((_vm.comments),function(comment,key){return _c('li',{key:key,staticClass:\"u-comment-panel\"},[_c('div',{staticClass:\"u-comment\"},[_c('div',{staticClass:\"u-nickname-panel\"},[_c('a',{staticClass:\"u-nickname\",attrs:{\"href\":comment.user_id ? _vm.author_url(comment.user_id) : null,\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(comment.user_nickname)}}),(comment.parent_id)?[_c('span',[_vm._v(\" 回复 \")]),_c('a',{staticClass:\"u-nickname\",attrs:{\"href\":comment.parent.user_id\n                                ? _vm.author_url(comment.parent.user_id)\n                                : null,\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(comment.parent.user_nickname)}})]:_vm._e()],2),_c('p',{staticClass:\"u-content\",domProps:{\"innerHTML\":_vm._s(comment.content)}}),_c('div',{staticClass:\"m-reply\"},[(comment.reply_form && comment.reply_form.show)?_c('el-button',{staticClass:\"u-reply\",attrs:{\"type\":\"default\"},on:{\"click\":function($event){comment.reply_form.show = !comment.reply_form.show}}},[_c('i',{staticClass:\"el-icon-arrow-up\"}),_c('span',[_vm._v(\"收起\")])]):_c('el-button',{staticClass:\"u-reply\",attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){comment.reply_form.show = !comment.reply_form.show}}},[_c('i',{staticClass:\"el-icon-chat-dot-round\"}),_c('span',[_vm._v(\"回复\")])]),_c('span',{staticClass:\"u-time\",domProps:{\"textContent\":_vm._s(_vm.ts2str(comment.updated))}})],1),(comment.reply_form && comment.reply_form.show)?_c('div',{staticClass:\"m-reply-form\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(comment.reply_form.content),expression:\"comment.reply_form.content\"}],staticClass:\"u-reply-content\",domProps:{\"value\":(comment.reply_form.content)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(comment.reply_form, \"content\", $event.target.value)}}}),_c('div',{staticClass:\"u-author\"},[_c('span',[_vm._v(\"昵称：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(comment.reply_form.user_nickname),expression:\"comment.reply_form.user_nickname\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(comment.reply_form.user_nickname)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(comment.reply_form, \"user_nickname\", $event.target.value)}}})]),_c('el-button',{staticClass:\"u-submit\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.create_comment(comment.reply_form, comment.id)}}},[_c('i',{staticClass:\"el-icon-check\"}),_c('span',[_vm._v(\"提交\")])])],1):_vm._e()]),(comment.children.length)?_c('WikiComment',{attrs:{\"comments\":comment.children,\"source-id\":_vm.sourceId}}):_vm._e()],1)}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <ul class=\"u-comments\">\n        <li\n            class=\"u-comment-panel\"\n            v-for=\"(comment, key) in comments\"\n            :key=\"key\"\n        >\n            <div class=\"u-comment\">\n                <!-- 评论内容 -->\n                <div class=\"u-nickname-panel\">\n                    <a\n                        class=\"u-nickname\"\n                        :href=\"\n                            comment.user_id ? author_url(comment.user_id) : null\n                        \"\n                        target=\"_blank\"\n                        v-text=\"comment.user_nickname\"\n                    ></a>\n                    <template v-if=\"comment.parent_id\">\n                        <span>&nbsp;回复&nbsp;</span>\n                        <a\n                            class=\"u-nickname\"\n                            :href=\"\n                                comment.parent.user_id\n                                    ? author_url(comment.parent.user_id)\n                                    : null\n                            \"\n                            target=\"_blank\"\n                            v-text=\"comment.parent.user_nickname\"\n                        ></a>\n                    </template>\n                </div>\n                <p class=\"u-content\" v-html=\"comment.content\"></p>\n                <!-- 其他 -->\n                <div class=\"m-reply\">\n                    <!-- 展开、收起 -->\n                    <el-button\n                        type=\"default\"\n                        v-if=\"comment.reply_form && comment.reply_form.show\"\n                        class=\"u-reply\"\n                        @click=\"\n                            comment.reply_form.show = !comment.reply_form.show\n                        \"\n                    >\n                        <i class=\"el-icon-arrow-up\"></i>\n                        <span>收起</span>\n                    </el-button>\n                    <el-button\n                        type=\"primary\"\n                        plain\n                        v-else\n                        class=\"u-reply\"\n                        @click=\"\n                            comment.reply_form.show = !comment.reply_form.show\n                        \"\n                    >\n                        <i class=\"el-icon-chat-dot-round\"></i>\n                        <span>回复</span>\n                    </el-button>\n                    <!-- 更新时间 -->\n                    <span\n                        class=\"u-time\"\n                        v-text=\"ts2str(comment.updated)\"\n                    ></span>\n                </div>\n                <!-- 评论回复表单 -->\n                <div class=\"m-reply-form\" v-if=\"comment.reply_form && comment.reply_form.show\">\n                    <textarea\n                        class=\"u-reply-content\"\n                        v-model=\"comment.reply_form.content\"\n                    ></textarea>\n                    <div class=\"u-author\">\n                        <span>昵称：</span>\n                        <input\n                            v-model=\"comment.reply_form.user_nickname\"\n                            type=\"text\"\n                        />\n                    </div>\n                    <el-button\n                        type=\"primary\"\n                        class=\"u-submit\"\n                        @click=\"create_comment(comment.reply_form, comment.id)\"\n                    >\n                        <i class=\"el-icon-check\"></i>\n                        <span>提交</span>\n                    </el-button>\n                </div>\n            </div>\n            <WikiComment\n                v-if=\"comment.children.length\"\n                :comments=\"comment.children\"\n                :source-id=\"sourceId\"\n            />\n        </li>\n    </ul>\n</template>\n\n<script>\nimport { authorLink, ts2str } from \"@jx3box/jx3box-common/js/utils\";\n\nexport default {\n    name: \"WikiComment\",\n    props: [\"comments\", \"sourceId\"],\n    methods: {\n        author_url: authorLink,\n        ts2str,\n        create_comment(form, parent_id) {\n            let app = this.$parent;\n            if (!app.create_comment) app = app.$parent;\n            if (!app.create_comment) {\n                this.$message({\n                    message: \"发布评论异常，请联系管理员\",\n                    type: \"warning\",\n                });\n                return;\n            }\n            app.create_comment(form, parent_id);\n        },\n    },\n};\n</script>\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./WikiComment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./WikiComment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WikiComment.vue?vue&type=template&id=5cfca930&\"\nimport script from \"./WikiComment.vue?vue&type=script&lang=js&\"\nexport * from \"./WikiComment.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <WikiPanel class=\"c-wiki-comments\" scene=\"detail\">\n        <template slot=\"head-title\">\n            <i class=\"el-icon-chat-line-round\"></i>\n            <span>百科评论</span>\n        </template>\n        <template slot=\"body\">\n            <div class=\"m-comments-panel\" v-loading=\"loading\">\n                <div class=\"u-empty\" v-if=\"!comments || !comments.length\">\n                    <span v-if=\"comments === null\">🎉 数据加载中...</span>\n                    <span v-if=\"comments === false\">⚠️ 数据加载异常</span>\n                    <span v-if=\"comments && !comments.length\">💧 暂无评论</span>\n                </div>\n                <!-- 递归评论组件 -->\n                <Comment :comments=\"comments\" :source-id=\"sourceId\" />\n                <el-pagination\n                    class=\"u-pagination-box\"\n                    background\n                    hide-on-single-page\n                    :current-page=\"page\"\n                    :total=\"total\"\n                    :page-size=\"pageSize\"\n                    layout=\"prev, pager, next, total\"\n                    @current-change=\"handleCurrentChange\"\n                ></el-pagination>\n                <!-- 回复表单 -->\n                <div id=\"m-reply-form\" class=\"m-reply-form\">\n                    <h4 class=\"u-title\">\n                        <i class=\"el-icon-chat-dot-round\"></i>\n                        <span>回复</span>\n                    </h4>\n                    <textarea\n                        class=\"u-reply-content\"\n                        v-model=\"reply_form.content\"\n                    ></textarea>\n                    <div class=\"u-author\">\n                        <span>昵称：</span>\n                        <input v-model=\"reply_form.user_nickname\" type=\"text\" />\n                    </div>\n                    <el-button\n                        type=\"primary\"\n                        class=\"u-submit\"\n                        @click=\"create_comment(reply_form)\"\n                    >\n                        <i class=\"el-icon-check\"></i>\n                        <span>提交</span>\n                    </el-button>\n                </div>\n            </div>\n        </template>\n    </WikiPanel>\n</template>\n\n<script>\nimport WikiPanel from \"./WikiPanel\";\nimport Comment from \"./WikiComment.vue\";\nimport { wikiComment } from \"@jx3box/jx3box-common/js/wiki\";\nimport User from \"@jx3box/jx3box-common/js/user\";\n\nexport default {\n    name: \"WikiComments\",\n    props: [\"type\", \"sourceId\"],\n    data() {\n        return {\n            comments: null,\n            reply_form: {\n                content: \"\",\n                user_nickname: User.getInfo().name,\n            },\n            page: 1,\n            pageSize: 10,\n            total: 0,\n            loading: false,\n        };\n    },\n    computed: {\n        client: function () {\n            return location.href.includes(\"classic\") || location.href.includes(\"origin\") ? \"origin\" : \"std\";\n        },\n    },\n    methods: {\n        get_comments() {\n            if (!this.type || !this.sourceId) return;\n            // WikiComment.list(this.type, this.sourceId, this.client)\n            this.loading = true;\n            wikiComment.list({ type: this.type, id: this.sourceId }, { client: this.client, page: this.page })\n            .then(\n                (res) => {\n                    res = res.data;\n                    if (res.code === 200) {\n                        let comments = res.data.comments;\n                        for (let i = 0; i < comments.length; i++) {\n                            comments[i][\"reply_form\"] = {\n                                show: false,\n                                content: \"\",\n                                user_nickname: User.getInfo().name,\n                            };\n                        }\n                        this.page = res.data.current_page;\n                        this.total = res.data.total\n                        this.comments = filter(comments, 0);\n                        // this.comments = comments;\n                        this.loading = false;\n                    }\n                },\n                () => {\n                    this.comments = false;\n                    this.loading = false;\n                }\n            );\n\n            function filter(comments, parent) {\n                let outputs = [];\n                for (let index in comments) {\n                    let c = comments[index];\n                    if (!c) continue;\n                    if (c.parent_id === parent) {\n                        // 递归\n                        let children = filter(c.children, c.id);\n                        c.children = children.map((item) => {\n                            item.parent = {\n                                user_id: c.user_id,\n                                user_nickname: c.user_nickname,\n                                id: c.id,\n                            }\n                            item.reply_form = {\n                                show: false,\n                                content: \"\",\n                                user_nickname: User.getInfo().name,\n                            }\n                            return item\n                        });\n                        outputs.push(c);\n                    }\n                }\n                return outputs;\n            }\n        },\n        create_comment(form, parent_id = 0) {\n            // 校验评论内容\n            if (!form.content) {\n                this.$message({\n                    message: \"请先填写评论内容再尝试提交\",\n                    type: \"warning\",\n                });\n                return;\n            }\n            const data = {\n                comment: {\n                    type: this.type,\n                    source_id: this.sourceId,\n                    parent_id: parent_id,\n                    user_nickname: form.user_nickname || User.getInfo().name,\n                    content: form.content,\n                },\n                client: this.client\n            }\n            wikiComment.post({ data }, {})\n                .then(\n                    (res) => {\n                        res = res.data;\n                        if (res.code === 200) {\n                            form.content = \"\";\n                            this.$message({\n                                message: \"提交成功，请等待审核\",\n                                type: \"success\",\n                            });\n                        } else\n                            this.$message({\n                                message: `${res.message}`,\n                                type: \"warning\",\n                            });\n                    },\n                    () => {\n                        this.$message({\n                            message: \"网络异常，提交失败\",\n                            type: \"warning\",\n                        });\n                    }\n                )\n                .finally(() => {\n                    form.show = false;\n                });\n        },\n        handleCurrentChange(page) {\n            this.page = page;\n            this.get_comments();\n        }\n    },\n    components: {\n        WikiPanel,\n        Comment,\n    },\n    watch: {\n        sourceId: {\n            immediate: true,\n            handler() {\n                this.get_comments();\n            },\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../../assets/css/wiki-comments.less\";\n</style>\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./WikiComments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./WikiComments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WikiComments.vue?vue&type=template&id=3ac92298&\"\nimport script from \"./WikiComments.vue?vue&type=script&lang=js&\"\nexport * from \"./WikiComments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WikiComments.vue?vue&type=style&index=0&id=3ac92298&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}