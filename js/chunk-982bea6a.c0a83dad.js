(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-982bea6a"],{"01ea":function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"f",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return d})),n.d(e,"g",(function(){return f}));var a=n("5530"),s=n("65c2"),i=Object(a["a"])(Object(a["a"])({},s),{},{__dataPath:"https://data.jx3box.com/",__imgPath:"https://img.jx3box.com/",__iconPath:"https://icon.jx3box.com/"}),r=i.__imgPath,o=(i.__dataPath,i.__iconPath),c=(i.__cms,i.__down,i.__node,i.__ossMirror,i.__ossRoot,i.__visibleMap,i.default_avatar),u=i.__Root,l=i.__OriginRoot,d=(i.__Github,i.__Preview,i.__server,i.__sso,i.__spider,i.__spider2,i.__next,i.__pay,i.__team,i.__lua,i.__dbm,i.__helperUrl,i.__os,i.__jx3,i.__cdn),f=(i.__staticPath,i.__clients,i.__postType,i.__wikiType,i.__appType,i.__gameType,i.__sourceType,i.__userGroup,i.__userLevel,i.__userLevelColor,i.__Links,i.feedback)},"0777":function(t,e,n){"use strict";n("7672")},"118d":function(t,e,n){"use strict";n("7886")},"38cf":function(t,e,n){"use strict";var a=n("23e7"),s=n("1148");a({target:"String",proto:!0},{repeat:s})},"3ff4":function(t,e,n){},"498a":function(t,e,n){"use strict";var a=n("23e7"),s=n("58a8").trim,i=n("c8d2");a({target:"String",proto:!0,forced:i("trim")},{trim:function(){return s(this)}})},"5b81":function(t,e,n){"use strict";var a=n("23e7"),s=n("c65b"),i=n("e330"),r=n("1d80"),o=n("1626"),c=n("861d"),u=n("44e7"),l=n("577e"),d=n("dc4a"),f=n("90d8"),p=n("0cb2"),_=n("b622"),m=n("c430"),h=_("replace"),b=TypeError,v=i("".indexOf),g=i("".replace),w=i("".slice),k=Math.max;a({target:"String",proto:!0},{replaceAll:function(t,e){var n,a,i,_,y,C,q,j,O,x,P=r(this),S=0,D="";if(c(t)){if(n=u(t),n&&(a=l(r(f(t))),!~v(a,"g")))throw new b("`.replaceAll` does not allow non-global regexes");if(i=d(t,h),i)return s(i,t,P,e);if(m&&n)return g(l(P),t,e)}_=l(P),y=l(t),C=o(e),C||(e=l(e)),q=y.length,j=k(1,q),O=v(_,y);while(-1!==O)x=C?l(e(y,O,_)):p(y,_,O,[],void 0,e),D+=w(_,S,O)+x,S=O+q,O=O+j>_.length?-1:v(_,y,O+j);return S<_.length&&(D+=w(_,S)),D}})},7672:function(t,e,n){},7886:function(t,e,n){},"90cb":function(t,e,n){"use strict";n("eb62")},9622:function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"g",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"h",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return f})),n.d(e,"i",(function(){return p}));n("99af");var a=n("41cb"),s=Object(a["d"])();function i(t){return s.get("/quest/",{params:t})}function r(t,e){return s.post("/quests",e,{params:t})}function o(t){return s.get("/quests/newest",{params:t})}function c(t){return t=Object.assign(t,{type:"quest"}),Object(a["a"])().get("/api/cms/wiki/post/waiting",{params:t})}function u(t){return s.get("/quest/maps",{params:t})}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wiki_quest_ac";return Object(a["a"])().get("/api/cms/breadcrumb/".concat(t)).then((function(t){return t.data.data.html||""}))}function d(t,e){return Object(a["a"])().post("/api/cms/wiki/user-quest/".concat(t,"/").concat(e))}function f(t,e){return Object(a["a"])().delete("/api/cms/wiki/user-quest/".concat(t,"/").concat(e))}function p(t){return Object(a["a"])().get("/api/cms/wiki/user-quest/".concat(t))}},ac29:function(t,e,n){"use strict";n("b0c0");var a=function(){var t=this,e=t._self._c;return e("router-link",{staticClass:"u-item u-item-new",attrs:{to:{name:"view",params:t.getViewParams()}}},["quest"!==t.type?e("div",{staticClass:"u-icon"},[e("img",{attrs:{src:t.iconUrl(t.item.IconID)}})]):t._e(),e("div",{staticClass:"m-carousel-content"},[e("div",{staticClass:"u-title"},[e("i",{staticClass:"el-icon-medal"}),e("span",{domProps:{textContent:t._s("".concat("quest"===t.type?t.item.name:t.item.Name))}})]),e("div",{staticClass:"u-desc"},[e("i",{staticClass:"el-icon-mic"}),e("span",{domProps:{innerHTML:t._s("".concat("quest"===t.type?t.item.target:t.parseDesc(t.item.Desc)))}})])])])},s=[],i=(n("ac1f"),n("5319"),n("5b81"),n("85e4")),r={name:"WikiItem",props:{item:{type:Object,required:!0},type:{type:String,default:"achievement"}},computed:{client:function(){return this.$store.state.client}},methods:{iconUrl:function(t){return Object(i["l"])(t,this.client)},getViewParams:function(){var t={source_id:this.item.ID};return"item"===this.type&&(t={item_id:this.item.id}),"quest"===this.type&&(t={quest_id:this.item.id}),t},parseDesc:function(t){return t?t.replaceAll('<Text>text="',"").replace(/\".*?<\/text>/g,"").replaceAll("\\\\\\n",""):"-"}}},o=r,c=(n("90cb"),n("2877")),u=Object(c["a"])(o,a,s,!1,null,null,null);e["a"]=u.exports},b85c:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("a4d3"),n("e01a"),n("d28b"),n("d9e2"),n("d3b7"),n("3ca3"),n("ddb0");var a=n("06c5");function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Object(a["a"])(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var s=0,i=function(){};return{s:i,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){c=!0,r=t},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(c)throw r}}}}},c8d2:function(t,e,n){"use strict";var a=n("5e77").PROPER,s=n("d039"),i=n("5899"),r="â€‹Â…á Ž";t.exports=function(t){return s((function(){return!!i[t]()||r[t]()!==r||a&&i[t].name!==t}))}},cbfa:function(t,e,n){"use strict";n("b0c0"),n("b680");var a=function(){var t=this,e=t._self._c;return e("router-link",{attrs:{to:{name:"waiting"}}},[e("i",{staticClass:"el-icon-edit-outline"}),e("span",[t._v("å¾…æ”»ç•¥"+t._s(t.name))]),t.showCounter?e("span",{staticClass:"u-waiting",style:t.waitingColorStyle()},[t._v("ï¼ˆ"+t._s(t.solveRate.toFixed(2))+"%ï¼‰")]):t._e()])},s=[],i=n("500d"),r=(n("9622"),{name:"WikiCounter",props:{type:{type:String,default:"achievement"},showCounter:{type:Boolean,default:!0}},data:function(){return{solveRate:0}},computed:{name:function(){var t="æˆå°±";return"item"===this.type&&(t="ç‰©å“"),"quest"===this.type&&(t="ä»»åŠ¡"),t}},methods:{waitingColorStyle:function(){return this.solveRate>95?"color: #8dfa58":this.solveRate>60?"color: #e2d849":"color: #ff3838"}},mounted:function(){var t=this;i["a"].counter({type:this.type}).then((function(e){var n,a=null!==(n=e.data.data)&&void 0!==n?n:{},s=a.wiki_count,i=a.source_count;t.solveRate=s/i*100}))}}),o=r,c=n("2877"),u=Object(c["a"])(o,a,s,!1,null,null,null);e["a"]=u.exports},cf45:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return i}));n("99af"),n("fb6a"),n("ac1f"),n("5319"),n("498a");var a=n("85e4"),s=function(t){return t=t?t.trim().replace(/<[^>]*>/g,""):"",t.length>100?t.slice(0,100)+"...":t};function i(t,e,n,s){return Object(a["i"])("https://cdn.jx3box.com/design/avatar/mini/".concat(t,"-").concat(e,".png"),n,s)}},ea1a:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-quest-home"},[e("wiki-panel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-location-information"}),e("span",[t._v("ä¾¿æ·å…¥å£")])]),e("template",{slot:"head-actions"}),e("template",{slot:"body"},[e("ul",{staticClass:"u-qlinks"},[e("li",{staticClass:"u-qlink"},[e("a",{staticStyle:{"background-color":"#fe7979"},attrs:{target:"_blank",href:"/tool/1428"}},[e("i",{staticClass:"el-icon-trophy"}),e("span",[t._v("æ¸¸æˆå†…çœ‹ç™¾ç§‘")])])]),e("li",{staticClass:"u-qlink"},[e("Counter",{attrs:{type:"quest",showCounter:!1}})],1),e("li",{staticClass:"u-qlink"},[e("a",{staticStyle:{"background-color":"#f7b044"},attrs:{target:"_blank",href:"/exam"}},[e("i",{staticClass:"el-icon-goblet-square-full"}),e("span",[t._v("ç§‘ä¸¾é¢˜åº“")])])]),e("li",{staticClass:"u-qlink"},[e("a",{attrs:{target:"_blank",href:"/reputation"}},[e("i",{staticClass:"el-icon-grape"}),e("span",[t._v("å£°æœ›å¤§å…¨")])])]),e("li",{staticClass:"u-qlink"},[e("a",{attrs:{target:"_blank",href:"/book"}},[e("i",{staticClass:"el-icon-watermelon"}),e("span",[t._v("ä¹¦ç±å¤§å…¨")])])]),e("li",{staticClass:"u-qlink"},[e("a",{attrs:{target:"_blank",href:"pvg/gonggao/daily"}},[e("i",{staticClass:"el-icon-cherry"}),e("span",[t._v("æ—¥å¸¸æ´»åŠ¨")])])])])])],2),e("wiki-panel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-notebook-1"}),e("span",[t._v("çƒ­é—¨ä»»åŠ¡")])]),e("template",{slot:"body"},[e("quest-carousel",{attrs:{quests:t.hotQuests,views:t.hotViews,hot:!0}})],1)],2),e("wiki-panel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-notebook-2"}),e("span",[t._v("æœ€æ–°ä»»åŠ¡")])]),e("template",{slot:"head-actions"},[e("router-link",{staticClass:"other",attrs:{to:{name:"newest"}}},[t._v("æŸ¥çœ‹æ›´å¤š Â»")])],1),e("template",{slot:"body"},[e("quest-carousel",{attrs:{quests:t.newestQuests}})],1)],2),e("wiki-panel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-collection"}),e("span",[t._v("æœ€æ–°æ”»ç•¥")])]),e("newest-post",{attrs:{slot:"body"},slot:"body"})],2)],1)},s=[],i=n("b85c"),r=n("c14f"),o=n("1da1"),c=(n("a15b"),n("14d9"),n("b0c0"),n("d2a1")),u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-newest-post"},t._l(t.data,(function(n,a){return e("div",{key:a,staticClass:"u-post"},[e("div",{staticClass:"u-post-head"},[e("div",{staticClass:"u-quest"},[e("router-link",{staticClass:"u-quest-name",attrs:{to:{name:"view",params:{quest_id:n.source_id,post_id:n.id}},target:"_blank"}},[t._v(t._s(t.questName(n.title)))]),e("div",{staticClass:"u-quest-level",domProps:{textContent:t._s("ç»¼åˆéš¾åº¦ï¼š"+t.star(n.level))}}),n.remark?e("div",{staticClass:"u-post-remark",domProps:{textContent:t._s("ðŸ“‘ "+n.remark)}}):t._e()],1),e("div",{staticClass:"u-post-user"},[e("div",{staticClass:"u-author"},[e("img",{staticClass:"u-icon",attrs:{src:t.showAvatar(n.user),alt:n.user_nickname}}),e("a",{staticClass:"u-name",attrs:{href:n.user_id?t.authorLink(n.user_id):null,target:"_blank"},domProps:{textContent:t._s(n.user_nickname)}})]),e("div",{staticClass:"u-updated",domProps:{textContent:t._s(t.ts2str(n.updated))}})])]),e("div",{staticClass:"u-post-body"},[e("div",{staticClass:"u-excerpt",attrs:{to:{name:"view",params:{quest_id:n.source_id}}},domProps:{innerHTML:t._s(t.ellipsis(n.content))}})])])})),0)},l=[],d=(n("38cf"),n("85e4")),f=n("500d"),p=n("cf45"),_={name:"NewestPost",data:function(){return{data:[]}},mounted:function(){this.getData()},computed:{client:function(){return this.$store.state.client}},methods:{authorLink:d["a"],ts2str:d["t"],iconLink:d["l"],showAvatar:function(t){var e=(null===t||void 0===t?void 0:t.user_avatar)||"";return Object(d["r"])(e)},getLink:d["f"],getData:function(){var t=this;return Object(o["a"])(Object(r["a"])().m((function e(){return Object(r["a"])().w((function(e){while(1)switch(e.n){case 0:f["a"].latest({type:"quest"}).then((function(e){var n,a;t.data=null!==(n=null===(a=e.data.data)||void 0===a?void 0:a.list)&&void 0!==n?n:[]}),(function(){t.data=[]}));case 1:return e.a(2)}}),e)})))()},star:function(t){return"â­ï¸".repeat(t||1)},ellipsis:p["a"],questName:function(t){return t||"æœªçŸ¥ä»»åŠ¡"}}},m=_,h=(n("f9ca"),n("2877")),b=Object(h["a"])(m,u,l,!1,null,"2c098992",null),v=b.exports,g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-quest-carousel"},[e("el-carousel",{attrs:{height:"66px",direction:"vertical",interval:3500,"indicator-position":"none"}},t._l(t.chunkedQuests,(function(n,a){return e("el-carousel-item",{key:a,staticClass:"m-carousel",class:{"m-hot":t.hot}},[e("el-row",{attrs:{gutter:20}},t._l(n,(function(t,n){return e("el-col",{key:n,attrs:{md:8}},[e("WikiItem",{class:"u-item-".concat(n),attrs:{type:"quest",item:t}})],1)})),1)],1)})),1)],1)},w=[],k=n("2ef0"),y=n("ac29"),C={name:"QuestCarousel",components:{WikiItem:y["a"]},props:{quests:{type:Array,default:function(){return[]}},views:{type:Object,default:function(){}},hot:{type:Boolean,default:!1}},data:function(){return{chunkedQuests:[]}},watch:{quests:{immediate:!0,handler:function(){this.chunkedQuests=Object(k["chunk"])(this.quests,3)}}}},q=C,j=(n("118d"),Object(h["a"])(q,g,w,!1,null,"0ba529bb",null)),O=j.exports,x=n("9622"),P=n("01ea"),S=n("9616"),D=n("cbfa"),Q={name:"Home",components:{NewestPost:v,QuestCarousel:O,WikiPanel:c["a"],Counter:D["a"]},data:function(){return{by:"all",feedback:P["g"],newestQuests:[],hotQuests:[],hotViews:{}}},computed:{client:function(){return this.$store.state.client}},methods:{getNewestData:function(){var t=arguments,e=this;return Object(o["a"])(Object(r["a"])().m((function n(){var a,s;return Object(r["a"])().w((function(n){while(1)switch(n.n){case 0:a=t.length>0&&void 0!==t[0]?t[0]:1,s={page:a,pageSize:12,client:e.client},Object(x["d"])(s).then((function(t){e.newestQuests=t.data.list}));case 1:return n.a(2)}}),n)})))()},getHotData:function(){var t=this;return Object(o["a"])(Object(r["a"])().m((function e(){var n;return Object(r["a"])().w((function(e){while(1)switch(e.n){case 0:n="origin"==t.client?"origin_quest":"quest",Object(S["b"])(n,"views",12).then((function(e){e=e.data;var n,a=[],s=Object(i["a"])(e);try{for(s.s();!(n=s.n()).done;){var r,o=n.value,c=null===(r=o.name.split("-"))||void 0===r?void 0:r.pop();a.push(c),t.hotViews[c]=o.value}}catch(u){s.e(u)}finally{s.f()}Object(x["g"])({ids:a.join(","),client:t.client}).then((function(e){t.hotQuests=e.data}))}));case 1:return e.a(2)}}),e)})))()},iconLink:d["l"]},mounted:function(){this.getNewestData(),this.getHotData()}},L=Q,R=(n("0777"),Object(h["a"])(L,a,s,!1,null,null,null));e["default"]=R.exports},eb62:function(t,e,n){},f9ca:function(t,e,n){"use strict";n("3ff4")}}]);
//# sourceMappingURL=chunk-982bea6a.c0a83dad.js.map