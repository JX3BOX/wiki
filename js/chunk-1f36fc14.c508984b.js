(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f36fc14"],{"13aa":function(t,e,s){},"38cf":function(t,e,s){"use strict";var a=s("23e7"),n=s("1148");a({target:"String",proto:!0},{repeat:n})},"3d2f":function(t,e,s){"use strict";s("38cf");e["a"]=function(t){return"â­ï¸".repeat(t||1)}},"5b81":function(t,e,s){"use strict";var a=s("23e7"),n=s("c65b"),i=s("e330"),r=s("1d80"),c=s("1626"),o=s("861d"),l=s("44e7"),u=s("577e"),d=s("dc4a"),p=s("90d8"),m=s("0cb2"),f=s("b622"),h=s("c430"),v=f("replace"),_=TypeError,b=i("".indexOf),k=i("".replace),C=i("".slice),g=Math.max;a({target:"String",proto:!0},{replaceAll:function(t,e){var s,a,i,f,w,y,q,j,P,O,x=r(this),W=0,S="";if(o(t)){if(s=l(t),s&&(a=u(r(p(t))),!~b(a,"g")))throw new _("`.replaceAll` does not allow non-global regexes");if(i=d(t,v),i)return n(i,t,x,e);if(h&&s)return k(u(x),t,e)}f=u(x),w=u(t),y=c(e),y||(e=u(e)),q=w.length,j=g(1,q),P=b(f,w);while(-1!==P)O=y?u(e(w,P,f)):m(w,f,P,[],void 0,e),S+=C(f,W,P)+O,W=P+q,P=P+j>f.length?-1:b(f,w,P+j);return W<f.length&&(S+=C(f,W)),S}})},"90cb":function(t,e,s){"use strict";s("eb62")},9622:function(t,e,s){"use strict";s.d(e,"e",(function(){return i})),s.d(e,"g",(function(){return r})),s.d(e,"d",(function(){return c})),s.d(e,"h",(function(){return o})),s.d(e,"f",(function(){return l})),s.d(e,"c",(function(){return u})),s.d(e,"b",(function(){return d})),s.d(e,"a",(function(){return p})),s.d(e,"i",(function(){return m}));s("99af");var a=s("41cb"),n=Object(a["d"])();function i(t){return n.get("/quest/",{params:t})}function r(t,e){return n.post("/quests",e,{params:t})}function c(t){return n.get("/quests/newest",{params:t})}function o(t){return t=Object.assign(t,{type:"quest"}),Object(a["a"])().get("/api/cms/wiki/post/waiting",{params:t})}function l(){return n.get("/quest/maps")}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wiki_quest_ac";return Object(a["a"])().get("/api/cms/breadcrumb/".concat(t)).then((function(t){return t.data.data.html||""}))}function d(t,e){return Object(a["a"])().post("/api/cms/wiki/user-quest/".concat(t,"/").concat(e))}function p(t,e){return Object(a["a"])().delete("/api/cms/wiki/user-quest/".concat(t,"/").concat(e))}function m(t){return Object(a["a"])().get("/api/cms/wiki/user-quest/".concat(t))}},a0c0:function(t,e,s){"use strict";s("13aa")},ac29:function(t,e,s){"use strict";s("b0c0");var a=function(){var t=this,e=t._self._c;return e("router-link",{staticClass:"u-item u-item-new",attrs:{to:{name:"view",params:t.getViewParams()}}},["quest"!==t.type?e("div",{staticClass:"u-icon"},[e("img",{attrs:{src:t.iconUrl(t.item.IconID)}})]):t._e(),e("div",{staticClass:"m-carousel-content"},[e("div",{staticClass:"u-title"},[e("i",{staticClass:"el-icon-medal"}),e("span",{domProps:{textContent:t._s("".concat("quest"===t.type?t.item.name:t.item.Name))}})]),e("div",{staticClass:"u-desc"},[e("i",{staticClass:"el-icon-mic"}),e("span",{domProps:{innerHTML:t._s("".concat("quest"===t.type?t.item.target:t.parseDesc(t.item.Desc)))}})])])])},n=[],i=(s("ac1f"),s("5319"),s("5b81"),s("85e4")),r={name:"WikiItem",props:{item:{type:Object,required:!0},type:{type:String,default:"achievement"}},computed:{client:function(){return this.$store.state.client}},methods:{iconUrl:function(t){return Object(i["l"])(t,this.client)},getViewParams:function(){var t={source_id:this.item.ID};return"item"===this.type&&(t={item_id:this.item.id}),"quest"===this.type&&(t={quest_id:this.item.id}),t},parseDesc:function(t){return t?t.replaceAll('<Text>text="',"").replace(/\".*?<\/text>/g,"").replaceAll("\\\\\\n",""):"-"}}},c=r,o=(s("90cb"),s("2877")),l=Object(o["a"])(c,a,n,!1,null,null,null);e["a"]=l.exports},cbfa:function(t,e,s){"use strict";s("b0c0"),s("b680");var a=function(){var t=this,e=t._self._c;return e("router-link",{attrs:{to:{name:"waiting"}}},[e("i",{staticClass:"el-icon-edit-outline"}),e("span",[t._v("å¾…æ”»ç•¥"+t._s(t.name))]),t.showCounter?e("span",{staticClass:"u-waiting",style:t.waitingColorStyle()},[t._v("ï¼ˆ"+t._s(t.solveRate.toFixed(2))+"%ï¼‰")]):t._e()])},n=[],i=s("500d"),r=(s("9622"),{name:"WikiCounter",props:{type:{type:String,default:"achievement"},showCounter:{type:Boolean,default:!0}},data:function(){return{solveRate:0}},computed:{name:function(){var t="æˆå°±";return"item"===this.type&&(t="ç‰©å“"),"quest"===this.type&&(t="ä»»åŠ¡"),t}},methods:{waitingColorStyle:function(){return this.solveRate>95?"color: #8dfa58":this.solveRate>60?"color: #e2d849":"color: #ff3838"}},mounted:function(){var t=this;i["a"].counter({type:this.type}).then((function(e){var s,a=null!==(s=e.data.data)&&void 0!==s?s:{},n=a.wiki_count,i=a.source_count;t.solveRate=n/i*100}))}}),c=r,o=s("2877"),l=Object(o["a"])(c,a,n,!1,null,null,null);e["a"]=l.exports},cf45:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));s("fb6a"),s("ac1f"),s("5319"),s("498a");var a=function(t){return t=t?t.trim().replace(/<[^>]*>/g,""):"",t.length>100?t.slice(0,100)+"...":t}},eb62:function(t,e,s){},f982:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-home-view"},[e("WikiPanel",{staticClass:"u-qlinks-box",attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-location-information"}),e("span",[t._v("ä¾¿æ·å…¥å£")])]),e("template",{slot:"body"},[e("ul",{staticClass:"u-qlinks"},[e("li",{staticClass:"u-qlink"},[e("a",{staticStyle:{"background-color":"#fe7979"},attrs:{target:"_blank",href:"/tool/9126/"}},[e("i",{staticClass:"el-icon-trophy"}),e("span",[t._v("æ¸¸æˆå†…çœ‹ç™¾ç§‘")])])]),e("li",{staticClass:"u-qlink"},[e("Counter")],1),e("li",{staticClass:"u-qlink"},[e("a",{staticStyle:{"background-color":"#f7b044"},attrs:{target:"_blank",href:"/wiki/achievement/overview"}},[e("i",{staticClass:"el-icon-notebook-1"}),e("span",[t._v("èµ„åŽ†å®å…¸")])])]),e("li",{staticClass:"u-qlink"},[e("a",{staticStyle:{"background-color":"#f7b044"},attrs:{target:"_blank",href:t.hiddenAchievementsPostLink}},[e("i",{staticClass:"el-icon-medal"}),e("span",[t._v("éšè—æˆå°±")])])]),e("li",{staticClass:"u-qlink"},[e("a",{attrs:{target:"_blank",href:"/adventure"}},[e("i",{staticClass:"el-icon-ice-drink"}),e("span",[t._v("å¥‡é‡å¤§å…¨")])])]),e("li",{staticClass:"u-qlink"},[e("a",{attrs:{target:"_blank",href:"/pet"}},[e("i",{staticClass:"el-icon-grape"}),e("span",[t._v("å® ç‰©å¤§å…¨")])])]),e("li",{staticClass:"u-qlink"},[e("a",{attrs:{target:"_blank",href:"/horse"}},[e("i",{staticClass:"el-icon-watermelon"}),e("span",[t._v("åéª‘å¤§å…¨")])])]),e("li",{staticClass:"u-qlink"},[e("a",{attrs:{target:"_blank",href:"/furniture"}},[e("i",{staticClass:"el-icon-cherry"}),e("span",[t._v("å®¶å…·å¤§å…¨")])])])])])],2),e("WikiPanel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-notebook-1"}),e("span",[t._v("çƒ­é—¨æˆå°±")])]),e("template",{slot:"body"},[e("div",{staticClass:"m-achievement-slider"},[e("el-carousel",{attrs:{height:"66px",direction:"vertical","indicator-position":"none"}},t._l(t.hot_achievements,(function(s,a){return e("el-carousel-item",{key:a,staticClass:"m-carousel m-hot"},[e("el-row",{attrs:{gutter:20}},[t._l(s,(function(s,a){return[s?e("el-col",{key:a,attrs:{md:8}},[e("WikiItem",{class:"u-item-".concat(a),attrs:{item:s}})],1):t._e()]}))],2)],1)})),1)],1)])],2),e("WikiPanel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-notebook-2"}),e("span",[t._v("æœ€æ–°æˆå°±")])]),e("template",{slot:"head-actions"},[e("router-link",{staticClass:"other",attrs:{to:{name:"newest"}}},[t._v("æŸ¥çœ‹æ›´å¤š Â»")])],1),e("template",{slot:"body"},[e("el-carousel",{attrs:{height:"66px",direction:"vertical",interval:3500,"indicator-position":"none"}},t._l(t.newest_achievements,(function(s,a){return e("el-carousel-item",{key:a,staticClass:"m-carousel"},[e("el-row",{attrs:{gutter:20}},t._l(s,(function(t,s){return e("el-col",{key:s,attrs:{md:8}},[e("WikiItem",{class:"u-item-".concat(s),attrs:{item:t}})],1)})),1)],1)})),1)],1)],2),e("PostList")],1)},n=[],i=(s("a15b"),s("14d9"),s("fb6a"),s("b0c0"),s("e9f5"),s("7d54"),s("d3b7"),s("07ac"),s("2ca0"),s("159b"),s("65c2")),r=s("9616"),c=s("500d"),o=s("85e4"),l=s("d2a1"),u=s("ac29"),d=s("cbfa"),p=function(){var t=this,e=t._self._c;return e("WikiPanel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-collection"}),e("span",[t._v("æœ€è¿‘æ”»ç•¥")])]),e("template",{slot:"body"},[e("el-row",{staticClass:"m-posts"},t._l(t.newestPosts,(function(t,s){return e("PostItem",{key:s,attrs:{post:t}})})),1)],1)],2)},m=[],f=function(){var t=this,e=t._self._c;return e("el-col",{staticClass:"m-post"},[e("div",{staticClass:"m-head"},[e("div",{staticClass:"m-achievement"},[e("div",{staticClass:"u-achievement"},[e("img",{staticClass:"u-icon",attrs:{src:t.icon_url(t.post.source_icon_id)},on:{"~error":function(e){e.target.src=t.icon_url("")}}}),e("router-link",{staticClass:"u-name",attrs:{to:{name:"view",params:{source_id:t.post.source_id}},target:"_blank"}},[t._v(t._s(t.post.title))])],1),e("div",{staticClass:"u-level",domProps:{textContent:t._s("ç»¼åˆéš¾åº¦ï¼š"+t.star(t.post.level))}}),t.post.remark?e("div",{staticClass:"u-remark",domProps:{textContent:t._s("ðŸ“‘ "+t.post.remark)}}):t._e()]),e("div",{staticClass:"m-user"},[e("div",{staticClass:"u-author"},[e("img",{staticClass:"u-icon",attrs:{src:t.showAvatar(t.post.user),alt:t.post.user_nickname}}),e("a",{staticClass:"u-name",attrs:{href:t.post.user_id?t.author_url(t.post.user_id):null,target:"_blank"},domProps:{textContent:t._s(t.post.user_nickname)}})]),e("div",{staticClass:"u-updated",domProps:{textContent:t._s(t.ts2str(t.post.updated))}})])]),e("div",{staticClass:"m-body"},[e("div",{staticClass:"u-excerpt",attrs:{to:{name:"view",params:{source_id:t.post.source_id}}},domProps:{innerHTML:t._s(t.ellipsis(t.post.content))}})])])},h=[],v=s("3d2f"),_=s("cf45"),b={name:"WikiPostItem",props:{post:{type:Object,required:!0}},methods:{icon_url:function(t){return Object(o["l"])(t,this.client)},star:v["a"],ellipsis:_["a"],ts2str:o["s"],author_url:o["a"],showAvatar:function(t){var e=(null===t||void 0===t?void 0:t.user_avatar)||"";return Object(o["q"])(e)}}},k=b,C=s("2877"),g=Object(C["a"])(k,f,h,!1,null,null,null),w=g.exports,y={name:"WikiPostList",props:{type:{type:String,default:"achievement"}},data:function(){return{newestPosts:[]}},components:{WikiPanel:l["a"],PostItem:w},mounted:function(){var t=this;c["a"].latest({type:this.type}).then((function(e){var s,a;t.newestPosts=null!==(s=null===(a=e.data.data)||void 0===a?void 0:a.list)&&void 0!==s?s:[]}))}},q=y,j=Object(C["a"])(q,p,m,!1,null,"7879eabc",null),P=j.exports,O={name:"Home",components:{WikiPanel:l["a"],PostList:P,WikiItem:u["a"],Counter:d["a"]},data:function(){return{views:{},hot_achievements:null,newest_achievements:null,feedback:i["feedback"]}},computed:{isStd:function(){return"std"==this.$store.state.client},client:function(){return this.$store.state.client},hiddenAchievementsPostLink:function(){var t="std"==this.client?8104:43543;return Object(o["f"])("bbs",t)}},methods:{icon_url:function(t){return Object(o["l"])(t,this.client)},chuck:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,s=[],a=0;a<t.length;a+=e)s.push(t.slice(a,a+e));return s},showAvatar:function(t){var e=(null===t||void 0===t?void 0:t.user_avatar)||"";return Object(o["q"])(e)}},created:function(){var t=this,e="origin"==this.client?"origin_cj":"cj";Object(r["b"])(e,"views",12).then((function(e){e=e.data;var s=[];e.forEach((function(e){if(e.name.startsWith("cj")){var a=e.name.split("-").pop();s.push(a),t.views[a]=e.value}})),c["a"].achievements({ids:s.join(","),limit:s.length}).then((function(e){e=e.data,t.hot_achievements=t.chuck(Object.values(e.data.achievements))}))})),c["a"].achievements({per:12}).then((function(e){e=e.data,t.newest_achievements=t.chuck(Object.values(e.data.achievements))}),(function(){t.newest_achievements=[]}))}},x=O,W=(s("a0c0"),Object(C["a"])(x,a,n,!1,null,null,null));e["default"]=W.exports}}]);
//# sourceMappingURL=chunk-1f36fc14.c508984b.js.map