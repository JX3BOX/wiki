{"version":3,"sources":["webpack:///./src/components/wiki-panel.vue?2ed6","webpack:///./node_modules/@jx3box/jx3box-common/js/wiki_v2.js","webpack:///./src/components/common/qr-code.vue?d0f9","webpack:///./src/components/common/counter.vue","webpack:///src/components/common/counter.vue","webpack:///./src/components/common/counter.vue?84cc","webpack:///./src/components/common/counter.vue?512b","webpack:///./src/utils/common.js","webpack:///./src/components/wiki-panel.vue","webpack:///./src/components/common/qr-code.vue","webpack:///src/components/common/qr-code.vue","webpack:///./src/components/common/qr-code.vue?fe86","webpack:///./src/components/common/qr-code.vue?1da4","webpack:///src/components/wiki-panel.vue","webpack:///./src/components/wiki-panel.vue?12e1","webpack:///./src/components/wiki-panel.vue?40a7"],"names":["getPet","petid","params","get","client","location","href","includes","wiki","type","id","post_id","data","post","put","delete","source_type","source_id","source","isEmpty","compatible","users","res","this","console","log","res_1","then","res_2","pet","ItemTabType","ItemTabIndex","handleMix","render","_vm","_c","_self","attrs","name","staticClass","_v","_s","showCounter","style","waitingColorStyle","solveRate","toFixed","_e","staticRenderFns","props","String","default","Boolean","computed","methods","mounted","_this","counter","_res$data$data","_ref","solve","wiki_count","all","source_count","component","ellipsis","value","trim","replace","length","slice","class","borderNone","wikiPost","scene","_t","showQR","_l","user","key","author_url","thumbnail_url","avatar","nickname","level","i","stat","domProps","views","updated","ts2str","mode","on","active","togglePic","size","s","v","e","stopPropagation","vm","document","addEventListener","components","QrcodeVue","Object","watch","immediate","handler","getStat","status","authorLink","val","showAvatar","QRcode"],"mappings":"2IAAA,W,6DCAA,kDAEA,MAAMA,EAAS,CAACC,EAAOC,IACZ,iBAAQC,IAAI,QAAQF,EAAS,CAChCC,WAIFE,EAASC,SAASC,KAAKC,SAAS,UAAY,SAAW,MAEhDC,EAAO,CAEhB,QAAO,KAAEC,GAAQP,GACb,OAAO,iBAAOC,IAAI,4BAA6B,CAC3CD,OAAQ,CACJE,YACGF,EACHO,WAKZ,KAAKP,GACD,OAAO,iBAAOC,IAAI,0BAA2B,CACzCD,YAIR,SAAQ,KAAEO,GAAQP,GACd,OAAO,iBAAOC,IAAI,6BAA8B,CAC5CD,OAAQ,CACJE,YACGF,EACHO,WAKZ,aAAaP,GACT,OAAO,iBAAQC,IAAI,oBAAqB,CACpCD,OAAQ,CACJE,YACGF,MAKf,KAAI,KAAEO,EAAI,GAAEC,GAAMR,GACd,OAAO,iBAAOC,IAAI,2BAA2BM,YAAeC,IAAM,CAC9DR,OAAQ,CACJE,YACGF,MAIf,QAAQS,GACJ,OAAO,iBAAOR,IAAI,yBAAyBQ,IAE/C,KAAKC,GACD,OAAO,iBAAOC,KAAK,qBAAsBD,IAE7C,OAAOD,EAASC,GACZ,OAAO,iBAAOE,IAAI,sBAAsBH,EAAWC,IAEvD,OAAOD,GACH,OAAO,iBAAOI,OAAO,sBAAsBJ,IAG/C,UAAS,KAAEF,EAAI,GAAEC,GAAMR,GACnB,OAAO,iBAAOC,IAAI,2BAA2BM,YAAeC,aAAe,CACvER,OAAQ,CACJE,YACGF,MAKf,gBAAgBc,EAAaC,EAAWb,EAAQF,GAC5C,IAAIW,EAAO,GACPK,EAAS,GACTC,GAAU,EACVC,GAAa,EACbC,EAAQ,GACZ,GAAe,QAAXjB,EAAkB,CAClB,MAAMkB,QAAYC,KAAKpB,IAAI,CAAEM,KAAMO,EAAaN,GAAIO,GAAa,CAAEb,YAAWF,IAM9E,OALAW,EAAOS,EAAIV,KAAKA,KAAKC,KACrBK,EAASI,EAAIV,KAAKA,KAAKM,OACvBG,EAAQC,EAAIV,KAAKA,KAAKS,MACtBR,IAASM,GAAU,GACnBK,QAAQC,IAAI,UACL,CAAEZ,OAAMK,SAAQC,UAASC,aAAYX,KAAMO,EAAaC,UAAWA,EAAWI,SAClF,CACH,MAAMK,QAAcH,KAAKpB,IAAI,CAAEM,KAAMO,EAAaN,GAAIO,GAAa,CAAEb,YAAWF,IAChFgB,EAASQ,EAAMd,KAAKA,KAAKM,OACzBL,EAAOa,EAAMd,KAAKA,KAAKC,KACvBQ,EAAQK,EAAMd,KAAKA,KAAKS,MACxBR,IAASM,GAAU,GACnBK,QAAQC,IAAI,UACZ,MAAMb,IAASc,EAAMd,KAAKA,KAAKC,KAC/B,OAAKD,EAYE,CAAEC,OAAMK,SAAQC,UAASC,aAAYX,KAAMO,EAAaC,UAAWA,EAAWI,UAXjFG,QAAQC,IAAI,aACLF,KAAKpB,IAAI,CAAEM,KAAMO,EAAaN,GAAIO,GAAa,CAAEb,OAAQ,SAAUF,IAAUyB,KAAKC,IACrFf,EAAOe,EAAMhB,KAAKA,KAAKC,KAClBK,IACDA,EAASU,EAAMhB,KAAKA,KAAKM,QAC7BL,IAASM,GAAU,GACnBE,EAAQO,EAAMhB,KAAKA,KAAKS,MACxBD,GAAa,EACN,CAAEP,OAAMK,SAAQC,UAASC,aAAYX,KAAMO,EAAaC,UAAWA,EAAWI,cAOrG,WAAU,KAAEZ,EAAI,GAAEC,EAAE,OAAEN,GAAUF,GAC5B,IAAIc,EAAc,GACdC,EAAY,GAShB,GAPID,EADS,OAATP,EACc,cACE,QAATA,EACO,OAEAA,GAAQ,cAGtBC,EAAI,CAEJ,GADAO,EAAYP,EACC,QAATD,EAAgB,CAChB,MAAMa,QAAYtB,EAAOU,EAAI,CAAEN,WAC/B,IAAIyB,EAAMP,EAAIV,KACVK,EAAYY,EAAIC,YAAc,IAAMD,EAAIE,aAC5C,OAAOR,KAAKS,UAAUhB,EAAaC,EAAWb,EAAQF,GAEtD,OAAOqB,KAAKS,UAAUhB,EAAaC,EAAWb,EAAQF,O,kCCtItE,W,0DCAI+B,EAAS,WAAkB,IAAIC,EAAIX,KAAKY,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAEC,KAAM,aAAc,CAACH,EAAG,IAAI,CAACI,YAAY,yBAAyBJ,EAAG,OAAO,CAACD,EAAIM,GAAG,MAAMN,EAAIO,GAAGP,EAAII,SAAUJ,EAAIQ,YAAaP,EAAG,OAAO,CAACI,YAAY,YAAYI,MAAOT,EAAIU,qBAAsB,CAACV,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIW,UAAUC,QAAQ,IAAI,QAAQZ,EAAIa,QAE5VC,EAAkB,G,YCUP,G,UAAA,CACfV,KAAA,cACAW,MAAA,CACAxC,KAAA,CACAA,KAAAyC,OACAC,QAAA,eAEAT,YAAA,CACAjC,KAAA2C,QACAD,SAAA,IAGAvC,KAAA,WACA,OACAiC,UAAA,IAGAQ,SAAA,CACAf,KAAA,WACA,IAAAA,EAAA,KAOA,MANA,cAAA7B,OACA6B,EAAA,MAEA,eAAA7B,OACA6B,EAAA,MAEAA,IAGAgB,QAAA,CACAV,kBAAA,WACA,YAAAC,UAAA,GACA,iBACA,KAAAA,UAAA,GACA,iBAEA,mBAIAU,QAAA,eAAAC,EAAA,KAEAhD,OAAAiD,QAAA,CAAAhD,KAAA,KAAAA,OAAAkB,MAAA,SAAAL,GAAA,IAAAoC,EACAC,EAAA,QAAAD,EAAApC,EAAAV,iBAAA,IAAA8C,IAAA,GAAAE,EAAAD,EAAAE,WAAAC,EAAAH,EAAAI,aACAP,EAAAX,UAAAe,EAAAE,EAAA,UCxD6Z,I,YCOzZE,EAAY,eACd,EACA/B,EACAe,GACA,EACA,KACA,KACA,MAIa,OAAAgB,E,yHClBFC,EAAW,SAACC,GAErB,OADAA,EAAQA,EAAQA,EAAMC,OAAOC,QAAQ,WAAY,IAAM,GACnDF,EAAMG,OAAS,IACRH,EAAMI,MAAM,EAAG,KAAO,MAE1BJ,I,kCCLX,IAAIjC,EAAS,WAAkB,IAAIC,EAAIX,KAAKY,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACI,YAAY,eAAegC,MAAM,CACtG,cAAerC,EAAIsC,WACnB,iBAAkBtC,EAAIuC,UAA0B,WAAdvC,EAAIwC,QACvC,CAACvC,EAAG,MAAM,CAACI,YAAY,gBAAgB,CAACL,EAAIyC,GAAG,eAAexC,EAAG,MAAM,CAACI,YAAY,mBAAmB,CAAEL,EAAIuC,UAAYvC,EAAI0C,OAAQzC,EAAG,SAAS,CAACI,YAAY,SAASL,EAAIa,KAAKb,EAAIyC,GAAG,iBAAiB,GAAGxC,EAAG,MAAM,CAACI,YAAY,iBAAiB,CAACL,EAAIyC,GAAG,eAAe,GAAGzC,EAAIyC,GAAG,eAAe,GAAGxC,EAAG,MAAM,CAACI,YAAY,gBAAgB,CAACL,EAAIyC,GAAG,eAAgBzC,EAAIuC,UAAYvC,EAAIuC,SAAS5D,KAAMsB,EAAG,MAAM,CAACI,YAAY,gBAAgB,CAAEL,EAAIuC,SAASpD,OAASa,EAAIuC,SAASpD,MAAMgD,OAAQlC,EAAG,MAAM,CAACI,YAAY,UAAU,CAACJ,EAAG,KAAK,CAACI,YAAY,WAAW,CAACL,EAAIM,GAAG,UAAUN,EAAI2C,GAAI3C,EAAIuC,SAASpD,OAAO,SAASyD,EAAKC,GAAK,OAAO5C,EAAG,IAAI,CAAC4C,IAAIA,EAAIxC,YAAY,oBAAoBF,MAAM,CAAC,OAAS,SAAS,KAAOyC,EAAKpE,GAAKwB,EAAI8C,WAAWF,EAAKpE,IAAM,OAAO,CAACyB,EAAG,MAAM,CAACE,MAAM,CAAC,IAAMH,EAAI+C,cAAcH,EAAKI,QAAQ,IAAMJ,EAAKK,SAAS,MAAQL,EAAKK,kBAAiB,GAAGjD,EAAIa,KAAMb,EAAIuC,SAAS5D,MAAQqB,EAAIuC,SAAS5D,KAAKuE,MAAOjD,EAAG,MAAM,CAACI,YAAY,UAAU,CAACJ,EAAG,KAAK,CAACI,YAAY,WAAW,CAACL,EAAIM,GAAG,UAAUL,EAAG,OAAO,CAACI,YAAY,WAAWL,EAAI2C,GAAI3C,EAAIuC,SAAS5D,KAAKuE,OAAO,SAASC,GAAG,OAAOlD,EAAG,IAAI,CAAC4C,IAAIM,EAAE9C,YAAY,uBAAsB,KAAKL,EAAIa,KAAMb,EAAIoD,KAAMnD,EAAG,MAAM,CAACI,YAAY,UAAU,CAACJ,EAAG,KAAK,CAACI,YAAY,WAAW,CAACL,EAAIM,GAAG,QAAQL,EAAG,OAAO,CAACI,YAAY,UAAUgD,SAAS,CAAC,YAAcrD,EAAIO,GAAGP,EAAIoD,KAAKE,YAAYtD,EAAIa,KAAMb,EAAIuC,SAAS5D,MAAQqB,EAAIuC,SAAS5D,KAAK4E,QAAStD,EAAG,MAAM,CAACI,YAAY,UAAU,CAACJ,EAAG,KAAK,CAACI,YAAY,WAAW,CAACL,EAAIM,GAAG,UAAUL,EAAG,OAAO,CAACI,YAAY,UAAUgD,SAAS,CAAC,YAAcrD,EAAIO,GAAGP,EAAIwD,OAAOxD,EAAIuC,SAAS5D,KAAK4E,eAAevD,EAAIa,OAAOb,EAAIa,KAAKb,EAAIyC,GAAG,QAAQzC,EAAIyC,GAAG,eAAe,MAEplD3B,EAAkB,GCLlBf,G,UAAS,WAAkB,IAAIC,EAAIX,KAAKY,EAAGD,EAAIE,MAAMD,GAAG,MAAoB,OAAZD,EAAIyD,KAAexD,EAAG,MAAM,CAACI,YAAY,WAAWgC,MAAM,CAAEqB,GAAI1D,EAAI2D,QAASD,GAAG,CAAC,MAAQ1D,EAAI4D,YAAY,CAAC3D,EAAG,MAAM,CAACoC,MAAM,SAASlC,MAAM,CAAC,OAAS,MAAM,QAAU,cAAc,MAAQ,MAAM,MAAQ,6BAA6B,aAAa,GAAG,KAAO,eAAe,UAAY,QAAQ,SAAW,OAAO,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,2hDAA2hDF,EAAG,OAAO,CAACI,YAAY,UAAU,CAACL,EAAIM,GAAG,SAASL,EAAG,MAAM,CAACI,YAAY,YAAY,CAACJ,EAAG,aAAa,CAACI,YAAY,QAAQF,MAAM,CAAC,MAAQH,EAAIgC,MAAM,KAAOhC,EAAI6D,KAAK,MAAQ,OAAO5D,EAAG,OAAO,CAACD,EAAIM,GAAG,cAAc,KAAkB,UAAZN,EAAIyD,KAAkBxD,EAAG,MAAM,CAACI,YAAY,mBAAmB,CAACJ,EAAG,MAAM,CAACI,YAAY,YAAY,CAACJ,EAAG,aAAa,CAACI,YAAY,QAAQF,MAAM,CAAC,MAAQH,EAAIgC,MAAM,KAAOhC,EAAI6D,KAAK,MAAQ,OAAO5D,EAAG,OAAO,CAACI,YAAY,SAAS,CAACJ,EAAG,MAAM,CAACoC,MAAM,SAASlC,MAAM,CAAC,OAAS,MAAM,QAAU,cAAc,MAAQ,MAAM,MAAQ,6BAA6B,aAAa,GAAG,KAAO,eAAe,UAAY,QAAQ,SAAW,OAAO,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,2hDAA2hDH,EAAIM,GAAG,cAAc,KAAKN,EAAIa,OAEjnIC,EAAkB,G,YCiBP,GACfV,KAAA,SACAW,MAAA,iBACArC,KAAA,WACA,OACAsD,MAAA,KAAA5D,MAAAD,SAAAC,KACAyF,KAAA,KAAAC,GAAA,IACAH,QAAA,EACAF,KAAA,KAAAM,GAAA,QAGA5C,SAAA,GACAC,QAAA,CACAwC,UAAA,SAAAI,GACAA,EAAAC,kBACA,KAAAN,QAAA,KAAAA,SAGAtC,QAAA,WACA,IAAA6C,EAAA,KACAC,SAAAC,iBAAA,oBACAF,EAAAP,QAAA,MAGAU,WAAA,CACAC,mBC5C6Z,I,wBCQzZxC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,gCC6CA,GACf1B,KAAA,WACAW,MAAA,CACAwB,SAAA,CACAhE,KAAAgG,OACAtD,QAAA,MAEAuB,MAAA,CACAjE,KAAAyC,OACAC,QAAA,WAEAqB,WAAA,CACA/D,KAAA2C,QACAD,SAAA,GAEAyB,OAAA,CACAnE,KAAA2C,QACAD,SAAA,IAGAvC,KAAA,WACA,OACA0E,KAAA,OAGAoB,MAAA,CACAjC,SAAA,CACAkC,WAAA,EACAC,QAAA,eAAApD,EAAA,KACA,QAAAiB,UAEA,KAAAA,SAAAhE,MAAA,KAAAgE,SAAAxD,UAAA,CACA,IAAAR,EAAA,KAAAgE,SAAAhE,KACA,gBAAAA,MAAA,MACAoG,eAAApG,EAAA,KAAAgE,SAAAxD,WAAAU,MAAA,SAAAf,GACA,MAAAA,EAAAkG,SAAAtD,EAAA8B,KAAA1E,eAMA0C,QAAA,CACA0B,WAAA+B,gBACArB,mBACAT,cAAA,SAAA+B,GACA,OAAAC,wBAAAD,KAGAT,WAAA,CACAW,WCjH8Y,ICQ1Y,G,UAAY,eACd,EACAjF,EACAe,GACA,EACA,KACA,KACA,OAIa,S","file":"js/chunk-11c8a5b0.09118f01.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./wiki-panel.vue?vue&type=style&index=0&id=8c5adb7e&prod&lang=less\"","import { $cms, $node } from \"./https\";\n\nconst getPet = (petid, params) => {\n    return $node().get(`/pet/${petid}`, {\n        params\n    });\n}\n\nconst client = location.href.includes(\"origin\") ? \"origin\" : \"std\";\n\nexport const wiki = {\n    // 最新攻略\n    latest({ type }, params) {\n        return $cms().get(`/api/cms/wiki/post/latest`, {\n            params: {\n                client,\n                ...params,\n                type,\n            }\n        })\n    },\n    // 我的\n    mine(params) {\n        return $cms().get(`/api/cms/wiki/post/mine`, {\n            params\n        })\n    },\n    // 统计\n    counter({ type }, params) {\n        return $cms().get(`/api/cms/wiki/post/counter`, {\n            params: {\n                client,\n                ...params,\n                type,\n            }\n        })\n    },\n    // 成就列表\n    achievements(params) {\n        return $node().get(`/achievement/list`, {\n            params: {\n                client,\n                ...params,\n            }\n        })\n    },\n    // 详情\n    get({ type, id }, params) {\n        return $cms().get(`/api/cms/wiki/post/type/${type}/source/${id}`, {\n            params: {\n                client,\n                ...params,\n            }\n        })\n    },\n    getById(post_id) {\n        return $cms().get(`/api/cms/wiki/post/id/${post_id}`)\n    },\n    post(data) {\n        return $cms().post(`/api/cms/wiki/post`, data)\n    },\n    update(post_id, data) {\n        return $cms().put(`/api/cms/wiki/post/${post_id}`, data)\n    },\n    remove(post_id) {\n        return $cms().delete(`/api/cms/wiki/post/${post_id}`)\n    },\n    // 获取历史版本\n    versions({ type, id }, params) {\n        return $cms().get(`/api/cms/wiki/post/type/${type}/source/${id}/versions`, {\n            params: {\n                client,\n                ...params,\n            }\n        })\n    },\n    // 获取兼容攻略\n    async handleMix(source_type, source_id, client, params) {\n        let post = '';\n        let source = '';\n        let isEmpty = true;\n        let compatible = false;\n        let users = [];\n        if (client === 'std') {\n            const res = await this.get({ type: source_type, id: source_id }, { client, ...params });\n            post = res.data.data.post;\n            source = res.data.data.source;\n            users = res.data.data.users;\n            post && (isEmpty = false);\n            console.log(\"获取重制攻略\");\n            return { post, source, isEmpty, compatible, type: source_type, source_id: source_id, users };\n        } else {\n            const res_1 = await this.get({ type: source_type, id: source_id }, { client, ...params });\n            source = res_1.data.data.source;\n            post = res_1.data.data.post;\n            users = res_1.data.data.users;\n            post && (isEmpty = false);\n            console.log(\"获取缘起攻略\");\n            const data = !!res_1.data.data.post;\n            if (!data) {\n                console.log(\"兼容：获取重制攻略\");\n                return this.get({ type: source_type, id: source_id }, { client: 'std', ...params }).then(res_2 => {\n                    post = res_2.data.data.post;\n                    if (!source)\n                        source = res_2.data.data.source;\n                    post && (isEmpty = false);\n                    users = res_2.data.data.users;\n                    compatible = true;\n                    return { post, source, isEmpty, compatible, type: source_type, source_id: source_id, users };\n                });\n            }\n            return { post, source, isEmpty, compatible, type: source_type, source_id: source_id, users };\n        }\n    },\n    // 兼容怀旧服\n    async mix({ type, id, client }, params) {\n        let source_type = '';\n        let source_id = '';\n        if (type === 'cj') {\n            source_type = 'achievement';\n        } else if (type === 'pet') {\n            source_type = 'item';\n        } else {\n            source_type = type || 'achievement';\n        }\n\n        if (id) {\n            source_id = id;\n            if (type === 'pet') {\n                const res = await getPet(id, { client });\n                let pet = res.data;\n                let source_id = pet.ItemTabType + \"_\" + pet.ItemTabIndex;\n                return this.handleMix(source_type, source_id, client, params);\n            } else {\n                return this.handleMix(source_type, source_id, client, params);\n            }\n        }\n    },\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./qr-code.vue?vue&type=style&index=0&id=263e2756&prod&lang=less\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('router-link',{attrs:{\"to\":{ name: 'waiting' }}},[_c('i',{staticClass:\"el-icon-edit-outline\"}),_c('span',[_vm._v(\"待攻略\"+_vm._s(_vm.name))]),(_vm.showCounter)?_c('span',{staticClass:\"u-waiting\",style:(_vm.waitingColorStyle())},[_vm._v(\"（\"+_vm._s(_vm.solveRate.toFixed(2))+\"%）\")]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <router-link :to=\"{ name: 'waiting' }\">\n        <i class=\"el-icon-edit-outline\"></i>\n        <span>待攻略{{ name }}</span>\n        <span v-if=\"showCounter\" class=\"u-waiting\" :style=\"waitingColorStyle()\">（{{ solveRate.toFixed(2) }}%）</span>\n    </router-link>\n</template>\n\n<script>\n// 待攻略\nimport { wiki } from \"@jx3box/jx3box-common/js/wiki_v2\";\nimport { getWaitingRate } from \"@/service/quest\";\nexport default {\n    name: \"WikiCounter\",\n    props: {\n        type: {\n            type: String,\n            default: \"achievement\",\n        },\n        showCounter: {\n            type: Boolean,\n            default: true,\n        },\n    },\n    data() {\n        return {\n            solveRate: 0,\n        };\n    },\n    computed: {\n        name() {\n            let name = \"成就\";\n            if (this.type === \"item\") {\n                name = \"物品\";\n            }\n            if (this.type === \"quest\") {\n                name = \"任务\";\n            }\n            return name;\n        },\n    },\n    methods: {\n        waitingColorStyle() {\n            if (this.solveRate > 95) {\n                return \"color: #8dfa58\";\n            } else if (this.solveRate > 60) {\n                return \"color: #e2d849\";\n            } else {\n                return \"color: #ff3838\";\n            }\n        },\n    },\n    mounted() {\n        // 完成率\n        wiki.counter({ type: this.type }).then((res) => {\n            let { wiki_count: solve, source_count: all } = res.data.data ?? {};\n            this.solveRate = (solve / all) * 100;\n        });\n    },\n};\n</script>\n\n<style lang=\"less\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./counter.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./counter.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./counter.vue?vue&type=template&id=27b82bbd\"\nimport script from \"./counter.vue?vue&type=script&lang=js\"\nexport * from \"./counter.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export const ellipsis = (value) => {\n    value = value ? value.trim().replace(/<[^>]*>/g, '') : \"\";\n    if (value.length > 100) {\n        return value.slice(0, 100) + \"...\";\n    }\n    return value;\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"c-wiki-panel\",class:{\n        'border-none': _vm.borderNone,\n        'm-detail-scene': _vm.wikiPost || _vm.scene === 'detail',\n    }},[_c('div',{staticClass:\"m-panel-head\"},[_vm._t(\"head-before\"),_c('div',{staticClass:\"m-panel-actions\"},[(_vm.wikiPost && _vm.showQR)?_c('QRcode',{staticClass:\"u-qr\"}):_vm._e(),_vm._t(\"head-actions\")],2),_c('div',{staticClass:\"m-panel-title\"},[_vm._t(\"head-title\")],2),_vm._t(\"head-after\")],2),_c('div',{staticClass:\"m-panel-body\"},[_vm._t(\"body-before\"),(_vm.wikiPost && _vm.wikiPost.post)?_c('div',{staticClass:\"m-wiki-metas\"},[(_vm.wikiPost.users && _vm.wikiPost.users.length)?_c('div',{staticClass:\"u-meta\"},[_c('em',{staticClass:\"u-label\"},[_vm._v(\"参与贡献\")]),_vm._l((_vm.wikiPost.users),function(user,key){return _c('a',{key:key,staticClass:\"u-value u-creator\",attrs:{\"target\":\"_blank\",\"href\":user.id ? _vm.author_url(user.id) : null}},[_c('img',{attrs:{\"src\":_vm.thumbnail_url(user.avatar),\"alt\":user.nickname,\"title\":user.nickname}})])})],2):_vm._e(),(_vm.wikiPost.post && _vm.wikiPost.post.level)?_c('div',{staticClass:\"u-meta\"},[_c('em',{staticClass:\"u-label\"},[_vm._v(\"综合难度\")]),_c('span',{staticClass:\"u-value\"},_vm._l((_vm.wikiPost.post.level),function(i){return _c('i',{key:i,staticClass:\"el-icon-star-on\"})}),0)]):_vm._e(),(_vm.stat)?_c('div',{staticClass:\"u-meta\"},[_c('em',{staticClass:\"u-label\"},[_vm._v(\"热度\")]),_c('span',{staticClass:\"u-value\",domProps:{\"textContent\":_vm._s(_vm.stat.views)}})]):_vm._e(),(_vm.wikiPost.post && _vm.wikiPost.post.updated)?_c('div',{staticClass:\"u-meta\"},[_c('em',{staticClass:\"u-label\"},[_vm._v(\"更新时间\")]),_c('span',{staticClass:\"u-value\",domProps:{\"textContent\":_vm._s(_vm.ts2str(_vm.wikiPost.post.updated))}})]):_vm._e()]):_vm._e(),_vm._t(\"body\"),_vm._t(\"body-after\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.mode == 'cms')?_c('div',{staticClass:\"w-qrcode\",class:{ on: _vm.active },on:{\"click\":_vm.togglePic}},[_c('svg',{class:'u-icon',attrs:{\"height\":\"512\",\"viewBox\":\"0 0 512 512\",\"width\":\"512\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"d\":\"M456.66 0H385c-8.284 0-15 6.716-15 15s6.716 15 15 15h71.66C470.632 30 482 41.368 482 55.341V127c0 8.284 6.716 15 15 15s15-6.716 15-15V55.341C512 24.826 487.174 0 456.66 0zM15 142c8.284 0 15-6.716 15-15V55.341C30 41.368 41.368 30 55.34 30H127c8.284 0 15-6.716 15-15s-6.716-15-15-15H55.34C24.826 0 0 24.826 0 55.341V127c0 8.284 6.716 15 15 15zM127 482H55.34C41.368 482 30 470.632 30 456.659V385c0-8.284-6.716-15-15-15s-15 6.716-15 15v71.659C0 487.174 24.826 512 55.34 512H127c8.284 0 15-6.716 15-15s-6.716-15-15-15zM497 370c-8.284 0-15 6.716-15 15v71.659C482 470.632 470.632 482 456.66 482H385c-8.284 0-15 6.716-15 15s6.716 15 15 15h71.66c30.515 0 55.34-24.826 55.34-55.341V385c0-8.284-6.716-15-15-15zM341.643 110h47.575c6.497 0 11.782 5.285 11.782 11.782v47.574c0 8.284 6.716 15 15 15s15-6.716 15-15v-47.574C431 98.743 412.256 80 389.218 80h-47.575c-8.284 0-15 6.716-15 15s6.716 15 15 15zM81 121.782v47.574c0 8.284 6.716 15 15 15s15-6.716 15-15v-47.574c0-6.497 5.286-11.782 11.782-11.782h47.575c8.284 0 15-6.716 15-15s-6.716-15-15-15h-47.575C99.744 80 81 98.743 81 121.782zM170.357 400h-47.575c-6.497 0-11.782-5.285-11.782-11.782v-47.574c0-8.284-6.716-15-15-15s-15 6.716-15 15v47.574C81 411.257 99.744 430 122.782 430h47.575c8.284 0 15-6.716 15-15s-6.716-15-15-15zM431 388.218v-47.574c0-8.284-6.716-15-15-15s-15 6.716-15 15v47.574c0 6.497-5.286 11.782-11.782 11.782h-47.575c-8.284 0-15 6.716-15 15s6.716 15 15 15h47.575C412.256 430 431 411.257 431 388.218zM1 256c0 8.284 6.716 15 15 15h480c8.284 0 15-6.716 15-15s-6.716-15-15-15H16c-8.284 0-15 6.716-15 15z\"}})]),_c('span',{staticClass:\"u-text\"},[_vm._v(\"二维码\")]),_c('div',{staticClass:\"u-qrcode\"},[_c('qrcode-vue',{staticClass:\"u-pic\",attrs:{\"value\":_vm.value,\"size\":_vm.size,\"level\":\"H\"}}),_c('span',[_vm._v(\"扫一扫即可访问\")])],1)]):(_vm.mode == 'static')?_c('div',{staticClass:\"w-qrcode-static\"},[_c('div',{staticClass:\"u-qrcode\"},[_c('qrcode-vue',{staticClass:\"u-pic\",attrs:{\"value\":_vm.value,\"size\":_vm.size,\"level\":\"H\"}}),_c('span',{staticClass:\"u-txt\"},[_c('svg',{class:'u-icon',attrs:{\"height\":\"512\",\"viewBox\":\"0 0 512 512\",\"width\":\"512\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"d\":\"M456.66 0H385c-8.284 0-15 6.716-15 15s6.716 15 15 15h71.66C470.632 30 482 41.368 482 55.341V127c0 8.284 6.716 15 15 15s15-6.716 15-15V55.341C512 24.826 487.174 0 456.66 0zM15 142c8.284 0 15-6.716 15-15V55.341C30 41.368 41.368 30 55.34 30H127c8.284 0 15-6.716 15-15s-6.716-15-15-15H55.34C24.826 0 0 24.826 0 55.341V127c0 8.284 6.716 15 15 15zM127 482H55.34C41.368 482 30 470.632 30 456.659V385c0-8.284-6.716-15-15-15s-15 6.716-15 15v71.659C0 487.174 24.826 512 55.34 512H127c8.284 0 15-6.716 15-15s-6.716-15-15-15zM497 370c-8.284 0-15 6.716-15 15v71.659C482 470.632 470.632 482 456.66 482H385c-8.284 0-15 6.716-15 15s6.716 15 15 15h71.66c30.515 0 55.34-24.826 55.34-55.341V385c0-8.284-6.716-15-15-15zM341.643 110h47.575c6.497 0 11.782 5.285 11.782 11.782v47.574c0 8.284 6.716 15 15 15s15-6.716 15-15v-47.574C431 98.743 412.256 80 389.218 80h-47.575c-8.284 0-15 6.716-15 15s6.716 15 15 15zM81 121.782v47.574c0 8.284 6.716 15 15 15s15-6.716 15-15v-47.574c0-6.497 5.286-11.782 11.782-11.782h47.575c8.284 0 15-6.716 15-15s-6.716-15-15-15h-47.575C99.744 80 81 98.743 81 121.782zM170.357 400h-47.575c-6.497 0-11.782-5.285-11.782-11.782v-47.574c0-8.284-6.716-15-15-15s-15 6.716-15 15v47.574C81 411.257 99.744 430 122.782 430h47.575c8.284 0 15-6.716 15-15s-6.716-15-15-15zM431 388.218v-47.574c0-8.284-6.716-15-15-15s-15 6.716-15 15v47.574c0 6.497-5.286 11.782-11.782 11.782h-47.575c-8.284 0-15 6.716-15 15s6.716 15 15 15h47.575C412.256 430 431 411.257 431 388.218zM1 256c0 8.284 6.716 15 15 15h480c8.284 0 15-6.716 15-15s-6.716-15-15-15H16c-8.284 0-15 6.716-15 15z\"}})]),_vm._v(\"扫一扫手机访问\")])],1)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"w-qrcode\" @click=\"togglePic\" :class=\"{ on: active }\" v-if=\"mode == 'cms'\">\r\n        <svg height=\"512\" viewBox=\"0 0 512 512\" width=\"512\" xmlns=\"http://www.w3.org/2000/svg\" v-bind:class=\"'u-icon'\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M456.66 0H385c-8.284 0-15 6.716-15 15s6.716 15 15 15h71.66C470.632 30 482 41.368 482 55.341V127c0 8.284 6.716 15 15 15s15-6.716 15-15V55.341C512 24.826 487.174 0 456.66 0zM15 142c8.284 0 15-6.716 15-15V55.341C30 41.368 41.368 30 55.34 30H127c8.284 0 15-6.716 15-15s-6.716-15-15-15H55.34C24.826 0 0 24.826 0 55.341V127c0 8.284 6.716 15 15 15zM127 482H55.34C41.368 482 30 470.632 30 456.659V385c0-8.284-6.716-15-15-15s-15 6.716-15 15v71.659C0 487.174 24.826 512 55.34 512H127c8.284 0 15-6.716 15-15s-6.716-15-15-15zM497 370c-8.284 0-15 6.716-15 15v71.659C482 470.632 470.632 482 456.66 482H385c-8.284 0-15 6.716-15 15s6.716 15 15 15h71.66c30.515 0 55.34-24.826 55.34-55.341V385c0-8.284-6.716-15-15-15zM341.643 110h47.575c6.497 0 11.782 5.285 11.782 11.782v47.574c0 8.284 6.716 15 15 15s15-6.716 15-15v-47.574C431 98.743 412.256 80 389.218 80h-47.575c-8.284 0-15 6.716-15 15s6.716 15 15 15zM81 121.782v47.574c0 8.284 6.716 15 15 15s15-6.716 15-15v-47.574c0-6.497 5.286-11.782 11.782-11.782h47.575c8.284 0 15-6.716 15-15s-6.716-15-15-15h-47.575C99.744 80 81 98.743 81 121.782zM170.357 400h-47.575c-6.497 0-11.782-5.285-11.782-11.782v-47.574c0-8.284-6.716-15-15-15s-15 6.716-15 15v47.574C81 411.257 99.744 430 122.782 430h47.575c8.284 0 15-6.716 15-15s-6.716-15-15-15zM431 388.218v-47.574c0-8.284-6.716-15-15-15s-15 6.716-15 15v47.574c0 6.497-5.286 11.782-11.782 11.782h-47.575c-8.284 0-15 6.716-15 15s6.716 15 15 15h47.575C412.256 430 431 411.257 431 388.218zM1 256c0 8.284 6.716 15 15 15h480c8.284 0 15-6.716 15-15s-6.716-15-15-15H16c-8.284 0-15 6.716-15 15z\"/></svg>\r\n        <span class=\"u-text\">二维码</span>\r\n        <div class=\"u-qrcode\">\r\n            <qrcode-vue class=\"u-pic\" :value=\"value\" :size=\"size\" level=\"H\"></qrcode-vue>\r\n            <span>扫一扫即可访问</span>\r\n        </div>\r\n    </div>\r\n    <div class=\"w-qrcode-static\" v-else-if=\"mode == 'static'\">\r\n        <div class=\"u-qrcode\">\r\n            <qrcode-vue class=\"u-pic\" :value=\"value\" :size=\"size\" level=\"H\"></qrcode-vue>\r\n            <span class=\"u-txt\"><svg height=\"512\" viewBox=\"0 0 512 512\" width=\"512\" xmlns=\"http://www.w3.org/2000/svg\" v-bind:class=\"'u-icon'\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M456.66 0H385c-8.284 0-15 6.716-15 15s6.716 15 15 15h71.66C470.632 30 482 41.368 482 55.341V127c0 8.284 6.716 15 15 15s15-6.716 15-15V55.341C512 24.826 487.174 0 456.66 0zM15 142c8.284 0 15-6.716 15-15V55.341C30 41.368 41.368 30 55.34 30H127c8.284 0 15-6.716 15-15s-6.716-15-15-15H55.34C24.826 0 0 24.826 0 55.341V127c0 8.284 6.716 15 15 15zM127 482H55.34C41.368 482 30 470.632 30 456.659V385c0-8.284-6.716-15-15-15s-15 6.716-15 15v71.659C0 487.174 24.826 512 55.34 512H127c8.284 0 15-6.716 15-15s-6.716-15-15-15zM497 370c-8.284 0-15 6.716-15 15v71.659C482 470.632 470.632 482 456.66 482H385c-8.284 0-15 6.716-15 15s6.716 15 15 15h71.66c30.515 0 55.34-24.826 55.34-55.341V385c0-8.284-6.716-15-15-15zM341.643 110h47.575c6.497 0 11.782 5.285 11.782 11.782v47.574c0 8.284 6.716 15 15 15s15-6.716 15-15v-47.574C431 98.743 412.256 80 389.218 80h-47.575c-8.284 0-15 6.716-15 15s6.716 15 15 15zM81 121.782v47.574c0 8.284 6.716 15 15 15s15-6.716 15-15v-47.574c0-6.497 5.286-11.782 11.782-11.782h47.575c8.284 0 15-6.716 15-15s-6.716-15-15-15h-47.575C99.744 80 81 98.743 81 121.782zM170.357 400h-47.575c-6.497 0-11.782-5.285-11.782-11.782v-47.574c0-8.284-6.716-15-15-15s-15 6.716-15 15v47.574C81 411.257 99.744 430 122.782 430h47.575c8.284 0 15-6.716 15-15s-6.716-15-15-15zM431 388.218v-47.574c0-8.284-6.716-15-15-15s-15 6.716-15 15v47.574c0 6.497-5.286 11.782-11.782 11.782h-47.575c-8.284 0-15 6.716-15 15s6.716 15 15 15h47.575C412.256 430 431 411.257 431 388.218zM1 256c0 8.284 6.716 15 15 15h480c8.284 0 15-6.716 15-15s-6.716-15-15-15H16c-8.284 0-15 6.716-15 15z\"/></svg>扫一扫手机访问</span>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport QrcodeVue from \"qrcode.vue\";\r\nexport default {\r\n    name: \"QRcode\",\r\n    props: [\"href\", \"v\", \"s\"],\r\n    data: function () {\r\n        return {\r\n            value: this.href || location.href,\r\n            size: this.s || 100,\r\n            active: false,\r\n            mode: this.v || \"cms\",\r\n        };\r\n    },\r\n    computed: {},\r\n    methods: {\r\n        togglePic: function (e) {\r\n            e.stopPropagation();\r\n            this.active = !this.active;\r\n        },\r\n    },\r\n    mounted: function () {\r\n        const vm = this;\r\n        document.addEventListener(\"click\", function () {\r\n            vm.active = false;\r\n        });\r\n    },\r\n    components: {\r\n        QrcodeVue,\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"~@/assets/css/common/qrcode.less\";\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./qr-code.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./qr-code.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./qr-code.vue?vue&type=template&id=263e2756\"\nimport script from \"./qr-code.vue?vue&type=script&lang=js\"\nexport * from \"./qr-code.vue?vue&type=script&lang=js\"\nimport style0 from \"./qr-code.vue?vue&type=style&index=0&id=263e2756&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div\r\n        class=\"c-wiki-panel\"\r\n        :class=\"{\r\n            'border-none': borderNone,\r\n            'm-detail-scene': wikiPost || scene === 'detail',\r\n        }\"\r\n    >\r\n        <div class=\"m-panel-head\">\r\n            <slot name=\"head-before\"></slot>\r\n            <div class=\"m-panel-actions\">\r\n                <QRcode v-if=\"wikiPost && showQR\" class=\"u-qr\" />\r\n                <slot name=\"head-actions\"></slot>\r\n            </div>\r\n            <div class=\"m-panel-title\">\r\n                <slot name=\"head-title\"></slot>\r\n            </div>\r\n            <slot name=\"head-after\"></slot>\r\n        </div>\r\n        <div class=\"m-panel-body\">\r\n            <slot name=\"body-before\"></slot>\r\n            <div class=\"m-wiki-metas\" v-if=\"wikiPost && wikiPost.post\">\r\n                <!-- 参与贡献 -->\r\n                <div class=\"u-meta\" v-if=\"wikiPost.users && wikiPost.users.length\">\r\n                    <em class=\"u-label\">参与贡献</em>\r\n                    <a\r\n                        class=\"u-value u-creator\"\r\n                        v-for=\"(user, key) in wikiPost.users\"\r\n                        :key=\"key\"\r\n                        target=\"_blank\"\r\n                        :href=\"user.id ? author_url(user.id) : null\"\r\n                    >\r\n                        <img :src=\"thumbnail_url(user.avatar)\" :alt=\"user.nickname\" :title=\"user.nickname\" />\r\n                    </a>\r\n                </div>\r\n                <!-- 综合难度 -->\r\n                <div class=\"u-meta\" v-if=\"wikiPost.post && wikiPost.post.level\">\r\n                    <em class=\"u-label\">综合难度</em>\r\n                    <span class=\"u-value\">\r\n                        <i class=\"el-icon-star-on\" v-for=\"i in wikiPost.post.level\" :key=\"i\"></i>\r\n                    </span>\r\n                </div>\r\n                <!-- 热度 -->\r\n                <div class=\"u-meta\" v-if=\"stat\">\r\n                    <em class=\"u-label\">热度</em>\r\n                    <span class=\"u-value\" v-text=\"stat.views\"></span>\r\n                </div>\r\n                <!-- 更新时间 -->\r\n                <div class=\"u-meta\" v-if=\"wikiPost.post && wikiPost.post.updated\">\r\n                    <em class=\"u-label\">更新时间</em>\r\n                    <span class=\"u-value\" v-text=\"ts2str(wikiPost.post.updated)\"></span>\r\n                </div>\r\n            </div>\r\n            <slot name=\"body\"></slot>\r\n            <slot name=\"body-after\"></slot>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from \"lodash\";\r\nimport QRcode from \"@/components/common/qr-code\";\r\nimport { authorLink, ts2str, showAvatar } from \"@jx3box/jx3box-common/js/utils\";\r\nimport { getStat } from \"@jx3box/jx3box-common/js/stat\";\r\nexport default {\r\n    name: \"WikiPost\",\r\n    props: {\r\n        wikiPost: {\r\n            type: Object,\r\n            default: null,\r\n        },\r\n        scene: {\r\n            type: String,\r\n            default: \"default\",\r\n        },\r\n        borderNone: {\r\n            type: Boolean,\r\n            default: false,\r\n        },\r\n        showQR: {\r\n            type: Boolean,\r\n            default: true,\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            stat: null,\r\n        };\r\n    },\r\n    watch: {\r\n        wikiPost: {\r\n            immediate: true,\r\n            handler() {\r\n                if (!this.wikiPost) return;\r\n                // 获取热度信息\r\n                if (this.wikiPost.type && this.wikiPost.source_id) {\r\n                    let type = this.wikiPost.type;\r\n                    if (type === \"achievement\") type = \"cj\";\r\n                    getStat(type, this.wikiPost.source_id).then((data) => {\r\n                        if (data.status === 200) this.stat = data.data;\r\n                    });\r\n                }\r\n            },\r\n        },\r\n    },\r\n    methods: {\r\n        author_url: authorLink,\r\n        ts2str,\r\n        thumbnail_url: function (val) {\r\n            return showAvatar(val);\r\n        },\r\n    },\r\n    components: {\r\n        QRcode,\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"~@/assets/css/wiki-panel.less\";\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./wiki-panel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./wiki-panel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./wiki-panel.vue?vue&type=template&id=8c5adb7e\"\nimport script from \"./wiki-panel.vue?vue&type=script&lang=js\"\nexport * from \"./wiki-panel.vue?vue&type=script&lang=js\"\nimport style0 from \"./wiki-panel.vue?vue&type=style&index=0&id=8c5adb7e&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}