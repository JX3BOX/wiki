{"version":3,"sources":["webpack:///./node_modules/@jx3box/jx3box-editor/src/ItemSimple.vue?9a0c","webpack:///./src/components/cj/achievement-single.vue","webpack:///src/components/cj/achievement-single.vue","webpack:///./src/components/cj/achievement-single.vue?2217","webpack:///./src/components/cj/achievement-single.vue?adfb","webpack:///./node_modules/core-js/modules/es.string.repeat.js","webpack:///./src/utils/star.js","webpack:///./src/components/cj/achievement-single.vue?cc3f","webpack:///./node_modules/@jx3box/jx3box-editor/src/ItemSimple.vue","webpack:///./node_modules/@jx3box/jx3box-editor/assets/js/item/icon_url.js","webpack:///./node_modules/@jx3box/jx3box-editor/assets/js/item/border.js","webpack:///./node_modules/@jx3box/jx3box-editor/assets/js/item/border_quest.js","webpack:///node_modules/@jx3box/jx3box-editor/src/ItemSimple.vue","webpack:///./node_modules/@jx3box/jx3box-editor/src/ItemSimple.vue?c495","webpack:///./node_modules/@jx3box/jx3box-editor/src/ItemSimple.vue?42c9","webpack:///./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","webpack:///./node_modules/@jx3box/jx3box-editor/src/ItemSimple.vue?3519"],"names":["render","_vm","this","_c","_self","hasContent","staticClass","class","fold","hidden","isHidden","attrs","targetable","domProps","_s","achievement","Name","on","$event","url_filter","ID","post","ts2str","updated","star","level","isVirtual","_e","completed","_v","showFavorite","favTitle","icon_url","IconID","target","src","apply","arguments","Desc","Item","Point","Prefix","Postfix","PrefixName","PostfixName","SubAchievementList","_l","sub_achievement","key","Visible","name","params","source_id","SeriesAchievementList","series_achievement","description_filter","ShortDesc","empty","disable","staticRenderFns","props","computed","client","$store","state","Object","keys","length","currentRole","role","completeAchievements","achievements","includes","isLogin","User","_this$achievement","_this$currentRole","jx3id","onlyUncompleted","methods","id","iconLink","jump","scroll_tops","$route","document","documentElement","scrollTop","$router","push","value","matchs","exec","trim","replace","finish","_this","toLogin","list","_toConsumableArray","Set","concat","updateRoleAchievements","then","res","$notify","title","message","type","commit","data","$alert","confirmButtonText","components","ItemSimple","component","$","repeat","proto","item","item_id","model","visible","callback","$$v","expression","onlyIcon","withName","slot","style","backgroundImage","item_border","opacity","Quality","item_border_quest","width","iconSize","height","color","item_color","jx3ClientType","__imgPath","__iconPath","isNaN","parseInt","icon_id","IsQuest","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","unsupportedIterableToArray","i","F","s","n","done","e","f","TypeError","err","normalCompletion","didErr","call","step","next","_e2"],"mappings":"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","file":"js/chunk-b158abba.98dd8e5b.js","sourcesContent":["export * from \"-!../../../mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../cache-loader/dist/cjs.js??ref--1-0!../../../vue-loader/lib/index.js??vue-loader-options!../../../vue-svg-inline-loader/dist/index.min.js!./ItemSimple.vue?vue&type=style&index=0&id=30b96f9a&prod&lang=less\"","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.hasContent)?_c('div',{staticClass:\"m-achievement-single\",class:{ fold: _vm.fold, hidden: _vm.isHidden }},[_c('div',{staticClass:\"u-header\"},[_c('a',{staticClass:\"u-title\",attrs:{\"target\":_vm.targetable},domProps:{\"textContent\":_vm._s(_vm.achievement.Name)},on:{\"click\":function($event){return _vm.url_filter(_vm.achievement.ID)}}}),_c('div',{staticClass:\"u-other\"},[_c('span',{staticClass:\"u-attr\",domProps:{\"textContent\":_vm._s(_vm.achievement.post ? '修订时间：' + _vm.ts2str(_vm.achievement.post.updated) : '')}}),_c('span',{staticClass:\"u-attr\",domProps:{\"textContent\":_vm._s(_vm.achievement.post ? '综合难度：' + _vm.star(_vm.achievement.post.level) : '')}}),(!_vm.isVirtual)?_c('el-button',{staticClass:\"u-attr u-fav u-complete-status\",attrs:{\"type\":_vm.completed ? 'info' : 'warning',\"plain\":\"\",\"size\":\"mini\",\"icon\":_vm.completed ? 'el-icon-check' : 'el-icon-close'}},[_vm._v(_vm._s(_vm.completed ? \"已完成\" : \"未完成\"))]):_vm._e(),(_vm.showFavorite)?_c('Fav',{staticClass:\"u-attr u-fav\",attrs:{\"post-type\":\"achievement\",\"post-title\":_vm.favTitle,\"post-id\":_vm.achievement.ID}}):_vm._e()],1)]),_c('div',{staticClass:\"u-body\"},[_c('div',{staticClass:\"u-left\",on:{\"click\":function($event){return _vm.url_filter(_vm.achievement.ID)}}},[_c('div',{staticClass:\"u-attr u-icon\"},[_c('img',{attrs:{\"src\":_vm.icon_url(_vm.achievement.IconID)},on:{\"~error\":function($event){return (() => {\n                            $event.target.src = _vm.icon_url();\n                        }).apply(null, arguments)}}})]),_c('div',{staticClass:\"u-attr u-desc\",domProps:{\"innerHTML\":_vm._s(_vm.achievement.Desc)}})]),_c('div',{staticClass:\"u-right\"},[_c('item-simple',{staticClass:\"u-attr u-item-simple\",attrs:{\"item\":_vm.achievement.Item,\"only-icon\":\"true\",\"icon-size\":'36px'}}),_c('div',{staticClass:\"u-attr u-point\",domProps:{\"textContent\":_vm._s(_vm.achievement.Point ? _vm.achievement.Point : 0)}})],1)]),_c('div',{staticClass:\"u-footer\"},[(_vm.achievement.Prefix || _vm.achievement.Postfix)?_c('div',{staticClass:\"u-ch\"},[(_vm.achievement.PrefixName)?_c('div',{domProps:{\"textContent\":_vm._s('称号前缀：' + _vm.achievement.PrefixName)}}):_vm._e(),(_vm.achievement.PostfixName)?_c('div',{domProps:{\"textContent\":_vm._s('称号后缀：' + _vm.achievement.PostfixName)}}):_vm._e()]):_vm._e(),(_vm.achievement.SubAchievementList)?_c('el-row',{staticClass:\"u-subs\",attrs:{\"gutter\":30}},_vm._l((_vm.achievement.SubAchievementList),function(sub_achievement,key){return _c('el-col',{key:key,staticClass:\"u-sub\",attrs:{\"xs\":12,\"sm\":8,\"md\":8}},[_c('router-link',{attrs:{\"to\":sub_achievement.Visible == 1\n                            ? {\n                                  name: 'view',\n                                  params: { source_id: sub_achievement.ID },\n                              }\n                            : {},\"target\":\"_blank\"}},[_c('img',{staticClass:\"u-icon\",attrs:{\"src\":_vm.icon_url(sub_achievement.IconID)}}),_c('span',{domProps:{\"textContent\":_vm._s(sub_achievement.Name)}})])],1)}),1):_vm._e(),(_vm.achievement.SeriesAchievementList)?_c('div',{staticClass:\"u-seriess\"},_vm._l((_vm.achievement.SeriesAchievementList),function(series_achievement,key){return _c('div',{key:key,staticClass:\"u-series\",class:series_achievement.ID == _vm.achievement.ID ? 'active' : ''},[_c('router-link',{attrs:{\"to\":{\n                        name: 'view',\n                        params: { source_id: series_achievement.ID },\n                    }}},[_c('img',{staticClass:\"u-icon\",attrs:{\"src\":_vm.icon_url(series_achievement.IconID)}}),_c('div',{staticClass:\"detail\"},[_c('h4',{domProps:{\"textContent\":_vm._s(series_achievement.Name)}}),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.description_filter(series_achievement.ShortDesc))}})])])],1)}),0):_vm._e()],1),(!_vm.empty)?_c('div',{staticClass:\"u-expand\",class:{ disable: _vm.empty },on:{\"click\":function($event){_vm.fold = !_vm.fold}}},[_c('hr'),_c('i',{staticClass:\"u-icon el-icon-caret-top\"}),_c('i',{staticClass:\"u-icon el-icon-caret-bottom\"})]):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-achievement-single\" :class=\"{ fold: fold, hidden: isHidden }\" v-if=\"hasContent\">\n        <div class=\"u-header\">\n            <a class=\"u-title\" :target=\"targetable\" @click=\"url_filter(achievement.ID)\" v-text=\"achievement.Name\"></a>\n            <div class=\"u-other\">\n                <span\n                    class=\"u-attr\"\n                    v-text=\"achievement.post ? '修订时间：' + ts2str(achievement.post.updated) : ''\"\n                ></span>\n                <span\n                    class=\"u-attr\"\n                    v-text=\"achievement.post ? '综合难度：' + star(achievement.post.level) : ''\"\n                ></span>\n                <!-- <el-button\n                    class=\"u-attr u-fav\"\n                    :type=\"completed ? 'info' : 'success'\"\n                    plain\n                    size=\"mini\"\n                    icon=\"el-icon-check\"\n                    @click.stop=\"finish\"\n                    :disabled=\"completed\"\n                    >{{ completed ? \"已完成\" : \"完成\" }}</el-button\n                > -->\n                <el-button\n                    v-if=\"!isVirtual\"\n                    class=\"u-attr u-fav u-complete-status\"\n                    :type=\"completed ? 'info' : 'warning'\"\n                    plain\n                    size=\"mini\"\n                    :icon=\"completed ? 'el-icon-check' : 'el-icon-close'\"\n                    >{{ completed ? \"已完成\" : \"未完成\" }}</el-button\n                >\n                <Fav\n                    v-if=\"showFavorite\"\n                    class=\"u-attr u-fav\"\n                    post-type=\"achievement\"\n                    :post-title=\"favTitle\"\n                    :post-id=\"achievement.ID\"\n                />\n            </div>\n        </div>\n        <div class=\"u-body\">\n            <div class=\"u-left\" @click=\"url_filter(achievement.ID)\">\n                <div class=\"u-attr u-icon\">\n                    <img\n                        :src=\"icon_url(achievement.IconID)\"\n                        @error.once=\"\n                            () => {\n                                $event.target.src = icon_url();\n                            }\n                        \"\n                    />\n                </div>\n                <div class=\"u-attr u-desc\" v-html=\"achievement.Desc\"></div>\n            </div>\n            <div class=\"u-right\">\n                <item-simple\n                    class=\"u-attr u-item-simple\"\n                    :item=\"achievement.Item\"\n                    only-icon=\"true\"\n                    :icon-size=\"'36px'\"\n                />\n                <div class=\"u-attr u-point\" v-text=\"achievement.Point ? achievement.Point : 0\"></div>\n            </div>\n        </div>\n        <div class=\"u-footer\">\n            <div v-if=\"achievement.Prefix || achievement.Postfix\" class=\"u-ch\">\n                <div v-if=\"achievement.PrefixName\" v-text=\"'称号前缀：' + achievement.PrefixName\"></div>\n                <div v-if=\"achievement.PostfixName\" v-text=\"'称号后缀：' + achievement.PostfixName\"></div>\n            </div>\n            <el-row v-if=\"achievement.SubAchievementList\" class=\"u-subs\" :gutter=\"30\">\n                <el-col\n                    v-for=\"(sub_achievement, key) in achievement.SubAchievementList\"\n                    :key=\"key\"\n                    :xs=\"12\"\n                    :sm=\"8\"\n                    :md=\"8\"\n                    class=\"u-sub\"\n                >\n                    <router-link\n                        :to=\"\n                            sub_achievement.Visible == 1\n                                ? {\n                                      name: 'view',\n                                      params: { source_id: sub_achievement.ID },\n                                  }\n                                : {}\n                        \"\n                        target=\"_blank\"\n                    >\n                        <img class=\"u-icon\" :src=\"icon_url(sub_achievement.IconID)\" />\n                        <span v-text=\"sub_achievement.Name\"></span>\n                    </router-link>\n                </el-col>\n            </el-row>\n            <div v-if=\"achievement.SeriesAchievementList\" class=\"u-seriess\">\n                <div\n                    v-for=\"(series_achievement, key) in achievement.SeriesAchievementList\"\n                    class=\"u-series\"\n                    :key=\"key\"\n                    :class=\"series_achievement.ID == achievement.ID ? 'active' : ''\"\n                >\n                    <router-link\n                        :to=\"{\n                            name: 'view',\n                            params: { source_id: series_achievement.ID },\n                        }\"\n                    >\n                        <img class=\"u-icon\" :src=\"icon_url(series_achievement.IconID)\" />\n                        <div class=\"detail\">\n                            <h4 v-text=\"series_achievement.Name\"></h4>\n                            <p v-html=\"description_filter(series_achievement.ShortDesc)\"></p>\n                        </div>\n                    </router-link>\n                </div>\n            </div>\n        </div>\n        <div class=\"u-expand\" v-if=\"!empty\" :class=\"{ disable: empty }\" @click=\"fold = !fold\">\n            <hr />\n            <i class=\"u-icon el-icon-caret-top\"></i>\n            <i class=\"u-icon el-icon-caret-bottom\"></i>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { ts2str, iconLink } from \"@jx3box/jx3box-common/js/utils\";\nimport Fav from \"@jx3box/jx3box-common-ui/src/interact/Fav.vue\";\nimport ItemSimple from \"@jx3box/jx3box-editor/src/ItemSimple.vue\";\nimport star from \"@/utils/star\";\nimport { updateRoleAchievements } from \"@/service/achievement\";\nimport User from \"@jx3box/jx3box-common/js/user\";\n\nexport default {\n    name: \"AchievementSingle\",\n    props: [\"achievement\", \"fold\", \"target\", \"jump\", \"showFavorite\"],\n    computed: {\n        empty() {\n            return !(\n                this.achievement.Prefix ||\n                this.achievement.Postfix ||\n                this.achievement.SubAchievementList ||\n                this.achievement.SeriesAchievementList\n            );\n        },\n        targetable() {\n            return this.target || typeof this.target !== \"undefined\" ? this.target : \"\";\n        },\n        client: function () {\n            return this.$store.state.client;\n        },\n        hasContent: function () {\n            return this.achievement && Object.keys(this.achievement).length;\n        },\n        currentRole() {\n            return this.$store.state.role;\n        },\n        completeAchievements() {\n            return this.$store.state.achievements;\n        },\n        completed() {\n            return this.completeAchievements.includes(this.achievement.ID + \"\");\n        },\n        isLogin() {\n            return User.isLogin();\n        },\n        favTitle: function () {\n            return this.achievement?.Name;\n        },\n        isVirtual() {\n            // 是否是虚拟角色 - 魔盒账号\n            return !this.currentRole?.jx3id;\n        },\n        onlyUncompleted() {\n            return this.$store.state.onlyUncompleted;\n        },\n        isHidden() {\n            return this.onlyUncompleted && this.completed;\n        },\n    },\n    methods: {\n        ts2str,\n        star,\n        icon_url: function (id) {\n            return iconLink(id, this.client);\n        },\n        url_filter(source_id) {\n            if (this.jump === true || typeof this.jump === \"undefined\") {\n                this.$store.state.scroll_tops[this.$route.name] = document.documentElement.scrollTop;\n                this.$router.push({\n                    name: \"view\",\n                    params: { source_id: source_id },\n                });\n            }\n        },\n        // 描述过滤\n        description_filter(value) {\n            let matchs = /text=\"(.*?)(\\\\\\\\\\\\n)?\"/.exec(value);\n            if (matchs && matchs.length > 1) value = matchs[1].trim();\n            if (value) value = value.replace(/\\\\n/g, \"<br>\");\n            return value;\n        },\n        finish() {\n            if (!this.isLogin) {\n                User.toLogin();\n            }\n\n            if (!this.currentRole) {\n                this.$alert(\"请先在侧边栏选择一个关联的角色\", \"警告\", {\n                    confirmButtonText: \"确定\",\n                });\n                return;\n            }\n\n            const list = [...new Set([...this.completeAchievements, this.achievement.ID])];\n\n            updateRoleAchievements(this.currentRole.ID, list).then((res) => {\n                this.$notify({\n                    title: \"操作成功\",\n                    message: \"已将该成就标记为已完成\",\n                    type: \"success\",\n                });\n                this.$store.commit(\"SET_STATE\", { key: \"achievements\", value: res.data.data.list });\n            });\n        },\n    },\n    components: {\n        \"item-simple\": ItemSimple,\n        // Fav,\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/cj/achievement.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./achievement-single.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./achievement-single.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./achievement-single.vue?vue&type=template&id=202ae22d\"\nimport script from \"./achievement-single.vue?vue&type=script&lang=js\"\nexport * from \"./achievement-single.vue?vue&type=script&lang=js\"\nimport style0 from \"./achievement-single.vue?vue&type=style&index=0&id=202ae22d&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar repeat = require('../internals/string-repeat');\n\n// `String.prototype.repeat` method\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\n$({ target: 'String', proto: true }, {\n  repeat: repeat\n});\n","/**\n * Star\n * @param {*} level 综合难度\n */\n\nexport default (level) => {\n    return \"⭐️\".repeat(level ? level : 1);\n}\n\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./achievement-single.vue?vue&type=style&index=0&id=202ae22d&prod&lang=less\"","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.item)?_c('el-popover',{attrs:{\"placement\":\"right-end\",\"popper-class\":\"m-simple-item-popup\",\"width\":\"auto\",\"visible-arrow\":false,\"trigger\":\"hover\",\"transition\":\"none\",\"close-delay\":0},on:{\"show\":function($event){_vm.item_id = _vm.item.id}},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('div',{staticClass:\"m-simple-item\",class:{ onlyIcon: _vm.onlyIcon, withName: _vm.withName },attrs:{\"slot\":\"reference\"},on:{\"mousedown\":function($event){_vm.visible = false}},slot:\"reference\"},[_c('div',{staticClass:\"m-icon\"},[_c('div',{staticClass:\"u-border\",style:({\n                    backgroundImage: _vm.item_border(_vm.item),\n                    opacity: _vm.item.Quality == 5 ? 0.9 : 1,\n                })}),_c('div',{staticClass:\"u-border-quest\",style:({ backgroundImage: _vm.item_border_quest(_vm.item) })}),_c('img',{staticClass:\"u-icon\",style:({ width: _vm.iconSize, height: _vm.iconSize }),attrs:{\"src\":_vm.icon_url(_vm.item.IconID),\"alt\":`IconID:${_vm.item.IconID}`}})]),_c('span',{staticClass:\"u-name\",style:({ color: _vm.item_color(_vm.item.Quality) }),domProps:{\"textContent\":_vm._s(_vm.item.Name)}}),_c('span',{staticClass:\"u-uiid fr\",domProps:{\"textContent\":_vm._s(`ID: ${_vm.item.id}`)}})]),_c('jx3-item',{attrs:{\"item_id\":_vm.item_id,\"jx3-client-type\":_vm.jx3ClientType}})],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * IconID 转 URL\n *\n * @param {*} icon_id IconID\n */\nconst {__imgPath, __iconPath} = require(\"@jx3box/jx3box-common/data/jx3box.json\");\n\nexport default (icon_id) => {\n    if (isNaN(parseInt(icon_id))) {\n        return `${__imgPath}image/common/nullicon.png`;\n    } else {\n        return `${__iconPath}icon/${icon_id}.png`;\n    }\n};\n","/**\n * border\n * @param {*} item 物品对象\n */\nconst {__imgPath} = require(\"@jx3box/jx3box-common/data/jx3box.json\");\n\nexport default (item) => {\n    switch (item.Quality) {\n        case 3:\n            return `url(${__imgPath}image/item/blue.png)`;\n        case 4:\n            return `url(${__imgPath}image/item/purple.png)`;\n        case 5 :\n            return `url(${__imgPath}image/item/orange.gif)`;\n        default:\n            return '';\n    }\n}\n\n","/**\n * border_quest\n * @param {*} item 物品对象\n */\nconst {__imgPath} = require(\"@jx3box/jx3box-common/data/jx3box.json\");\n\nexport default (item) => {\n    if (item.IsQuest > 0) return `url(${__imgPath}image/item/renwu.png)`;\n    return '';\n}\n\n","<template>\n    <el-popover\n        v-if=\"item\"\n        placement=\"right-end\"\n        popper-class=\"m-simple-item-popup\"\n        width=\"auto\"\n        :visible-arrow=\"false\"\n        trigger=\"hover\"\n        transition=\"none\"\n        :close-delay=\"0\"\n        v-model=\"visible\"\n        @show=\"item_id = item.id\"\n    >\n        <div\n            class=\"m-simple-item\"\n            slot=\"reference\"\n            @mousedown=\"visible = false\"\n            :class=\"{ onlyIcon: onlyIcon, withName: withName }\"\n        >\n            <div class=\"m-icon\">\n                <div\n                    class=\"u-border\"\n                    :style=\"{\n                        backgroundImage: item_border(item),\n                        opacity: item.Quality == 5 ? 0.9 : 1,\n                    }\"\n                ></div>\n                <div\n                    class=\"u-border-quest\"\n                    :style=\"{ backgroundImage: item_border_quest(item) }\"\n                ></div>\n                <img\n                    class=\"u-icon\"\n                    :src=\"icon_url(item.IconID)\"\n                    :alt=\"`IconID:${item.IconID}`\"\n                    :style=\"{ width: iconSize, height: iconSize }\"\n                />\n            </div>\n            <span\n                class=\"u-name\"\n                :style=\"{ color: item_color(item.Quality) }\"\n                v-text=\"item.Name\"\n            ></span>\n            <span class=\"u-uiid fr\" v-text=\"`ID: ${item.id}`\"></span>\n        </div>\n        <jx3-item :item_id=\"item_id\" :jx3-client-type=\"jx3ClientType\" />\n    </el-popover>\n</template>\n\n<script>\nimport Item from \"./Item\";\nimport icon_url from \"../assets/js/item/icon_url.js\";\nimport item_color from \"../assets/js/item/color.js\";\nimport item_border from \"../assets/js/item/border.js\";\nimport item_border_quest from \"../assets/js/item/border_quest.js\";\n\nexport default {\n    name: \"ItemSimple\",\n    props: [\"item\", \"onlyIcon\", \"iconSize\", \"withName\", \"jx3ClientType\"],\n    data() {\n        return { visible: false, item_id: null };\n    },\n    methods: {\n        icon_url,\n        item_color,\n        item_border,\n        item_border_quest,\n    },\n    components: {\n        \"jx3-item\": Item,\n    },\n};\n</script>\n\n<style lang=\"less\">\n.m-simple-item-popup {\n    min-width: initial;\n    padding: 0;\n    border: none;\n    box-shadow: none;\n    background-color: transparent;\n    transform: translateY(-10px);\n}\n\n.m-simple-item {\n    .u-border {\n        background-repeat: no-repeat;\n    }\n    &.onlyIcon {\n        .dbi;\n        padding: 0;\n        margin: 0;\n        background-color: none;\n        .u-name,\n        .u-uiid {\n            .none !important;\n        }\n        .m-icon {\n            margin: 0 !important;\n        }\n    }\n    &.withName {\n        background: none;\n        .w(90px);\n        .x;\n        .u-name {\n            .db !important;\n            color: #555;\n            text-shadow: none;\n            .mt(5px);\n            .bold;\n        }\n    }\n}\n</style>\n<style lang=\"less\">\n@import \"../assets/css/module/item_simple.less\";\n</style>\n","import mod from \"-!../../../cache-loader/dist/cjs.js??ref--13-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--1-0!../../../vue-loader/lib/index.js??vue-loader-options!../../../vue-svg-inline-loader/dist/index.min.js!./ItemSimple.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../cache-loader/dist/cjs.js??ref--13-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--1-0!../../../vue-loader/lib/index.js??vue-loader-options!../../../vue-svg-inline-loader/dist/index.min.js!./ItemSimple.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ItemSimple.vue?vue&type=template&id=30b96f9a\"\nimport script from \"./ItemSimple.vue?vue&type=script&lang=js\"\nexport * from \"./ItemSimple.vue?vue&type=script&lang=js\"\nimport style0 from \"./ItemSimple.vue?vue&type=style&index=0&id=30b96f9a&prod&lang=less\"\nimport style1 from \"./ItemSimple.vue?vue&type=style&index=1&id=30b96f9a&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","export * from \"-!../../../mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../cache-loader/dist/cjs.js??ref--1-0!../../../vue-loader/lib/index.js??vue-loader-options!../../../vue-svg-inline-loader/dist/index.min.js!./ItemSimple.vue?vue&type=style&index=1&id=30b96f9a&prod&lang=less\""],"sourceRoot":""}